{"version":3,"file":"Page.a8e6f93f.js","sources":["../../../../../../node_modules/@primocms/builder/dist/ui/misc/Spinner.svelte","../../../../../../node_modules/@primocms/builder/dist/views/editor/Layout/BlockToolbar.svelte","../../../../../../node_modules/@primocms/builder/dist/views/editor/Layout/LockedOverlay.svelte","../../../../../../node_modules/@primocms/builder/dist/views/editor/Page.svelte"],"sourcesContent":["<script>\n  import { fade } from 'svelte/transition'\n</script>\n\n<svg in:fade xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\" />\n  <path\n    fill=\"currentColor\"\n    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  />\n</svg>\n\n<style>\n  svg {\n    width: var(--Spinner-size, 2rem);\n    height: var(--Spinner-size, 2rem);\n    margin-top: var(--Spinner-mt, 0);\n    margin-bottom: var(--Spinner-mb, 0);\n    margin-right: var(--Spinner-mr, 0);\n    margin-left: var(--Spinner-ml, 0);\n    animation: spin 1s linear infinite;\n    color: var(--color-white);\n  }\n\n    svg circle {\n      opacity: 0.25;\n    }\n\n    svg path {\n      opacity: 0.75;\n    }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }</style>\n","<script>\n\timport { browser } from '$app/environment'\n\timport { createEventDispatcher, getContext } from 'svelte'\n\timport { fade } from 'svelte/transition'\n\timport sections from '../../../stores/data/sections.js'\n\timport { userRole } from '../../../stores/app/misc'\n\timport { click_to_copy } from '../../../utilities'\n\timport Icon from '@iconify/svelte'\n\n\tconst dispatch = createEventDispatcher()\n\n\texport let id\n\texport let i\n\texport let node = null\n\n\t$: isFirst = i === 0\n\t$: isLast = i === $sections.length - 1\n\n\tlet DEBUGGING\n\tif (browser) DEBUGGING = getContext('DEBUGGING')\n</script>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<!-- svelte-ignore a11y-mouse-events-have-key-events -->\n<div in:fade={{ duration: 100 }} class=\"block-buttons primo-reset\" bind:this={node}>\n\t<div class=\"top\">\n\t\t<div class=\"component-button\">\n\t\t\t<button on:click={() => dispatch('edit-content')}>\n\t\t\t\t<Icon icon=\"material-symbols:edit-square-outline-rounded\" />\n\t\t\t</button>\n\t\t\t{#if $userRole === 'DEV'}\n\t\t\t\t<button on:click={() => dispatch('edit-code')}>\n\t\t\t\t\t<Icon icon=\"ph:code-bold\" />\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t\t{#if DEBUGGING}\n\t\t\t\t<button class=\"block-id\" use:click_to_copy>\n\t\t\t\t\t{id}\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t\t<div class=\"top-right\">\n\t\t\t<button on:click={() => dispatch('delete')} class=\"button-delete\">\n\t\t\t\t<Icon icon=\"ion:trash\" />\n\t\t\t</button>\n\t\t\t<button on:click={() => dispatch('duplicate')}>\n\t\t\t\t<Icon icon=\"ion:duplicate\" />\n\t\t\t</button>\n\t\t\t{#if !isFirst}\n\t\t\t\t<button on:click={() => dispatch('moveUp')}>\n\t\t\t\t\t<Icon icon=\"heroicons-outline:chevron-up\" />\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\t<div class=\"bottom\">\n\t\t{#if !isLast}\n\t\t\t<button class=\"bottom-right\" on:click={() => dispatch('moveDown')}>\n\t\t\t\t<Icon icon=\"heroicons-outline:chevron-down\" />\n\t\t\t</button>\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.block-buttons {\n\t\tbox-shadow: inset 0 0 0 calc(4px) var(--color-gray-8);\n\t\tz-index: 999999;\n\t\tposition: fixed;\n\t\tpointer-events: none;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tflex-direction: column;\n\t}\n\t.component-button {\n\t\tdisplay: flex;\n\t\tleft: 0px;\n\t}\n\t.component-button button:last-child {\n\t\t\tborder-bottom-right-radius: 0.25rem;\n\t\t}\n\n\t.top-right {\n\t\tdisplay: flex;\n\t}\n\n\t.block-id {\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tpadding: 0.25rem 0.5rem;\n\t\tpointer-events: all;\n\t\tbackground: rgba(0, 0, 0, 0.9);\n\t\tcolor: white;\n\t\tfont-size: 0.75rem;\n\t}\n\n\t.button-delete {\n\t\tborder-bottom-left-radius: 0.25rem;\n\t\tpadding-left: 0.75rem;\n\t\tpadding-right: 0.75rem;\n\t}\n\n\tbutton {\n\t\tpointer-events: all;\n\t\tpadding: 0 1rem;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 2rem;\n\t\t/* color: var(--primo-color-white); */\n\t\t/* background-color: var(--primo-color-black-opaque); */\n\t\tbackground: #1f1f1f;\n\t\tcolor: #cecece;\n\n\t\tfont-size: var(--font-size-2);\n\t\tfont-weight: 500;\n\t\ttransition: background-color 0.1s, color 0.1s;\n\t\tbox-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000),\n\t\t\t0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n\t}\n\n\tbutton:hover {\n\t\t\tz-index: 1; /* show full shadow */\n\t\t\t/* box-shadow: var(--primo-ring-primogreen); */\n\t\t\t/* background: var(--primo-color-brand); */\n\t\t\t/* color: var(--colr-gray-9); */\n\t\t\tbackground: #292929;\n\t\t\tcolor: #E7E7E7l;\n\t\t}\n\tbutton:focus {\n\t\toutline: 2px solid transparent;\n\t\toutline-offset: 2px;\n\t}\n\n\t.top {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\t/* position: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0; */\n\t}\n\t.bottom {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\t/* width: 100%; */\n\t\t/* bottom: 0px;\n\t\tright: 0px;\n\t\tposition: absolute; */\n\t}</style>\n","<script>\n\timport { fade } from 'svelte/transition'\n\timport Icon from '@iconify/svelte'\n\n\texport let locked\n</script>\n\n<div class=\"locked-overlay primo-reset\" transition:fade={{ duration: 200 }}>\n\t<Icon icon=\"carbon:locked\" />\n\t<span>Being edited by {locked.user}</span>\n</div>\n\n<style>\n\t.locked-overlay {\n\t\tcolor: var(--color-gray-1);\n\t\tbox-shadow: inset 0 0 0 calc(4px) var(--color-gray-8);\n\t\tz-index: 999999;\n\t\tposition: absolute;\n\t\tinset: 0px;\n\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 0.25rem;\n\t}</style>\n","<script>\n\timport _ from 'lodash-es'\n\timport { tick } from 'svelte'\n\timport { fade } from 'svelte/transition'\n\timport { flip } from 'svelte/animate'\n\timport ComponentNode from './Layout/ComponentNode.svelte'\n\timport BlockToolbar from './Layout/BlockToolbar.svelte'\n\timport LockedOverlay from './Layout/LockedOverlay.svelte'\n\timport { dndzone, SHADOW_ITEM_MARKER_PROPERTY_NAME } from 'svelte-dnd-action'\n\timport { afterNavigate } from '$app/navigation'\n\timport { isEqual, cloneDeep } from 'lodash-es'\n\timport Spinner from '../../ui/misc/Spinner.svelte'\n\timport { code as siteCode } from '../../stores/data/site'\n\timport { locale, locked_blocks, showingIDE } from '../../stores/app/misc'\n\timport { active_page } from '../../stores/actions'\n\timport modal from '../../stores/app/modal'\n\timport {\n\t\tid as pageID,\n\t\tname as pageName,\n\t\turl as pageURL,\n\t\tfields as pageFields,\n\t\tcode as pageCode,\n\t\tcontent as pageContent\n\t} from '../../stores/app/activePage'\n\timport sections from '../../stores/data/sections'\n\timport symbols from '../../stores/data/symbols'\n\timport { processCode, processCSS, wrapInStyleTags } from '../../utils'\n\timport { getPageData } from '../../stores/helpers'\n\timport { realtimeChanged } from '../../database'\n\n\texport let page\n\n\tlet html_head = ''\n\tlet html_below = ''\n\n\t$: set_page_content(page)\n\tset_page_content(page)\n\tasync function set_page_content(page_data) {\n\t\t// if (!page_data) return\n\t\t// await tick()\n\t\t$sections = page_data.sections\n\n\t\t$pageID = page_data.id\n\t\t$pageName = page_data.name\n\t\t$pageURL = page_data.url\n\t\t$pageFields = page_data.fields\n\t\t$pageCode = page_data.code\n\t\t$pageContent = page_data.content\n\t}\n\n\tconst cached = { pageCode: null, siteCode: null }\n\tlet latest_run\n\t$: set_page_html($pageCode, $siteCode)\n\tasync function set_page_html(pageCode, siteCode) {\n\t\tif (isEqual(pageCode, cached.pageCode) && isEqual(siteCode, cached.siteCode)) return\n\n\t\tconst this_run = Date.now()\n\n\t\tcached.pageCode = cloneDeep(pageCode)\n\t\tcached.siteCode = cloneDeep(siteCode)\n\t\tconst css = await processCSS(siteCode.css + pageCode.css)\n\n\t\t// workaround to prevent older css from overwriting newer css\n\t\tif (latest_run > this_run) return\n\t\tlatest_run = this_run\n\n\t\tconst data = getPageData({})\n\t\tconst [head, below] = await Promise.all([\n\t\t\tprocessCode({\n\t\t\t\tcomponent: {\n\t\t\t\t\thtml: `<svelte:head>\n            ${siteCode.html.head}${pageCode.html.head}\n            ${wrapInStyleTags(css)}\n          </svelte:head>`,\n\t\t\t\t\tcss: '',\n\t\t\t\t\tjs: '',\n\t\t\t\t\tdata\n\t\t\t\t}\n\t\t\t}),\n\t\t\tprocessCode({\n\t\t\t\tcomponent: {\n\t\t\t\t\thtml: siteCode.html.below + pageCode.html.below,\n\t\t\t\t\tcss: '',\n\t\t\t\t\tjs: '',\n\t\t\t\t\tdata\n\t\t\t\t}\n\t\t\t})\n\t\t])\n\t\tif (!head.error) {\n\t\t\tappend_to_head(head.head)\n\t\t} else {\n\t\t\tconsole.warn(head.error)\n\t\t}\n\t\t// html_below = !below.error ? below.html : ''\n\t}\n\n\t// Fade in page when all components mounted\n\tlet page_mounted = false\n\t$: page_is_empty = $sections.length === 0\n\n\t// detect when all sections are mounted\n\tlet sections_mounted = 0\n\t$: if (sections_mounted === $sections.length && sections_mounted !== 0) {\n\t\tpage_mounted = true\n\t}\n\n\tafterNavigate(() => {\n\t\tpage_mounted = false\n\t\tsections_mounted = 0\n\t})\n\n\tasync function lock_block(block_id) {\n\t\trealtimeChanged({\n\t\t\tactive_block: block_id\n\t\t})\n\t}\n\n\tfunction unlock_block() {\n\t\t// workaround to prevent issue when unlocking immediately before locking when switching from one block to another\n\t\tsetTimeout(() => {\n\t\t\trealtimeChanged({\n\t\t\t\tactive_block: null\n\t\t\t})\n\t\t}, 100)\n\t}\n\n\tlet draggable_sections = $sections.map((s) => ({ ...s, _drag_id: s.id }))\n\t$: refresh_sections($sections)\n\tasync function refresh_sections(_) {\n\t\tdraggable_sections = $sections.map((s) => ({ ...s, _drag_id: s.id }))\n\t}\n\n\tconst flipDurationMs = 100\n\n\tlet dragged_symbol = null\n\tfunction consider_dnd({ detail }) {\n\t\tdragged_symbol = detail.items\n\t\t\t.map((item, index) => ({ ...item, index }))\n\t\t\t.find((item) => item.isDndShadowItem)\n\n\t\tconsole.log({ detail, dragged_symbol })\n\n\t\tif (!dragged_symbol) return\n\n\t\tconst is_site_symbol = $symbols.some((s) => s.id === dragged_symbol.id)\n\t\tif (is_site_symbol) {\n\t\t\tconsole.log('Site symbol')\n\t\t\tdraggable_sections = detail.items\n\t\t} else {\n\t\t\tconsole.log('Primo symbol')\n\t\t\tdragged_symbol.is_primo_block = true\n\t\t\tdraggable_sections = detail.items.map((item) => {\n\t\t\t\tif (item[SHADOW_ITEM_MARKER_PROPERTY_NAME]) {\n\t\t\t\t\t// currently dragged item\n\t\t\t\t\tconsole.log('adding primo symbol', item)\n\t\t\t\t\treturn { ...item, primo_symbol: item }\n\t\t\t\t} else return item\n\t\t\t})\n\t\t}\n\t}\n\n\tasync function finalize_dnd() {\n\t\tmoving = true\n\t\tif (dragged_symbol.is_primo_block) {\n\t\t\tactive_page.add_primo_block(dragged_symbol, dragged_symbol.index)\n\t\t} else {\n\t\t\tactive_page.add_block(dragged_symbol, dragged_symbol.index)\n\t\t}\n\t\trefresh_sections()\n\t\tsetTimeout(() => {\n\t\t\tmoving = false\n\t\t}, 300)\n\t}\n\n\tlet hovered_block = null\n\n\tlet block_toolbar_element\n\tlet page_el\n\tlet hovered_block_el\n\n\tlet showing_block_toolbar = false\n\tasync function show_block_toolbar() {\n\t\tshowing_block_toolbar = true\n\t\tawait tick()\n\t\tposition_block_toolbar()\n\t\tpage_el.addEventListener('scroll', () => {\n\t\t\tshowing_block_toolbar = false\n\t\t})\n\t}\n\n\tfunction position_block_toolbar() {\n\t\tif (!hovered_block_el) return\n\t\thovered_block_el.appendChild(block_toolbar_element)\n\t\tconst { top, left, bottom, right } = hovered_block_el.getBoundingClientRect()\n\t\tconst block_positions = {\n\t\t\ttop: (top <= 56 ? 56 : top) + window.scrollY,\n\t\t\tbottom: bottom >= window.innerHeight ? 0 : window.innerHeight - bottom,\n\t\t\tleft,\n\t\t\tright: window.innerWidth - right - window.scrollX\n\t\t}\n\t\tblock_toolbar_element.style.top = `${block_positions.top}px`\n\t\tblock_toolbar_element.style.bottom = `${block_positions.bottom}px`\n\t\tblock_toolbar_element.style.left = `${block_positions.left}px`\n\t\tblock_toolbar_element.style.right = `${block_positions.right}px`\n\t}\n\n\tfunction hide_block_toolbar() {\n\t\tshowing_block_toolbar = false\n\t}\n\n\tfunction edit_component(block, showIDE = false) {\n\t\tlock_block(block.id)\n\t\t$showingIDE = showIDE\n\t\tmodal.show(\n\t\t\t'COMPONENT_EDITOR',\n\t\t\t{\n\t\t\t\ttab: $showingIDE ? 'code' : 'content',\n\t\t\t\tcomponent: block,\n\t\t\t\theader: {\n\t\t\t\t\ttitle: `Edit Block`,\n\t\t\t\t\ticon: $showingIDE ? 'fas fa-code' : 'fas fa-edit',\n\t\t\t\t\tonclose: () => {\n\t\t\t\t\t\tunlock_block(block.id)\n\t\t\t\t\t},\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\ticon: 'fas fa-check',\n\t\t\t\t\t\tlabel: 'Save',\n\t\t\t\t\t\tonclick: async () => {\n\t\t\t\t\t\t\tunlock_block(block.id)\n\t\t\t\t\t\t\tmodal.hide()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tshowSwitch: true,\n\t\t\t\tdisabledBgClose: true\n\t\t\t}\n\t\t)\n\t}\n\n\tlet moving = false // workaround to prevent block toolbar from showing when moving blocks\n\n\t// using instead of <svelte:head> to enable script tags\n\tfunction append_to_head(code) {\n\t\t// Create a temporary container to hold the parsed HTML\n\t\tconst tempContainer = document.createElement('div')\n\t\ttempContainer.innerHTML = code\n\n\t\t// Iterate through the child nodes, and append them to the head\n\t\tArray.from(tempContainer.childNodes).forEach((child) => {\n\t\t\tif (child.tagName === 'SCRIPT') {\n\t\t\t\t// Handle script tags manually to ensure they are executed\n\t\t\t\tconst script = document.createElement('script')\n\t\t\t\tscript.textContent = child.textContent\n\t\t\t\t// Copy over all attributes from the original script tag, including 'src'\n\t\t\t\tArray.from(child.attributes).forEach((attr) => {\n\t\t\t\t\tscript.setAttribute(attr.name, attr.value)\n\t\t\t\t})\n\t\t\t\tdocument.head.appendChild(script)\n\t\t\t} else {\n\t\t\t\t// Append other elements directly\n\t\t\t\tdocument.head.appendChild(child)\n\t\t\t}\n\t\t})\n\t}\n</script>\n\n<!-- Loading Spinner -->\n{#if !page_mounted && $sections.length > 0}\n\t<div class=\"spinner-container\" out:fade={{ duration: 200 }}>\n\t\t<Spinner />\n\t</div>\n{/if}\n\n<!-- Block Buttons -->\n{#if showing_block_toolbar}\n\t<BlockToolbar\n\t\tbind:node={block_toolbar_element}\n\t\tid={hovered_block.id}\n\t\ti={hovered_block.index}\n\t\ton:delete={async () => {\n\t\t\tactive_page.delete_block(hovered_block.id)\n\t\t\trefresh_sections()\n\t\t}}\n\t\ton:duplicate={() => {\n\t\t\tactive_page.duplicate_block(hovered_block.id)\n\t\t\trefresh_sections()\n\t\t}}\n\t\ton:edit-code={() => edit_component(hovered_block, true)}\n\t\ton:edit-content={() => edit_component(hovered_block)}\n\t\ton:moveUp={async () => {\n\t\t\tmoving = true\n\t\t\thide_block_toolbar()\n\t\t\tactive_page.move_block(hovered_block, hovered_block.index - 1)\n\t\t\trefresh_sections()\n\t\t\tsetTimeout(() => {\n\t\t\t\tmoving = false\n\t\t\t}, 300)\n\t\t}}\n\t\ton:moveDown={async () => {\n\t\t\tmoving = true\n\t\t\thide_block_toolbar()\n\t\t\tactive_page.move_block(hovered_block, hovered_block.index + 1)\n\t\t\trefresh_sections()\n\t\t\tsetTimeout(() => {\n\t\t\t\tmoving = false\n\t\t\t}, 300)\n\t\t}}\n\t/>\n{/if}\n\n<!-- Page Blocks -->\n<div\n\tid=\"page\"\n\tbind:this={page_el}\n\tclass:fadein={page_mounted}\n\tlang={$locale}\n\tuse:dndzone={{\n\t\titems: draggable_sections,\n\t\tflipDurationMs,\n\t\tmorphDisabled: true,\n\t\tdragDisabled: true\n\t}}\n\ton:consider={consider_dnd}\n\ton:finalize={finalize_dnd}\n>\n\t{#each draggable_sections as block (block.id)}\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<!-- svelte-ignore a11y-mouse-events-have-key-events -->\n\t\t{@const locked = $locked_blocks.includes(block.id)}\n\t\t<div\n\t\t\tin:fade={{ duration: 100 }}\n\t\t\tclass=\"section\"\n\t\t\tid=\"section-{block.id.split('-')[0]}\"\n\t\t\tclass:locked\n\t\t\tdata-block={block.symbol}\n\t\t\ton:mousemove={() => {\n\t\t\t\tif (!moving && !showing_block_toolbar) {\n\t\t\t\t\tshow_block_toolbar()\n\t\t\t\t}\n\t\t\t}}\n\t\t\ton:mouseenter={async ({ target }) => {\n\t\t\t\thovered_block = block\n\t\t\t\thovered_block_el = target\n\t\t\t\tif (!moving) {\n\t\t\t\t\tshow_block_toolbar()\n\t\t\t\t}\n\t\t\t}}\n\t\t\ton:mouseleave={hide_block_toolbar}\n\t\t\tanimate:flip={{ duration: flipDurationMs }}\n\t\t\tstyle=\"min-height: 3rem;overflow:hidden;position: relative;\"\n\t\t>\n\t\t\t{#if block[SHADOW_ITEM_MARKER_PROPERTY_NAME]}\n\t\t\t\t<div class=\"block-placeholder\">\n\t\t\t\t\t<ComponentNode\n\t\t\t\t\t\tprimo_symbol={block.primo_symbol}\n\t\t\t\t\t\tblock={{\n\t\t\t\t\t\t\t...block,\n\t\t\t\t\t\t\tsymbol: block.id\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t{#if locked}\n\t\t\t\t\t<LockedOverlay {locked} />\n\t\t\t\t{/if}\n\t\t\t\t<ComponentNode\n\t\t\t\t\t{block}\n\t\t\t\t\ton:lock={() => lock_block(block.id)}\n\t\t\t\t\ton:unlock={() => unlock_block(block.id)}\n\t\t\t\t\ton:mount={() => sections_mounted++}\n\t\t\t\t\ton:resize={() => {\n\t\t\t\t\t\tif (showing_block_toolbar) {\n\t\t\t\t\t\t\tposition_block_toolbar()\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t</div>\n\t{/each}\n</div>\n{@html html_below || ''}\n\n<!-- Empty State -->\n{#if page_is_empty}\n\t<div class=\"empty-state\">This is an empty page</div>\n{/if}\n\n<style>\n\t.spinner-container {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 100vh;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 5;\n\t\tpointer-events: none;\n\n\t\t--Spinner-color: var(--primo-color-brand);\n\t\t--Spinner-color-opaque: rgba(248, 68, 73, 0.2);\n\t}\n\t#page {\n\t\ttransition: 0.2s opacity;\n\t\topacity: 0;\n\t\tborder-top: 0;\n\t\theight: calc(100vh - 54px);\n\t\toverflow: auto;\n\t}\n\t#page.fadein {\n\t\topacity: 1;\n\t}\n\t.empty-state {\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tcolor: var(--color-gray-4);\n\t\tpointer-events: none;\n\t\tfont-family: Inter, sans-serif;\n\t\tcolor: #999;\n\t\tz-index: 1;\n\t\ttext-align: center;\n\t}\n\t.block-placeholder {\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\tvisibility: visible;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbox-shadow: inset 0 0 0 calc(4px) var(--color-gray-8);\n\t}\n\t.block-placeholder :global(.node) {\n\t\t\tposition: absolute;\n\t\t}\n\t.block-placeholder::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tinset: 0;\n\t\t\tbackground: rgba(0, 0, 0, 0.75);\n\t\t\tz-index: 99;\n\t\t}</style>\n"],"names":["insert_hydration","target","svg","anchor","append_hydration","circle","path","button","ctx","if_block0","create_if_block_3","create_if_block_2","create_if_block_1","create_if_block","div4","div2","div0","button0","div1","button1","button2","div3","div4_intro","create_in_transition","fade","dispatch","createEventDispatcher","id","$$props","i","node","DEBUGGING","getContext","click_handler","click_handler_1","click_handler_2","click_handler_3","click_handler_4","click_handler_5","$$value","$$invalidate","isFirst","isLast","$sections","t2_value","div","span","current","dirty","set_data","t2","div_transition","create_bidirectional_transition","locked","constants_0","child_ctx","div_outro","create_out_transition","blocktoolbar_changes","componentnode_changes","SHADOW_ITEM_MARKER_PROPERTY_NAME","attr","div_id_value","div_data_block_value","stop_animation","create_animation","rect","flip","flipDurationMs","div_intro","raw_value","create_if_block_4","get_key","append_to_head","code","tempContainer","child","script","page","set_page_content","page_data","$pageID","$pageName","$pageURL","$pageFields","$pageCode","$pageContent","cached","latest_run","set_page_html","pageCode","siteCode","isEqual","this_run","cloneDeep","css","processCSS","data","getPageData","head","below","processCode","wrapInStyleTags","page_mounted","sections_mounted","afterNavigate","lock_block","block_id","realtimeChanged","unlock_block","draggable_sections","s","refresh_sections","_","dragged_symbol","consider_dnd","detail","item","index","$symbols","finalize_dnd","moving","active_page","hovered_block","block_toolbar_element","page_el","hovered_block_el","showing_block_toolbar","show_block_toolbar","tick","position_block_toolbar","top","left","bottom","right","block_positions","hide_block_toolbar","edit_component","block","showIDE","set_store_value","showingIDE","$showingIDE","modal","value","edit_content_handler","$siteCode","page_is_empty"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}