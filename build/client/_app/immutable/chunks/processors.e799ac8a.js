import{_ as y}from"./preload-helper.a4192956.js";import{W as M,k as j,l as W,B as E}from"./Page.svelte_svelte_type_style_lang.5ee686e0.js";import{ar as d}from"./index.7ce6af5d.js";import"./navigation.2516ba35.js";import"./singletons.d2d14c82.js";var L=0;function _(r,e){var t=e.data;if(!(!Array.isArray(t)||t.length<2)){var n=t[0],l=t[1],s=t[2],a=r._callbacks[n];a&&(delete r._callbacks[n],a(l,s))}}function k(r){var e=this;e._worker=r,e._callbacks={},r.addEventListener("message",function(t){_(e,t)})}k.prototype.postMessage=function(r){var e=this,t=L++,n=[t,r];return new Promise(function(l,s){if(e._callbacks[t]=function(o,c){if(o)return s(new Error(o.message));l(c)},typeof e._worker.controller<"u"){var a=new MessageChannel;a.port1.onmessage=function(o){_(e,o)},e._worker.controller.postMessage(n,[a.port2])}else e._worker.postMessage(n)})};var b=k;const w=M(b);function A(){return new Worker(""+new URL("../workers/rollup.worker-d2e62b96.js",import.meta.url).href)}function O(){return new Worker(""+new URL("../workers/postcss.worker-c14401c9.js",import.meta.url).href)}const P=new w(new O),R=new w(new A),f=new Map;async function N({component:r,buildStatic:e=!0,format:t="esm"}){let n;if(!e&&(n=JSON.stringify({component:r,format:t}),f.has(n)))return f.get(n);const l=Array.isArray(r);let s;try{const o=l?r.some(c=>c.js):!!r.js;s=await R.postMessage({component:r,hydrated:e&&o,buildStatic:e,format:t,site:d(j),locale:d(W)})}catch(o){console.log("error",o),s={error:o.toString()}}let a;if(!s)a={html:'<h1 style="text-align: center">could not render</h1>'},s={};else if(s.error){let o=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};console.error(s.error),a={error:o(s.error)}}else if(e){const o=new Blob([s.ssr],{type:"text/javascript"}),c=URL.createObjectURL(o),{default:h}=await y(()=>import(c),[],import.meta.url);URL.revokeObjectURL(c);let i;l?i=r.reduce((u,g,v)=>(E.isEmpty(g.data)||(u[`component_${v}_props`]=g.data),u),{}):i=r.data;const p=h.render(i);a={head:p.head,html:p.html,css:p.css.code,js:s.dom}}else a={js:s.dom};return e||f.set(n,a),a}const m=new Map;async function T(r){if(m.has(r))return{css:m.get(r)};const e=await P.postMessage({css:r});return e.message?{error:e.message}:(m.set(r,e),{css:e})}export{T as css,N as html};
//# sourceMappingURL=processors.e799ac8a.js.map
