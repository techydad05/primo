import{_ as Tr}from"./preload-helper.a4192956.js";import{S as Ie,i as $e,s as Le,k as T,y as W,l as A,m as O,z as Y,h as m,n as y,K as ee,p as Re,b as $,A as q,L as re,g as S,d as P,B as G,V as mt,P as ir,Q as sr,H as w,I as _e,M as Yt,N as qr,ar as De,C as at,a as j,c as V,v as le,f as ae,D as ut,E as ft,F as ct,O as Ct,q as H,r as U,u as Se,a1 as Ml,e as ge,T as Kt,U as Jo,G as uh,J as me,as as ay,a3 as Ut,o as qu,at as uy,ai as Rn,x as kt,Y as jn,Z as qi,X as Rt,au as fy,ao as fh,ap as ch,$ as $i,a2 as Tt,t as Li,w as se,W as Gu,_ as vo,ah as $r,av as mm,am as tr,aj as jr,ak as Ss,an as dh,al as zi,ag as Gi,a7 as gm,a8 as uT,a0 as cy,a5 as be,a6 as Ne,aw as fT,a9 as Ku,af as Ju,R as mn}from"./index.7ce6af5d.js";import{f as Gr,s as Bi}from"./index.ffa02d79.js";import{I as Ze,g as cT}from"./navigation.2516ba35.js";import{w as je,j as dy,r as dT}from"./singletons.d2d14c82.js";import{p as Vo}from"./stores.fb720b2c.js";function hT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var $o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pT(n){let e,t,r,i,s;return t=new Ze({props:{icon:n[0]}}),{c(){e=T("button"),W(t.$$.fragment),this.h()},l(o){e=A(o,"BUTTON",{class:!0});var l=O(e);Y(t.$$.fragment,l),l.forEach(m),this.h()},h(){y(e,"class","show-menu svelte-1yjio99"),ee(e,"active",mT),Re(e,"color",n[1])},m(o,l){$(o,e,l),q(t,e,null),r=!0,i||(s=re(e,"click",n[2]),i=!0)},p(o,[l]){const a={};l&1&&(a.icon=o[0]),t.$set(a),l&2&&Re(e,"color",o[1])},i(o){r||(S(t.$$.fragment,o),r=!0)},o(o){P(t.$$.fragment,o),r=!1},d(o){o&&m(e),G(t),i=!1,s()}}}let mT=!1;function gT(n,e,t){let{icon:r="carbon:overflow-menu-vertical"}=e,{color:i=null}=e;function s(o){mt.call(this,n,o)}return n.$$set=o=>{"icon"in o&&t(0,r=o.icon),"color"in o&&t(1,i=o.color)},[r,i,s]}class _T extends Ie{constructor(e){super(),$e(this,e,gT,pT,Le,{icon:0,color:1})}}var vT=typeof global=="object"&&global&&global.Object===Object&&global;const hy=vT;var bT=typeof self=="object"&&self&&self.Object===Object&&self,yT=hy||bT||Function("return this")();const nn=yT;var kT=nn.Symbol;const gn=kT;var py=Object.prototype,wT=py.hasOwnProperty,ET=py.toString,Lo=gn?gn.toStringTag:void 0;function ST(n){var e=wT.call(n,Lo),t=n[Lo];try{n[Lo]=void 0;var r=!0}catch{}var i=ET.call(n);return r&&(e?n[Lo]=t:delete n[Lo]),i}var TT=Object.prototype,AT=TT.toString;function OT(n){return AT.call(n)}var CT="[object Null]",MT="[object Undefined]",_m=gn?gn.toStringTag:void 0;function Tn(n){return n==null?n===void 0?MT:CT:_m&&_m in Object(n)?ST(n):OT(n)}function Vt(n){return n!=null&&typeof n=="object"}var PT="[object Symbol]";function Vn(n){return typeof n=="symbol"||Vt(n)&&Tn(n)==PT}var NT=0/0;function vm(n){return typeof n=="number"?n:Vn(n)?NT:+n}function It(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var DT=Array.isArray;const rt=DT;var RT=1/0,bm=gn?gn.prototype:void 0,ym=bm?bm.toString:void 0;function Hn(n){if(typeof n=="string")return n;if(rt(n))return It(n,Hn)+"";if(Vn(n))return ym?ym.call(n):"";var e=n+"";return e=="0"&&1/n==-RT?"-0":e}function Yu(n,e){return function(t,r){var i;if(t===void 0&&r===void 0)return e;if(t!==void 0&&(i=t),r!==void 0){if(i===void 0)return r;typeof t=="string"||typeof r=="string"?(t=Hn(t),r=Hn(r)):(t=vm(t),r=vm(r)),i=n(t,r)}return i}}var IT=Yu(function(n,e){return n+e},0);const $T=IT;var LT=/\s/;function my(n){for(var e=n.length;e--&&LT.test(n.charAt(e)););return e}var zT=/^\s+/;function gy(n){return n&&n.slice(0,my(n)+1).replace(zT,"")}function $t(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var km=0/0,BT=/^[-+]0x[0-9a-f]+$/i,FT=/^0b[01]+$/i,jT=/^0o[0-7]+$/i,VT=parseInt;function or(n){if(typeof n=="number")return n;if(Vn(n))return km;if($t(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=$t(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=gy(n);var t=FT.test(n);return t||jT.test(n)?VT(n.slice(2),t?2:8):BT.test(n)?km:+n}var wm=1/0,HT=17976931348623157e292;function oi(n){if(!n)return n===0?n:0;if(n=or(n),n===wm||n===-wm){var e=n<0?-1:1;return e*HT}return n===n?n:0}function lt(n){var e=oi(n),t=e%1;return e===e?t?e-t:e:0}var UT="Expected a function";function WT(n,e){if(typeof e!="function")throw new TypeError(UT);return n=lt(n),function(){if(--n<1)return e.apply(this,arguments)}}function An(n){return n}var qT="[object AsyncFunction]",GT="[object Function]",KT="[object GeneratorFunction]",JT="[object Proxy]";function ci(n){if(!$t(n))return!1;var e=Tn(n);return e==GT||e==KT||e==qT||e==JT}var YT=nn["__core-js_shared__"];const ka=YT;var Em=function(){var n=/[^.]+$/.exec(ka&&ka.keys&&ka.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function XT(n){return!!Em&&Em in n}var ZT=Function.prototype,QT=ZT.toString;function Is(n){if(n!=null){try{return QT.call(n)}catch{}try{return n+""}catch{}}return""}var xT=/[\\^$.*+?()[\]{}|]/g,eA=/^\[object .+?Constructor\]$/,tA=Function.prototype,nA=Object.prototype,rA=tA.toString,iA=nA.hasOwnProperty,sA=RegExp("^"+rA.call(iA).replace(xT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _y(n){if(!$t(n)||XT(n))return!1;var e=ci(n)?sA:eA;return e.test(Is(n))}function oA(n,e){return n==null?void 0:n[e]}function $s(n,e){var t=oA(n,e);return _y(t)?t:void 0}var lA=$s(nn,"WeakMap");const al=lA;var aA=al&&new al;const Ra=aA;var uA=Ra?function(n,e){return Ra.set(n,e),n}:An;const vy=uA;var Sm=Object.create,fA=function(){function n(){}return function(e){if(!$t(e))return{};if(Sm)return Sm(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const bo=fA;function ul(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=bo(n.prototype),r=n.apply(t,e);return $t(r)?r:t}}var cA=1;function dA(n,e,t){var r=e&cA,i=ul(n);function s(){var o=this&&this!==nn&&this instanceof s?i:n;return o.apply(r?t:this,arguments)}return s}function Un(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var hA=Math.max;function by(n,e,t,r){for(var i=-1,s=n.length,o=t.length,l=-1,a=e.length,u=hA(s-o,0),f=Array(a+u),c=!r;++l<a;)f[l]=e[l];for(;++i<o;)(c||i<s)&&(f[t[i]]=n[i]);for(;u--;)f[l++]=n[i++];return f}var pA=Math.max;function yy(n,e,t,r){for(var i=-1,s=n.length,o=-1,l=t.length,a=-1,u=e.length,f=pA(s-l,0),c=Array(f+u),d=!r;++i<f;)c[i]=n[i];for(var h=i;++a<u;)c[h+a]=e[a];for(;++o<l;)(d||i<s)&&(c[h+t[o]]=n[i++]);return c}function mA(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}function Xu(){}var gA=4294967295;function _t(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=gA,this.__views__=[]}_t.prototype=bo(Xu.prototype);_t.prototype.constructor=_t;function ph(){}var _A=Ra?function(n){return Ra.get(n)}:ph;const mh=_A;var vA={};const Zs=vA;var bA=Object.prototype,yA=bA.hasOwnProperty;function wa(n){for(var e=n.name+"",t=Zs[e],r=yA.call(Zs,e)?t.length:0;r--;){var i=t[r],s=i.func;if(s==null||s==n)return i.name}return e}function fr(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}fr.prototype=bo(Xu.prototype);fr.prototype.constructor=fr;function Mn(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function ky(n){if(n instanceof _t)return n.clone();var e=new fr(n.__wrapped__,n.__chain__);return e.__actions__=Mn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}var kA=Object.prototype,wA=kA.hasOwnProperty;function L(n){if(Vt(n)&&!rt(n)&&!(n instanceof _t)){if(n instanceof fr)return n;if(wA.call(n,"__wrapped__"))return ky(n)}return new fr(n)}L.prototype=Xu.prototype;L.prototype.constructor=L;function ad(n){var e=wa(n),t=L[e];if(typeof t!="function"||!(e in _t.prototype))return!1;if(n===t)return!0;var r=mh(t);return!!r&&n===r[0]}var EA=800,SA=16,TA=Date.now;function wy(n){var e=0,t=0;return function(){var r=TA(),i=SA-(r-t);if(t=r,i>0){if(++e>=EA)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var AA=wy(vy);const Ey=AA;var OA=/\{\n\/\* \[wrapped with (.+)\] \*/,CA=/,? & /;function MA(n){var e=n.match(OA);return e?e[1].split(CA):[]}var PA=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function NA(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(PA,`{
/* [wrapped with `+e+`] */
`)}function gh(n){return function(){return n}}var DA=function(){try{var n=$s(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Ia=DA;var RA=Ia?function(n,e){return Ia(n,"toString",{configurable:!0,enumerable:!1,value:gh(e),writable:!0})}:An;const IA=RA;var $A=wy(IA);const _h=$A;function mr(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function Zu(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}function Sy(n){return n!==n}function LA(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}function yo(n,e,t){return e===e?LA(n,e,t):Zu(n,Sy,t)}function Qu(n,e){var t=n==null?0:n.length;return!!t&&yo(n,e,0)>-1}var zA=1,BA=2,FA=8,jA=16,VA=32,HA=64,UA=128,WA=256,qA=512,GA=[["ary",UA],["bind",zA],["bindKey",BA],["curry",FA],["curryRight",jA],["flip",qA],["partial",VA],["partialRight",HA],["rearg",WA]];function KA(n,e){return mr(GA,function(t){var r="_."+t[0];e&t[1]&&!Qu(n,r)&&n.push(r)}),n.sort()}function Ty(n,e,t){var r=e+"";return _h(n,NA(r,KA(MA(r),t)))}var JA=1,YA=2,XA=4,ZA=8,Tm=32,Am=64;function Ay(n,e,t,r,i,s,o,l,a,u){var f=e&ZA,c=f?o:void 0,d=f?void 0:o,h=f?s:void 0,p=f?void 0:s;e|=f?Tm:Am,e&=~(f?Am:Tm),e&XA||(e&=~(JA|YA));var g=[n,e,i,h,c,p,d,l,a,u],_=t.apply(void 0,g);return ad(n)&&Ey(_,g),_.placeholder=r,Ty(_,n,e)}function ko(n){var e=n;return e.placeholder}var QA=9007199254740991,xA=/^(?:0|[1-9]\d*)$/;function di(n,e){var t=typeof n;return e=e??QA,!!e&&(t=="number"||t!="symbol"&&xA.test(n))&&n>-1&&n%1==0&&n<e}var eO=Math.min;function tO(n,e){for(var t=n.length,r=eO(e.length,t),i=Mn(n);r--;){var s=e[r];n[r]=di(s,t)?i[s]:void 0}return n}var Om="__lodash_placeholder__";function Fi(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t];(o===e||o===Om)&&(n[t]=Om,s[i++]=t)}return s}var nO=1,rO=2,iO=8,sO=16,oO=128,lO=512;function xu(n,e,t,r,i,s,o,l,a,u){var f=e&oO,c=e&nO,d=e&rO,h=e&(iO|sO),p=e&lO,g=d?void 0:ul(n);function _(){for(var b=arguments.length,v=Array(b),E=b;E--;)v[E]=arguments[E];if(h)var k=ko(_),N=mA(v,k);if(r&&(v=by(v,r,i,h)),s&&(v=yy(v,s,o,h)),b-=N,h&&b<u){var C=Fi(v,k);return Ay(n,e,xu,_.placeholder,t,v,C,l,a,u-b)}var M=c?t:this,D=d?M[n]:n;return b=v.length,l?v=tO(v,l):p&&b>1&&v.reverse(),f&&a<b&&(v.length=a),this&&this!==nn&&this instanceof _&&(D=g||ul(D)),D.apply(M,v)}return _}function aO(n,e,t){var r=ul(n);function i(){for(var s=arguments.length,o=Array(s),l=s,a=ko(i);l--;)o[l]=arguments[l];var u=s<3&&o[0]!==a&&o[s-1]!==a?[]:Fi(o,a);if(s-=u.length,s<t)return Ay(n,e,xu,i.placeholder,void 0,o,u,void 0,void 0,t-s);var f=this&&this!==nn&&this instanceof i?r:n;return Un(f,this,o)}return i}var uO=1;function fO(n,e,t,r){var i=e&uO,s=ul(n);function o(){for(var l=-1,a=arguments.length,u=-1,f=r.length,c=Array(f+a),d=this&&this!==nn&&this instanceof o?s:n;++u<f;)c[u]=r[u];for(;a--;)c[u++]=arguments[++l];return Un(d,i?t:this,c)}return o}var Cm="__lodash_placeholder__",Xf=1,cO=2,dO=4,Mm=8,zo=128,Pm=256,hO=Math.min;function pO(n,e){var t=n[1],r=e[1],i=t|r,s=i<(Xf|cO|zo),o=r==zo&&t==Mm||r==zo&&t==Pm&&n[7].length<=e[8]||r==(zo|Pm)&&e[7].length<=e[8]&&t==Mm;if(!(s||o))return n;r&Xf&&(n[2]=e[2],i|=t&Xf?0:dO);var l=e[3];if(l){var a=n[3];n[3]=a?by(a,l,e[4]):l,n[4]=a?Fi(n[3],Cm):e[4]}return l=e[5],l&&(a=n[5],n[5]=a?yy(a,l,e[6]):l,n[6]=a?Fi(n[5],Cm):e[6]),l=e[7],l&&(n[7]=l),r&zo&&(n[8]=n[8]==null?e[8]:hO(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}var mO="Expected a function",Nm=1,gO=2,Zf=8,Qf=16,xf=32,Dm=64,Rm=Math.max;function hi(n,e,t,r,i,s,o,l){var a=e&gO;if(!a&&typeof n!="function")throw new TypeError(mO);var u=r?r.length:0;if(u||(e&=~(xf|Dm),r=i=void 0),o=o===void 0?o:Rm(lt(o),0),l=l===void 0?l:lt(l),u-=i?i.length:0,e&Dm){var f=r,c=i;r=i=void 0}var d=a?void 0:mh(n),h=[n,e,t,r,i,f,c,s,o,l];if(d&&pO(h,d),n=h[0],e=h[1],t=h[2],r=h[3],i=h[4],l=h[9]=h[9]===void 0?a?0:n.length:Rm(h[9]-u,0),!l&&e&(Zf|Qf)&&(e&=~(Zf|Qf)),!e||e==Nm)var p=dA(n,e,t);else e==Zf||e==Qf?p=aO(n,e,l):(e==xf||e==(Nm|xf))&&!i.length?p=fO(n,e,t,r):p=xu.apply(void 0,h);var g=d?vy:Ey;return Ty(g(p,h),n,e)}var _O=128;function Oy(n,e,t){return e=t?void 0:e,e=n&&e==null?n.length:e,hi(n,_O,void 0,void 0,void 0,void 0,e)}function pi(n,e,t){e=="__proto__"&&Ia?Ia(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Cr(n,e){return n===e||n!==n&&e!==e}var vO=Object.prototype,bO=vO.hasOwnProperty;function Pl(n,e,t){var r=n[e];(!(bO.call(n,e)&&Cr(r,t))||t===void 0&&!(e in n))&&pi(n,e,t)}function Kr(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],a=r?r(t[l],n[l],l,t,n):void 0;a===void 0&&(a=n[l]),i?pi(t,l,a):Pl(t,l,a)}return t}var Im=Math.max;function Cy(n,e,t){return e=Im(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=Im(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),Un(n,this,l)}}function pt(n,e){return _h(Cy(n,e,An),n+"")}var yO=9007199254740991;function ef(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=yO}function In(n){return n!=null&&ef(n.length)&&!ci(n)}function kn(n,e,t){if(!$t(t))return!1;var r=typeof e;return(r=="number"?In(t)&&di(e,t.length):r=="string"&&e in t)?Cr(t[e],n):!1}function wo(n){return pt(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&kn(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,s)}return e})}var kO=Object.prototype;function Nl(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||kO;return n===t}function vh(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var wO="[object Arguments]";function $m(n){return Vt(n)&&Tn(n)==wO}var My=Object.prototype,EO=My.hasOwnProperty,SO=My.propertyIsEnumerable,TO=$m(function(){return arguments}())?$m:function(n){return Vt(n)&&EO.call(n,"callee")&&!SO.call(n,"callee")};const Ts=TO;function bh(){return!1}var Py=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lm=Py&&typeof module=="object"&&module&&!module.nodeType&&module,AO=Lm&&Lm.exports===Py,zm=AO?nn.Buffer:void 0,OO=zm?zm.isBuffer:void 0,CO=OO||bh;const ji=CO;var MO="[object Arguments]",PO="[object Array]",NO="[object Boolean]",DO="[object Date]",RO="[object Error]",IO="[object Function]",$O="[object Map]",LO="[object Number]",zO="[object Object]",BO="[object RegExp]",FO="[object Set]",jO="[object String]",VO="[object WeakMap]",HO="[object ArrayBuffer]",UO="[object DataView]",WO="[object Float32Array]",qO="[object Float64Array]",GO="[object Int8Array]",KO="[object Int16Array]",JO="[object Int32Array]",YO="[object Uint8Array]",XO="[object Uint8ClampedArray]",ZO="[object Uint16Array]",QO="[object Uint32Array]",Dt={};Dt[WO]=Dt[qO]=Dt[GO]=Dt[KO]=Dt[JO]=Dt[YO]=Dt[XO]=Dt[ZO]=Dt[QO]=!0;Dt[MO]=Dt[PO]=Dt[HO]=Dt[NO]=Dt[UO]=Dt[DO]=Dt[RO]=Dt[IO]=Dt[$O]=Dt[LO]=Dt[zO]=Dt[BO]=Dt[FO]=Dt[jO]=Dt[VO]=!1;function xO(n){return Vt(n)&&ef(n.length)&&!!Dt[Tn(n)]}function Wn(n){return function(e){return n(e)}}var Ny=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yo=Ny&&typeof module=="object"&&module&&!module.nodeType&&module,eC=Yo&&Yo.exports===Ny,ec=eC&&hy.process,tC=function(){try{var n=Yo&&Yo.require&&Yo.require("util").types;return n||ec&&ec.binding&&ec.binding("util")}catch{}}();const cr=tC;var Bm=cr&&cr.isTypedArray,nC=Bm?Wn(Bm):xO;const Eo=nC;var rC=Object.prototype,iC=rC.hasOwnProperty;function Dy(n,e){var t=rt(n),r=!t&&Ts(n),i=!t&&!r&&ji(n),s=!t&&!r&&!i&&Eo(n),o=t||r||i||s,l=o?vh(n.length,String):[],a=l.length;for(var u in n)(e||iC.call(n,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||di(u,a)))&&l.push(u);return l}function Ry(n,e){return function(t){return n(e(t))}}var sC=Ry(Object.keys,Object);const oC=sC;var lC=Object.prototype,aC=lC.hasOwnProperty;function yh(n){if(!Nl(n))return oC(n);var e=[];for(var t in Object(n))aC.call(n,t)&&t!="constructor"&&e.push(t);return e}function Zt(n){return In(n)?Dy(n):yh(n)}var uC=Object.prototype,fC=uC.hasOwnProperty,cC=wo(function(n,e){if(Nl(e)||In(e)){Kr(e,Zt(e),n);return}for(var t in e)fC.call(e,t)&&Pl(n,t,e[t])});const dC=cC;function hC(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var pC=Object.prototype,mC=pC.hasOwnProperty;function gC(n){if(!$t(n))return hC(n);var e=Nl(n),t=[];for(var r in n)r=="constructor"&&(e||!mC.call(n,r))||t.push(r);return t}function $n(n){return In(n)?Dy(n,!0):gC(n)}var _C=wo(function(n,e){Kr(e,$n(e),n)});const Fm=_C;var vC=wo(function(n,e,t,r){Kr(e,$n(e),n,r)});const $a=vC;var bC=wo(function(n,e,t,r){Kr(e,Zt(e),n,r)});const yC=bC;var kC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wC=/^\w*$/;function kh(n,e){if(rt(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Vn(n)?!0:wC.test(n)||!kC.test(n)||e!=null&&n in Object(e)}var EC=$s(Object,"create");const fl=EC;function SC(){this.__data__=fl?fl(null):{},this.size=0}function TC(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var AC="__lodash_hash_undefined__",OC=Object.prototype,CC=OC.hasOwnProperty;function MC(n){var e=this.__data__;if(fl){var t=e[n];return t===AC?void 0:t}return CC.call(e,n)?e[n]:void 0}var PC=Object.prototype,NC=PC.hasOwnProperty;function DC(n){var e=this.__data__;return fl?e[n]!==void 0:NC.call(e,n)}var RC="__lodash_hash_undefined__";function IC(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=fl&&e===void 0?RC:e,this}function As(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}As.prototype.clear=SC;As.prototype.delete=TC;As.prototype.get=MC;As.prototype.has=DC;As.prototype.set=IC;function $C(){this.__data__=[],this.size=0}function tf(n,e){for(var t=n.length;t--;)if(Cr(n[t][0],e))return t;return-1}var LC=Array.prototype,zC=LC.splice;function BC(n){var e=this.__data__,t=tf(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():zC.call(e,t,1),--this.size,!0}function FC(n){var e=this.__data__,t=tf(e,n);return t<0?void 0:e[t][1]}function jC(n){return tf(this.__data__,n)>-1}function VC(n,e){var t=this.__data__,r=tf(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function mi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}mi.prototype.clear=$C;mi.prototype.delete=BC;mi.prototype.get=FC;mi.prototype.has=jC;mi.prototype.set=VC;var HC=$s(nn,"Map");const cl=HC;function UC(){this.size=0,this.__data__={hash:new As,map:new(cl||mi),string:new As}}function WC(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function nf(n,e){var t=n.__data__;return WC(e)?t[typeof e=="string"?"string":"hash"]:t.map}function qC(n){var e=nf(this,n).delete(n);return this.size-=e?1:0,e}function GC(n){return nf(this,n).get(n)}function KC(n){return nf(this,n).has(n)}function JC(n,e){var t=nf(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function gi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}gi.prototype.clear=UC;gi.prototype.delete=qC;gi.prototype.get=GC;gi.prototype.has=KC;gi.prototype.set=JC;var YC="Expected a function";function rf(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(YC);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(rf.Cache||gi),t}rf.Cache=gi;var XC=500;function ZC(n){var e=rf(n,function(r){return t.size===XC&&t.clear(),r}),t=e.cache;return e}var QC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xC=/\\(\\)?/g,eM=ZC(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(QC,function(t,r,i,s){e.push(i?s.replace(xC,"$1"):r||t)}),e});const Iy=eM;function wt(n){return n==null?"":Hn(n)}function Ki(n,e){return rt(n)?n:kh(n,e)?[n]:Iy(wt(n))}var tM=1/0;function Jr(n){if(typeof n=="string"||Vn(n))return n;var e=n+"";return e=="0"&&1/n==-tM?"-0":e}function Ls(n,e){e=Ki(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Jr(e[t++])];return t&&t==r?n:void 0}function sf(n,e,t){var r=n==null?void 0:Ls(n,e);return r===void 0?t:r}function wh(n,e){for(var t=-1,r=e.length,i=Array(r),s=n==null;++t<r;)i[t]=s?void 0:sf(n,e[t]);return i}function Ji(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var jm=gn?gn.isConcatSpreadable:void 0;function nM(n){return rt(n)||Ts(n)||!!(jm&&n&&n[jm])}function fn(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=nM),i||(i=[]);++s<o;){var l=n[s];e>0&&t(l)?e>1?fn(l,e-1,t,r,i):Ji(i,l):r||(i[i.length]=l)}return i}function $y(n){var e=n==null?0:n.length;return e?fn(n,1):[]}function _i(n){return _h(Cy(n,void 0,$y),n+"")}var rM=_i(wh);const iM=rM;var sM=Ry(Object.getPrototypeOf,Object);const of=sM;var oM="[object Object]",lM=Function.prototype,aM=Object.prototype,Ly=lM.toString,uM=aM.hasOwnProperty,fM=Ly.call(Object);function Dl(n){if(!Vt(n)||Tn(n)!=oM)return!1;var e=of(n);if(e===null)return!0;var t=uM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ly.call(t)==fM}var cM="[object DOMException]",dM="[object Error]";function Eh(n){if(!Vt(n))return!1;var e=Tn(n);return e==dM||e==cM||typeof n.message=="string"&&typeof n.name=="string"&&!Dl(n)}var hM=pt(function(n,e){try{return Un(n,void 0,e)}catch(t){return Eh(t)?t:new Error(t)}});const zy=hM;var pM="Expected a function";function By(n,e){var t;if(typeof e!="function")throw new TypeError(pM);return n=lt(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}}var mM=1,gM=32,Sh=pt(function(n,e,t){var r=mM;if(t.length){var i=Fi(t,ko(Sh));r|=gM}return hi(n,r,e,t,i)});Sh.placeholder={};const Fy=Sh;var _M=_i(function(n,e){return mr(e,function(t){t=Jr(t),pi(n,t,Fy(n[t],n))}),n});const vM=_M;var bM=1,yM=2,kM=32,Th=pt(function(n,e,t){var r=bM|yM;if(t.length){var i=Fi(t,ko(Th));r|=kM}return hi(e,r,n,t,i)});Th.placeholder={};const wM=Th;function dr(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Yi(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:dr(n,e,t)}var EM="\\ud800-\\udfff",SM="\\u0300-\\u036f",TM="\\ufe20-\\ufe2f",AM="\\u20d0-\\u20ff",OM=SM+TM+AM,CM="\\ufe0e\\ufe0f",MM="\\u200d",PM=RegExp("["+MM+EM+OM+CM+"]");function So(n){return PM.test(n)}function NM(n){return n.split("")}var jy="\\ud800-\\udfff",DM="\\u0300-\\u036f",RM="\\ufe20-\\ufe2f",IM="\\u20d0-\\u20ff",$M=DM+RM+IM,LM="\\ufe0e\\ufe0f",zM="["+jy+"]",ud="["+$M+"]",fd="\\ud83c[\\udffb-\\udfff]",BM="(?:"+ud+"|"+fd+")",Vy="[^"+jy+"]",Hy="(?:\\ud83c[\\udde6-\\uddff]){2}",Uy="[\\ud800-\\udbff][\\udc00-\\udfff]",FM="\\u200d",Wy=BM+"?",qy="["+LM+"]?",jM="(?:"+FM+"(?:"+[Vy,Hy,Uy].join("|")+")"+qy+Wy+")*",VM=qy+Wy+jM,HM="(?:"+[Vy+ud+"?",ud,Hy,Uy,zM].join("|")+")",UM=RegExp(fd+"(?="+fd+")|"+HM+VM,"g");function WM(n){return n.match(UM)||[]}function Ar(n){return So(n)?WM(n):NM(n)}function Gy(n){return function(e){e=wt(e);var t=So(e)?Ar(e):void 0,r=t?t[0]:e.charAt(0),i=t?Yi(t,1).join(""):e.slice(1);return r[n]()+i}}var qM=Gy("toUpperCase");const Ah=qM;function Ky(n){return Ah(wt(n).toLowerCase())}function Oh(n,e,t,r){var i=-1,s=n==null?0:n.length;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function Ch(n){return function(e){return n==null?void 0:n[e]}}var GM={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},KM=Ch(GM);const JM=KM;var YM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,XM="\\u0300-\\u036f",ZM="\\ufe20-\\ufe2f",QM="\\u20d0-\\u20ff",xM=XM+ZM+QM,eP="["+xM+"]",tP=RegExp(eP,"g");function Jy(n){return n=wt(n),n&&n.replace(YM,JM).replace(tP,"")}var nP=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function rP(n){return n.match(nP)||[]}var iP=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function sP(n){return iP.test(n)}var Yy="\\ud800-\\udfff",oP="\\u0300-\\u036f",lP="\\ufe20-\\ufe2f",aP="\\u20d0-\\u20ff",uP=oP+lP+aP,Xy="\\u2700-\\u27bf",Zy="a-z\\xdf-\\xf6\\xf8-\\xff",fP="\\xac\\xb1\\xd7\\xf7",cP="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dP="\\u2000-\\u206f",hP=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qy="A-Z\\xc0-\\xd6\\xd8-\\xde",pP="\\ufe0e\\ufe0f",xy=fP+cP+dP+hP,ek="['’]",Vm="["+xy+"]",mP="["+uP+"]",tk="\\d+",gP="["+Xy+"]",nk="["+Zy+"]",rk="[^"+Yy+xy+tk+Xy+Zy+Qy+"]",_P="\\ud83c[\\udffb-\\udfff]",vP="(?:"+mP+"|"+_P+")",bP="[^"+Yy+"]",ik="(?:\\ud83c[\\udde6-\\uddff]){2}",sk="[\\ud800-\\udbff][\\udc00-\\udfff]",qs="["+Qy+"]",yP="\\u200d",Hm="(?:"+nk+"|"+rk+")",kP="(?:"+qs+"|"+rk+")",Um="(?:"+ek+"(?:d|ll|m|re|s|t|ve))?",Wm="(?:"+ek+"(?:D|LL|M|RE|S|T|VE))?",ok=vP+"?",lk="["+pP+"]?",wP="(?:"+yP+"(?:"+[bP,ik,sk].join("|")+")"+lk+ok+")*",EP="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SP="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",TP=lk+ok+wP,AP="(?:"+[gP,ik,sk].join("|")+")"+TP,OP=RegExp([qs+"?"+nk+"+"+Um+"(?="+[Vm,qs,"$"].join("|")+")",kP+"+"+Wm+"(?="+[Vm,qs+Hm,"$"].join("|")+")",qs+"?"+Hm+"+"+Um,qs+"+"+Wm,SP,EP,tk,AP].join("|"),"g");function CP(n){return n.match(OP)||[]}function ak(n,e,t){return n=wt(n),e=t?void 0:e,e===void 0?sP(n)?CP(n):rP(n):n.match(e)||[]}var MP="['’]",PP=RegExp(MP,"g");function To(n){return function(e){return Oh(ak(Jy(e).replace(PP,"")),n,"")}}var NP=To(function(n,e,t){return e=e.toLowerCase(),n+(t?Ky(e):e)});const DP=NP;function RP(){if(!arguments.length)return[];var n=arguments[0];return rt(n)?n:[n]}var IP=nn.isFinite,$P=Math.min;function Mh(n){var e=Math[n];return function(t,r){if(t=or(t),r=r==null?0:$P(lt(r),292),r&&IP(t)){var i=(wt(t)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+r));return i=(wt(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var LP=Mh("ceil");const zP=LP;function Yr(n){var e=L(n);return e.__chain__=!0,e}var BP=Math.ceil,FP=Math.max;function jP(n,e,t){(t?kn(n,e,t):e===void 0)?e=1:e=FP(lt(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(BP(r/e));i<r;)o[s++]=dr(n,i,i+=e);return o}function zs(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}function VP(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=or(t),t=t===t?t:0),e!==void 0&&(e=or(e),e=e===e?e:0),zs(or(n),e,t)}function HP(){this.__data__=new mi,this.size=0}function UP(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function WP(n){return this.__data__.get(n)}function qP(n){return this.__data__.has(n)}var GP=200;function KP(n,e){var t=this.__data__;if(t instanceof mi){var r=t.__data__;if(!cl||r.length<GP-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new gi(r)}return t.set(n,e),this.size=t.size,this}function wr(n){var e=this.__data__=new mi(n);this.size=e.size}wr.prototype.clear=HP;wr.prototype.delete=UP;wr.prototype.get=WP;wr.prototype.has=qP;wr.prototype.set=KP;function uk(n,e){return n&&Kr(e,Zt(e),n)}function JP(n,e){return n&&Kr(e,$n(e),n)}var fk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qm=fk&&typeof module=="object"&&module&&!module.nodeType&&module,YP=qm&&qm.exports===fk,Gm=YP?nn.Buffer:void 0,Km=Gm?Gm.allocUnsafe:void 0;function ck(n,e){if(e)return n.slice();var t=n.length,r=Km?Km(t):new n.constructor(t);return n.copy(r),r}function Xi(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function Ph(){return[]}var XP=Object.prototype,ZP=XP.propertyIsEnumerable,Jm=Object.getOwnPropertySymbols,QP=Jm?function(n){return n==null?[]:(n=Object(n),Xi(Jm(n),function(e){return ZP.call(n,e)}))}:Ph;const Nh=QP;function xP(n,e){return Kr(n,Nh(n),e)}var eN=Object.getOwnPropertySymbols,tN=eN?function(n){for(var e=[];n;)Ji(e,Nh(n)),n=of(n);return e}:Ph;const dk=tN;function nN(n,e){return Kr(n,dk(n),e)}function hk(n,e,t){var r=e(n);return rt(n)?r:Ji(r,t(n))}function cd(n){return hk(n,Zt,Nh)}function Dh(n){return hk(n,$n,dk)}var rN=$s(nn,"DataView");const dd=rN;var iN=$s(nn,"Promise");const hd=iN;var sN=$s(nn,"Set");const Qs=sN;var Ym="[object Map]",oN="[object Object]",Xm="[object Promise]",Zm="[object Set]",Qm="[object WeakMap]",xm="[object DataView]",lN=Is(dd),aN=Is(cl),uN=Is(hd),fN=Is(Qs),cN=Is(al),us=Tn;(dd&&us(new dd(new ArrayBuffer(1)))!=xm||cl&&us(new cl)!=Ym||hd&&us(hd.resolve())!=Xm||Qs&&us(new Qs)!=Zm||al&&us(new al)!=Qm)&&(us=function(n){var e=Tn(n),t=e==oN?n.constructor:void 0,r=t?Is(t):"";if(r)switch(r){case lN:return xm;case aN:return Ym;case uN:return Xm;case fN:return Zm;case cN:return Qm}return e});const Vr=us;var dN=Object.prototype,hN=dN.hasOwnProperty;function pN(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&hN.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var mN=nn.Uint8Array;const La=mN;function Rh(n){var e=new n.constructor(n.byteLength);return new La(e).set(new La(n)),e}function gN(n,e){var t=e?Rh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var _N=/\w*$/;function vN(n){var e=new n.constructor(n.source,_N.exec(n));return e.lastIndex=n.lastIndex,e}var eg=gn?gn.prototype:void 0,tg=eg?eg.valueOf:void 0;function bN(n){return tg?Object(tg.call(n)):{}}function pk(n,e){var t=e?Rh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var yN="[object Boolean]",kN="[object Date]",wN="[object Map]",EN="[object Number]",SN="[object RegExp]",TN="[object Set]",AN="[object String]",ON="[object Symbol]",CN="[object ArrayBuffer]",MN="[object DataView]",PN="[object Float32Array]",NN="[object Float64Array]",DN="[object Int8Array]",RN="[object Int16Array]",IN="[object Int32Array]",$N="[object Uint8Array]",LN="[object Uint8ClampedArray]",zN="[object Uint16Array]",BN="[object Uint32Array]";function FN(n,e,t){var r=n.constructor;switch(e){case CN:return Rh(n);case yN:case kN:return new r(+n);case MN:return gN(n,t);case PN:case NN:case DN:case RN:case IN:case $N:case LN:case zN:case BN:return pk(n,t);case wN:return new r;case EN:case AN:return new r(n);case SN:return vN(n);case TN:return new r;case ON:return bN(n)}}function mk(n){return typeof n.constructor=="function"&&!Nl(n)?bo(of(n)):{}}var jN="[object Map]";function VN(n){return Vt(n)&&Vr(n)==jN}var ng=cr&&cr.isMap,HN=ng?Wn(ng):VN;const gk=HN;var UN="[object Set]";function WN(n){return Vt(n)&&Vr(n)==UN}var rg=cr&&cr.isSet,qN=rg?Wn(rg):WN;const _k=qN;var GN=1,KN=2,JN=4,vk="[object Arguments]",YN="[object Array]",XN="[object Boolean]",ZN="[object Date]",QN="[object Error]",bk="[object Function]",xN="[object GeneratorFunction]",e3="[object Map]",t3="[object Number]",yk="[object Object]",n3="[object RegExp]",r3="[object Set]",i3="[object String]",s3="[object Symbol]",o3="[object WeakMap]",l3="[object ArrayBuffer]",a3="[object DataView]",u3="[object Float32Array]",f3="[object Float64Array]",c3="[object Int8Array]",d3="[object Int16Array]",h3="[object Int32Array]",p3="[object Uint8Array]",m3="[object Uint8ClampedArray]",g3="[object Uint16Array]",_3="[object Uint32Array]",Pt={};Pt[vk]=Pt[YN]=Pt[l3]=Pt[a3]=Pt[XN]=Pt[ZN]=Pt[u3]=Pt[f3]=Pt[c3]=Pt[d3]=Pt[h3]=Pt[e3]=Pt[t3]=Pt[yk]=Pt[n3]=Pt[r3]=Pt[i3]=Pt[s3]=Pt[p3]=Pt[m3]=Pt[g3]=Pt[_3]=!0;Pt[QN]=Pt[bk]=Pt[o3]=!1;function lr(n,e,t,r,i,s){var o,l=e&GN,a=e&KN,u=e&JN;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!$t(n))return n;var f=rt(n);if(f){if(o=pN(n),!l)return Mn(n,o)}else{var c=Vr(n),d=c==bk||c==xN;if(ji(n))return ck(n,l);if(c==yk||c==vk||d&&!i){if(o=a||d?{}:mk(n),!l)return a?nN(n,JP(o,n)):xP(n,uk(o,n))}else{if(!Pt[c])return i?n:{};o=FN(n,c,l)}}s||(s=new wr);var h=s.get(n);if(h)return h;s.set(n,o),_k(n)?n.forEach(function(_){o.add(lr(_,e,t,_,n,s))}):gk(n)&&n.forEach(function(_,b){o.set(b,lr(_,e,t,b,n,s))});var p=u?a?Dh:cd:a?$n:Zt,g=f?void 0:p(n);return mr(g||n,function(_,b){g&&(b=_,_=n[b]),Pl(o,b,lr(_,e,t,b,n,s))}),o}var v3=4;function b3(n){return lr(n,v3)}var y3=1,k3=4;function gt(n){return lr(n,y3|k3)}var w3=1,E3=4;function S3(n,e){return e=typeof e=="function"?e:void 0,lr(n,w3|E3,e)}var T3=4;function A3(n,e){return e=typeof e=="function"?e:void 0,lr(n,T3,e)}function O3(){return new fr(this.value(),this.__chain__)}function C3(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var s=n[e];s&&(i[r++]=s)}return i}function M3(){var n=arguments.length;if(!n)return[];for(var e=Array(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return Ji(rt(t)?Mn(t):[t],fn(e,1))}var P3="__lodash_hash_undefined__";function N3(n){return this.__data__.set(n,P3),this}function D3(n){return this.__data__.has(n)}function Os(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new gi;++e<t;)this.add(n[e])}Os.prototype.add=Os.prototype.push=N3;Os.prototype.has=D3;function Ih(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function dl(n,e){return n.has(e)}var R3=1,I3=2;function kk(n,e,t,r,i,s){var o=t&R3,l=n.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var u=s.get(n),f=s.get(e);if(u&&f)return u==e&&f==n;var c=-1,d=!0,h=t&I3?new Os:void 0;for(s.set(n,e),s.set(e,n);++c<l;){var p=n[c],g=e[c];if(r)var _=o?r(g,p,c,e,n,s):r(p,g,c,n,e,s);if(_!==void 0){if(_)continue;d=!1;break}if(h){if(!Ih(e,function(b,v){if(!dl(h,v)&&(p===b||i(p,b,t,r,s)))return h.push(v)})){d=!1;break}}else if(!(p===g||i(p,g,t,r,s))){d=!1;break}}return s.delete(n),s.delete(e),d}function $h(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function lf(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var $3=1,L3=2,z3="[object Boolean]",B3="[object Date]",F3="[object Error]",j3="[object Map]",V3="[object Number]",H3="[object RegExp]",U3="[object Set]",W3="[object String]",q3="[object Symbol]",G3="[object ArrayBuffer]",K3="[object DataView]",ig=gn?gn.prototype:void 0,tc=ig?ig.valueOf:void 0;function J3(n,e,t,r,i,s,o){switch(t){case K3:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case G3:return!(n.byteLength!=e.byteLength||!s(new La(n),new La(e)));case z3:case B3:case V3:return Cr(+n,+e);case F3:return n.name==e.name&&n.message==e.message;case H3:case W3:return n==e+"";case j3:var l=$h;case U3:var a=r&$3;if(l||(l=lf),n.size!=e.size&&!a)return!1;var u=o.get(n);if(u)return u==e;r|=L3,o.set(n,e);var f=kk(l(n),l(e),r,i,s,o);return o.delete(n),f;case q3:if(tc)return tc.call(n)==tc.call(e)}return!1}var Y3=1,X3=Object.prototype,Z3=X3.hasOwnProperty;function Q3(n,e,t,r,i,s){var o=t&Y3,l=cd(n),a=l.length,u=cd(e),f=u.length;if(a!=f&&!o)return!1;for(var c=a;c--;){var d=l[c];if(!(o?d in e:Z3.call(e,d)))return!1}var h=s.get(n),p=s.get(e);if(h&&p)return h==e&&p==n;var g=!0;s.set(n,e),s.set(e,n);for(var _=o;++c<a;){d=l[c];var b=n[d],v=e[d];if(r)var E=o?r(v,b,d,e,n,s):r(b,v,d,n,e,s);if(!(E===void 0?b===v||i(b,v,t,r,s):E)){g=!1;break}_||(_=d=="constructor")}if(g&&!_){var k=n.constructor,N=e.constructor;k!=N&&"constructor"in n&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof N=="function"&&N instanceof N)&&(g=!1)}return s.delete(n),s.delete(e),g}var x3=1,sg="[object Arguments]",og="[object Array]",ia="[object Object]",eD=Object.prototype,lg=eD.hasOwnProperty;function tD(n,e,t,r,i,s){var o=rt(n),l=rt(e),a=o?og:Vr(n),u=l?og:Vr(e);a=a==sg?ia:a,u=u==sg?ia:u;var f=a==ia,c=u==ia,d=a==u;if(d&&ji(n)){if(!ji(e))return!1;o=!0,f=!1}if(d&&!f)return s||(s=new wr),o||Eo(n)?kk(n,e,t,r,i,s):J3(n,e,a,t,r,i,s);if(!(t&x3)){var h=f&&lg.call(n,"__wrapped__"),p=c&&lg.call(e,"__wrapped__");if(h||p){var g=h?n.value():n,_=p?e.value():e;return s||(s=new wr),i(g,_,t,r,s)}}return d?(s||(s=new wr),Q3(n,e,t,r,i,s)):!1}function Rl(n,e,t,r,i){return n===e?!0:n==null||e==null||!Vt(n)&&!Vt(e)?n!==n&&e!==e:tD(n,e,t,r,Rl,i)}var nD=1,rD=2;function Lh(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var l=t[i];if(o&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++i<s;){l=t[i];var a=l[0],u=n[a],f=l[1];if(o&&l[2]){if(u===void 0&&!(a in n))return!1}else{var c=new wr;if(r)var d=r(u,f,a,n,e,c);if(!(d===void 0?Rl(f,u,nD|rD,r,c):d))return!1}}return!0}function wk(n){return n===n&&!$t(n)}function zh(n){for(var e=Zt(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,wk(i)]}return e}function Ek(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function Sk(n){var e=zh(n);return e.length==1&&e[0][2]?Ek(e[0][0],e[0][1]):function(t){return t===n||Lh(t,n,e)}}function iD(n,e){return n!=null&&e in Object(n)}function Tk(n,e,t){e=Ki(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Jr(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&ef(i)&&di(o,i)&&(rt(n)||Ts(n)))}function Bh(n,e){return n!=null&&Tk(n,e,iD)}var sD=1,oD=2;function Ak(n,e){return kh(n)&&wk(e)?Ek(Jr(n),e):function(t){var r=sf(t,n);return r===void 0&&r===e?Bh(t,n):Rl(e,r,sD|oD)}}function Fh(n){return function(e){return e==null?void 0:e[n]}}function lD(n){return function(e){return Ls(e,n)}}function Ok(n){return kh(n)?Fh(Jr(n)):lD(n)}function tt(n){return typeof n=="function"?n:n==null?An:typeof n=="object"?rt(n)?Ak(n[0],n[1]):Sk(n):Ok(n)}var aD="Expected a function";function uD(n){var e=n==null?0:n.length,t=tt;return n=e?It(n,function(r){if(typeof r[1]!="function")throw new TypeError(aD);return[t(r[0]),r[1]]}):[],pt(function(r){for(var i=-1;++i<e;){var s=n[i];if(Un(s[0],this,r))return Un(s[1],this,r)}})}function Ck(n,e,t){var r=t.length;if(n==null)return!r;for(n=Object(n);r--;){var i=t[r],s=e[i],o=n[i];if(o===void 0&&!(i in n)||!s(o))return!1}return!0}function fD(n){var e=Zt(n);return function(t){return Ck(t,n,e)}}var cD=1;function dD(n){return fD(lr(n,cD))}function hD(n,e){return e==null||Ck(n,e,Zt(e))}function pD(n,e,t,r){for(var i=-1,s=n==null?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r}function Mk(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var a=o[n?l:++i];if(t(s[a],a,s)===!1)break}return e}}var mD=Mk();const jh=mD;function Xr(n,e){return n&&jh(n,e,Zt)}function Pk(n,e){return function(t,r){if(t==null)return t;if(!In(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var gD=Pk(Xr);const Zi=gD;function _D(n,e,t,r){return Zi(n,function(i,s,o){e(r,i,t(i),o)}),r}function af(n,e){return function(t,r){var i=rt(t)?pD:_D,s=e?e():{};return i(t,n,tt(r),s)}}var vD=Object.prototype,bD=vD.hasOwnProperty,yD=af(function(n,e,t){bD.call(n,t)?++n[t]:pi(n,t,1)});const kD=yD;function wD(n,e){var t=bo(n);return e==null?t:uk(t,e)}var ED=8;function Vh(n,e,t){e=t?void 0:e;var r=hi(n,ED,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=Vh.placeholder,r}Vh.placeholder={};var SD=16;function Hh(n,e,t){e=t?void 0:e;var r=hi(n,SD,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=Hh.placeholder,r}Hh.placeholder={};var TD=function(){return nn.Date.now()};const Ea=TD;var AD="Expected a function",OD=Math.max,CD=Math.min;function Nk(n,e,t){var r,i,s,o,l,a,u=0,f=!1,c=!1,d=!0;if(typeof n!="function")throw new TypeError(AD);e=or(e)||0,$t(t)&&(f=!!t.leading,c="maxWait"in t,s=c?OD(or(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function h(C){var M=r,D=i;return r=i=void 0,u=C,o=n.apply(D,M),o}function p(C){return u=C,l=setTimeout(b,e),f?h(C):o}function g(C){var M=C-a,D=C-u,I=e-M;return c?CD(I,s-D):I}function _(C){var M=C-a,D=C-u;return a===void 0||M>=e||M<0||c&&D>=s}function b(){var C=Ea();if(_(C))return v(C);l=setTimeout(b,g(C))}function v(C){return l=void 0,d&&r?h(C):(r=i=void 0,o)}function E(){l!==void 0&&clearTimeout(l),u=0,r=a=i=l=void 0}function k(){return l===void 0?o:v(Ea())}function N(){var C=Ea(),M=_(C);if(r=arguments,i=this,a=C,M){if(l===void 0)return p(a);if(c)return clearTimeout(l),l=setTimeout(b,e),h(a)}return l===void 0&&(l=setTimeout(b,e)),o}return N.cancel=E,N.flush=k,N}function MD(n,e){return n==null||n!==n?e:n}var Dk=Object.prototype,PD=Dk.hasOwnProperty,ND=pt(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&kn(e[0],e[1],i)&&(r=1);++t<r;)for(var s=e[t],o=$n(s),l=-1,a=o.length;++l<a;){var u=o[l],f=n[u];(f===void 0||Cr(f,Dk[u])&&!PD.call(n,u))&&(n[u]=s[u])}return n});const DD=ND;function pd(n,e,t){(t!==void 0&&!Cr(n[e],t)||t===void 0&&!(e in n))&&pi(n,e,t)}function Wt(n){return Vt(n)&&In(n)}function md(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Rk(n){return Kr(n,$n(n))}function RD(n,e,t,r,i,s,o){var l=md(n,t),a=md(e,t),u=o.get(a);if(u){pd(n,t,u);return}var f=s?s(l,a,t+"",n,e,o):void 0,c=f===void 0;if(c){var d=rt(a),h=!d&&ji(a),p=!d&&!h&&Eo(a);f=a,d||h||p?rt(l)?f=l:Wt(l)?f=Mn(l):h?(c=!1,f=ck(a,!0)):p?(c=!1,f=pk(a,!0)):f=[]:Dl(a)||Ts(a)?(f=l,Ts(l)?f=Rk(l):(!$t(l)||ci(l))&&(f=mk(a))):c=!1}c&&(o.set(a,f),i(f,a,r,s,o),o.delete(a)),pd(n,t,f)}function uf(n,e,t,r,i){n!==e&&jh(e,function(s,o){if(i||(i=new wr),$t(s))RD(n,e,o,t,uf,r,i);else{var l=r?r(md(n,o),s,o+"",n,e,i):void 0;l===void 0&&(l=s),pd(n,o,l)}},$n)}function Ik(n,e,t,r,i,s){return $t(n)&&$t(e)&&(s.set(e,n),uf(n,e,void 0,Ik,s),s.delete(e)),n}var ID=wo(function(n,e,t,r){uf(n,e,t,r)});const $k=ID;var $D=pt(function(n){return n.push(void 0,Ik),Un($k,void 0,n)});const LD=$D;var zD="Expected a function";function Lk(n,e,t){if(typeof n!="function")throw new TypeError(zD);return setTimeout(function(){n.apply(void 0,t)},e)}var BD=pt(function(n,e){return Lk(n,1,e)});const FD=BD;var jD=pt(function(n,e,t){return Lk(n,or(e)||0,t)});const VD=jD;function Uh(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}var HD=200;function Il(n,e,t,r){var i=-1,s=Qu,o=!0,l=n.length,a=[],u=e.length;if(!l)return a;t&&(e=It(e,Wn(t))),r?(s=Uh,o=!1):e.length>=HD&&(s=dl,o=!1,e=new Os(e));e:for(;++i<l;){var f=n[i],c=t==null?f:t(f);if(f=r||f!==0?f:0,o&&c===c){for(var d=u;d--;)if(e[d]===c)continue e;a.push(f)}else s(e,c,r)||a.push(f)}return a}var UD=pt(function(n,e){return Wt(n)?Il(n,fn(e,1,Wt,!0)):[]});const WD=UD;function qn(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var qD=pt(function(n,e){var t=qn(e);return Wt(t)&&(t=void 0),Wt(n)?Il(n,fn(e,1,Wt,!0),tt(t)):[]});const GD=qD;var KD=pt(function(n,e){var t=qn(e);return Wt(t)&&(t=void 0),Wt(n)?Il(n,fn(e,1,Wt,!0),void 0,t):[]});const JD=KD;var YD=Yu(function(n,e){return n/e},1);const XD=YD;function ZD(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:lt(e),dr(n,e<0?0:e,r)):[]}function QD(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:lt(e),e=r-e,dr(n,0,e<0?0:e)):[]}function ff(n,e,t,r){for(var i=n.length,s=r?i:-1;(r?s--:++s<i)&&e(n[s],s,n););return t?dr(n,r?0:s,r?s+1:i):dr(n,r?s+1:0,r?i:s)}function xD(n,e){return n&&n.length?ff(n,tt(e),!0,!0):[]}function eR(n,e){return n&&n.length?ff(n,tt(e),!0):[]}function Zr(n){return typeof n=="function"?n:An}function ag(n,e){var t=rt(n)?mr:Zi;return t(n,Zr(e))}function tR(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var nR=Mk(!0);const zk=nR;function Wh(n,e){return n&&zk(n,e,Zt)}var rR=Pk(Wh,!0);const Bk=rR;function ug(n,e){var t=rt(n)?tR:Bk;return t(n,Zr(e))}function iR(n,e,t){n=wt(n),e=Hn(e);var r=n.length;t=t===void 0?r:zs(lt(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function sR(n,e){return It(e,function(t){return[t,n[t]]})}function oR(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=[r,r]}),t}var lR="[object Map]",aR="[object Set]";function Fk(n){return function(e){var t=Vr(e);return t==lR?$h(e):t==aR?oR(e):sR(e,n(e))}}var uR=Fk(Zt);const fg=uR;var fR=Fk($n);const cg=fR;var cR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dR=Ch(cR);const hR=dR;var jk=/[&<>"']/g,pR=RegExp(jk.source);function Vk(n){return n=wt(n),n&&pR.test(n)?n.replace(jk,hR):n}var Hk=/[\\^$.*+?()[\]{}|]/g,mR=RegExp(Hk.source);function gR(n){return n=wt(n),n&&mR.test(n)?n.replace(Hk,"\\$&"):n}function Uk(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function _R(n,e){var t=!0;return Zi(n,function(r,i,s){return t=!!e(r,i,s),t}),t}function vR(n,e,t){var r=rt(n)?Uk:_R;return t&&kn(n,e,t)&&(e=void 0),r(n,tt(e))}var bR=4294967295;function Wk(n){return n?zs(lt(n),0,bR):0}function yR(n,e,t,r){var i=n.length;for(t=lt(t),t<0&&(t=-t>i?0:i+t),r=r===void 0||r>i?i:lt(r),r<0&&(r+=i),r=t>r?0:Wk(r);t<r;)n[t++]=e;return n}function kR(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&kn(n,e,t)&&(t=0,r=i),yR(n,e,t,r)):[]}function qk(n,e){var t=[];return Zi(n,function(r,i,s){e(r,i,s)&&t.push(r)}),t}function wR(n,e){var t=rt(n)?Xi:qk;return t(n,tt(e))}function Gk(n){return function(e,t,r){var i=Object(e);if(!In(e)){var s=tt(t);e=Zt(e),t=function(l){return s(i[l],l,i)}}var o=n(e,t,r);return o>-1?i[s?e[o]:o]:void 0}}var ER=Math.max;function qh(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:lt(t);return i<0&&(i=ER(r+i,0)),Zu(n,tt(e),i)}var SR=Gk(qh);const Er=SR;function Kk(n,e,t){var r;return t(n,function(i,s,o){if(e(i,s,o))return r=s,!1}),r}function TR(n,e){return Kk(n,tt(e),Xr)}var AR=Math.max,OR=Math.min;function Jk(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=lt(t),i=t<0?AR(r+i,0):OR(i,r-1)),Zu(n,tt(e),i,!0)}var CR=Gk(Jk);const MR=CR;function PR(n,e){return Kk(n,tt(e),Wh)}function dg(n){return n&&n.length?n[0]:void 0}function Yk(n,e){var t=-1,r=In(n)?Array(n.length):[];return Zi(n,function(i,s,o){r[++t]=e(i,s,o)}),r}function cf(n,e){var t=rt(n)?It:Yk;return t(n,tt(e))}function NR(n,e){return fn(cf(n,e),1)}var DR=1/0;function RR(n,e){return fn(cf(n,e),DR)}function IR(n,e,t){return t=t===void 0?1:lt(t),fn(cf(n,e),t)}var $R=1/0;function LR(n){var e=n==null?0:n.length;return e?fn(n,$R):[]}function zR(n,e){var t=n==null?0:n.length;return t?(e=e===void 0?1:lt(e),fn(n,e)):[]}var BR=512;function FR(n){return hi(n,BR)}var jR=Mh("floor");const VR=jR;var HR="Expected a function",UR=8,WR=32,qR=128,GR=256;function Xk(n){return _i(function(e){var t=e.length,r=t,i=fr.prototype.thru;for(n&&e.reverse();r--;){var s=e[r];if(typeof s!="function")throw new TypeError(HR);if(i&&!o&&wa(s)=="wrapper")var o=new fr([],!0)}for(r=o?r:t;++r<t;){s=e[r];var l=wa(s),a=l=="wrapper"?mh(s):void 0;a&&ad(a[0])&&a[1]==(qR|UR|WR|GR)&&!a[4].length&&a[9]==1?o=o[wa(a[0])].apply(o,a[3]):o=s.length==1&&ad(s)?o[l]():o.thru(s)}return function(){var u=arguments,f=u[0];if(o&&u.length==1&&rt(f))return o.plant(f).value();for(var c=0,d=t?e[c].apply(this,u):f;++c<t;)d=e[c].call(this,d);return d}})}var KR=Xk();const JR=KR;var YR=Xk(!0);const XR=YR;function ZR(n,e){return n==null?n:jh(n,Zr(e),$n)}function QR(n,e){return n==null?n:zk(n,Zr(e),$n)}function xR(n,e){return n&&Xr(n,Zr(e))}function eI(n,e){return n&&Wh(n,Zr(e))}function tI(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function df(n,e){return Xi(e,function(t){return ci(n[t])})}function nI(n){return n==null?[]:df(n,Zt(n))}function rI(n){return n==null?[]:df(n,$n(n))}var iI=Object.prototype,sI=iI.hasOwnProperty,oI=af(function(n,e,t){sI.call(n,t)?n[t].push(e):pi(n,t,[e])});const lI=oI;function Gh(n,e){return n>e}function hf(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=or(e),t=or(t)),n(e,t)}}var aI=hf(Gh);const uI=aI;var fI=hf(function(n,e){return n>=e});const cI=fI;var dI=Object.prototype,hI=dI.hasOwnProperty;function pI(n,e){return n!=null&&hI.call(n,e)}function mI(n,e){return n!=null&&Tk(n,e,pI)}var gI=Math.max,_I=Math.min;function vI(n,e,t){return n>=_I(e,t)&&n<gI(e,t)}function bI(n,e,t){return e=oi(e),t===void 0?(t=e,e=0):t=oi(t),n=or(n),vI(n,e,t)}var yI="[object String]";function pf(n){return typeof n=="string"||!rt(n)&&Vt(n)&&Tn(n)==yI}function Kh(n,e){return It(e,function(t){return n[t]})}function Ao(n){return n==null?[]:Kh(n,Zt(n))}var kI=Math.max;function wI(n,e,t,r){n=In(n)?n:Ao(n),t=t&&!r?lt(t):0;var i=n.length;return t<0&&(t=kI(i+t,0)),pf(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&yo(n,e,t)>-1}var EI=Math.max;function SI(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:lt(t);return i<0&&(i=EI(r+i,0)),yo(n,e,i)}function TI(n){var e=n==null?0:n.length;return e?dr(n,0,-1):[]}var AI=Math.min;function Jh(n,e,t){for(var r=t?Uh:Qu,i=n[0].length,s=n.length,o=s,l=Array(s),a=1/0,u=[];o--;){var f=n[o];o&&e&&(f=It(f,Wn(e))),a=AI(f.length,a),l[o]=!t&&(e||i>=120&&f.length>=120)?new Os(o&&f):void 0}f=n[0];var c=-1,d=l[0];e:for(;++c<i&&u.length<a;){var h=f[c],p=e?e(h):h;if(h=t||h!==0?h:0,!(d?dl(d,p):r(u,p,t))){for(o=s;--o;){var g=l[o];if(!(g?dl(g,p):r(n[o],p,t)))continue e}d&&d.push(p),u.push(h)}}return u}function Yh(n){return Wt(n)?n:[]}var OI=pt(function(n){var e=It(n,Yh);return e.length&&e[0]===n[0]?Jh(e):[]});const CI=OI;var MI=pt(function(n){var e=qn(n),t=It(n,Yh);return e===qn(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?Jh(t,tt(e)):[]});const PI=MI;var NI=pt(function(n){var e=qn(n),t=It(n,Yh);return e=typeof e=="function"?e:void 0,e&&t.pop(),t.length&&t[0]===n[0]?Jh(t,void 0,e):[]});const DI=NI;function RI(n,e,t,r){return Xr(n,function(i,s,o){e(r,t(i),s,o)}),r}function Zk(n,e){return function(t,r){return RI(t,n,e(r),{})}}var II=Object.prototype,$I=II.toString,LI=Zk(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=$I.call(e)),n[e]=t},gh(An));const zI=LI;var Qk=Object.prototype,BI=Qk.hasOwnProperty,FI=Qk.toString,jI=Zk(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=FI.call(e)),BI.call(n,e)?n[e].push(t):n[e]=[t]},tt);const VI=jI;function xk(n,e){return e.length<2?n:Ls(n,dr(e,0,-1))}function $l(n,e,t){e=Ki(e,n),n=xk(n,e);var r=n==null?n:n[Jr(qn(e))];return r==null?void 0:Un(r,n,t)}var HI=pt($l);const UI=HI;var WI=pt(function(n,e,t){var r=-1,i=typeof e=="function",s=In(n)?Array(n.length):[];return Zi(n,function(o){s[++r]=i?Un(e,o,t):$l(o,e,t)}),s});const qI=WI;var GI="[object ArrayBuffer]";function KI(n){return Vt(n)&&Tn(n)==GI}var hg=cr&&cr.isArrayBuffer,JI=hg?Wn(hg):KI;const YI=JI;var XI="[object Boolean]";function ZI(n){return n===!0||n===!1||Vt(n)&&Tn(n)==XI}var QI="[object Date]";function xI(n){return Vt(n)&&Tn(n)==QI}var pg=cr&&cr.isDate,e$=pg?Wn(pg):xI;const t$=e$;function n$(n){return Vt(n)&&n.nodeType===1&&!Dl(n)}var r$="[object Map]",i$="[object Set]",s$=Object.prototype,o$=s$.hasOwnProperty;function l$(n){if(n==null)return!0;if(In(n)&&(rt(n)||typeof n=="string"||typeof n.splice=="function"||ji(n)||Eo(n)||Ts(n)))return!n.length;var e=Vr(n);if(e==r$||e==i$)return!n.size;if(Nl(n))return!yh(n).length;for(var t in n)if(o$.call(n,t))return!1;return!0}function ew(n,e){return Rl(n,e)}function a$(n,e,t){t=typeof t=="function"?t:void 0;var r=t?t(n,e):void 0;return r===void 0?Rl(n,e,void 0,t):!!r}var u$=nn.isFinite;function f$(n){return typeof n=="number"&&u$(n)}function tw(n){return typeof n=="number"&&n==lt(n)}function c$(n,e){return n===e||Lh(n,e,zh(e))}function d$(n,e,t){return t=typeof t=="function"?t:void 0,Lh(n,e,zh(e),t)}var h$="[object Number]";function nw(n){return typeof n=="number"||Vt(n)&&Tn(n)==h$}function p$(n){return nw(n)&&n!=+n}var m$=ka?ci:bh;const g$=m$;var _$="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function v$(n){if(g$(n))throw new Error(_$);return _y(n)}function b$(n){return n==null}function y$(n){return n===null}var k$="[object RegExp]";function w$(n){return Vt(n)&&Tn(n)==k$}var mg=cr&&cr.isRegExp,E$=mg?Wn(mg):w$;const Xh=E$;var gg=9007199254740991;function S$(n){return tw(n)&&n>=-gg&&n<=gg}function T$(n){return n===void 0}var A$="[object WeakMap]";function O$(n){return Vt(n)&&Vr(n)==A$}var C$="[object WeakSet]";function M$(n){return Vt(n)&&Tn(n)==C$}var P$=1;function N$(n){return tt(typeof n=="function"?n:lr(n,P$))}var D$=Array.prototype,R$=D$.join;function I$(n,e){return n==null?"":R$.call(n,e)}var $$=To(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()});const L$=$$;var z$=af(function(n,e,t){pi(n,t,e)});const B$=z$;function F$(n,e,t){for(var r=t+1;r--;)if(n[r]===e)return r;return r}var j$=Math.max,V$=Math.min;function H$(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==void 0&&(i=lt(t),i=i<0?j$(r+i,0):V$(i,r-1)),e===e?F$(n,e,i):Zu(n,Sy,i,!0)}var U$=To(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()});const W$=U$;var q$=Gy("toLowerCase");const G$=q$;function Zh(n,e){return n<e}var K$=hf(Zh);const J$=K$;var Y$=hf(function(n,e){return n<=e});const X$=Y$;function Z$(n,e){var t={};return e=tt(e),Xr(n,function(r,i,s){pi(t,e(r,i,s),r)}),t}function Q$(n,e){var t={};return e=tt(e),Xr(n,function(r,i,s){pi(t,i,e(r,i,s))}),t}var x$=1;function eL(n){return Sk(lr(n,x$))}var tL=1;function nL(n,e){return Ak(n,lr(e,tL))}function mf(n,e,t){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!Vn(o):t(o,l)))var l=o,a=s}return a}function rL(n){return n&&n.length?mf(n,An,Gh):void 0}function iL(n,e){return n&&n.length?mf(n,tt(e),Gh):void 0}function Qh(n,e){for(var t,r=-1,i=n.length;++r<i;){var s=e(n[r]);s!==void 0&&(t=t===void 0?s:t+s)}return t}var sL=0/0;function rw(n,e){var t=n==null?0:n.length;return t?Qh(n,e)/t:sL}function oL(n){return rw(n,An)}function lL(n,e){return rw(n,tt(e))}var aL=wo(function(n,e,t){uf(n,e,t)});const uL=aL;var fL=pt(function(n,e){return function(t){return $l(t,n,e)}});const cL=fL;var dL=pt(function(n,e){return function(t){return $l(n,t,e)}});const hL=dL;function pL(n){return n&&n.length?mf(n,An,Zh):void 0}function mL(n,e){return n&&n.length?mf(n,tt(e),Zh):void 0}function iw(n,e,t){var r=Zt(e),i=df(e,r),s=!($t(t)&&"chain"in t)||!!t.chain,o=ci(n);return mr(i,function(l){var a=e[l];n[l]=a,o&&(n.prototype[l]=function(){var u=this.__chain__;if(s||u){var f=n(this.__wrapped__),c=f.__actions__=Mn(this.__actions__);return c.push({func:a,args:arguments,thisArg:n}),f.__chain__=u,f}return a.apply(n,Ji([this.value()],arguments))})}),n}var gL=Yu(function(n,e){return n*e},1);const _L=gL;var vL="Expected a function";function Ll(n){if(typeof n!="function")throw new TypeError(vL);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function bL(n){for(var e,t=[];!(e=n.next()).done;)t.push(e.value);return t}var yL="[object Map]",kL="[object Set]",nc=gn?gn.iterator:void 0;function sw(n){if(!n)return[];if(In(n))return pf(n)?Ar(n):Mn(n);if(nc&&n[nc])return bL(n[nc]());var e=Vr(n),t=e==yL?$h:e==kL?lf:Ao;return t(n)}function wL(){this.__values__===void 0&&(this.__values__=sw(this.value()));var n=this.__index__>=this.__values__.length,e=n?void 0:this.__values__[this.__index__++];return{done:n,value:e}}function ow(n,e){var t=n.length;if(t)return e+=e<0?t:0,di(e,t)?n[e]:void 0}function EL(n,e){return n&&n.length?ow(n,lt(e)):void 0}function SL(n){return n=lt(n),pt(function(e){return ow(e,n)})}function xh(n,e){return e=Ki(e,n),n=xk(n,e),n==null||delete n[Jr(qn(e))]}function TL(n){return Dl(n)?void 0:n}var AL=1,OL=2,CL=4,ML=_i(function(n,e){var t={};if(n==null)return t;var r=!1;e=It(e,function(s){return s=Ki(s,n),r||(r=s.length>1),s}),Kr(n,Dh(n),t),r&&(t=lr(t,AL|OL|CL,TL));for(var i=e.length;i--;)xh(t,e[i]);return t});const PL=ML;function zl(n,e,t,r){if(!$t(n))return n;e=Ki(e,n);for(var i=-1,s=e.length,o=s-1,l=n;l!=null&&++i<s;){var a=Jr(e[i]),u=t;if(a==="__proto__"||a==="constructor"||a==="prototype")return n;if(i!=o){var f=l[a];u=r?r(f,a,l):void 0,u===void 0&&(u=$t(f)?f:di(e[i+1])?[]:{})}Pl(l,a,u),l=l[a]}return n}function lw(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],l=Ls(n,o);t(l,o)&&zl(s,Ki(o,n),l)}return s}function aw(n,e){if(n==null)return{};var t=It(Dh(n),function(r){return[r]});return e=tt(e),lw(n,t,function(r,i){return e(r,i[0])})}function NL(n,e){return aw(n,Ll(tt(e)))}function DL(n){return By(2,n)}function RL(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function uw(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,s=Vn(n),o=e!==void 0,l=e===null,a=e===e,u=Vn(e);if(!l&&!u&&!s&&n>e||s&&o&&a&&!l&&!u||r&&o&&a||!t&&a||!i)return 1;if(!r&&!s&&!u&&n<e||u&&t&&i&&!r&&!s||l&&t&&i||!o&&i||!a)return-1}return 0}function IL(n,e,t){for(var r=-1,i=n.criteria,s=e.criteria,o=i.length,l=t.length;++r<o;){var a=uw(i[r],s[r]);if(a){if(r>=l)return a;var u=t[r];return a*(u=="desc"?-1:1)}}return n.index-e.index}function fw(n,e,t){e.length?e=It(e,function(s){return rt(s)?function(o){return Ls(o,s.length===1?s[0]:s)}:s}):e=[An];var r=-1;e=It(e,Wn(tt));var i=Yk(n,function(s,o,l){var a=It(e,function(u){return u(s)});return{criteria:a,index:++r,value:s}});return RL(i,function(s,o){return IL(s,o,t)})}function $L(n,e,t,r){return n==null?[]:(rt(e)||(e=e==null?[]:[e]),t=r?void 0:t,rt(t)||(t=t==null?[]:[t]),fw(n,e,t))}function ep(n){return _i(function(e){return e=It(e,Wn(tt)),pt(function(t){var r=this;return n(e,function(i){return Un(i,r,t)})})})}var LL=ep(It);const zL=LL;var BL=pt;const FL=BL;var jL=Math.min,VL=FL(function(n,e){e=e.length==1&&rt(e[0])?It(e[0],Wn(tt)):It(fn(e,1),Wn(tt));var t=e.length;return pt(function(r){for(var i=-1,s=jL(r.length,t);++i<s;)r[i]=e[i].call(this,r[i]);return Un(n,this,r)})});const HL=VL;var UL=ep(Uk);const WL=UL;var qL=ep(Ih);const GL=qL;var KL=9007199254740991,JL=Math.floor;function gd(n,e){var t="";if(!n||e<1||e>KL)return t;do e%2&&(t+=n),e=JL(e/2),e&&(n+=n);while(e);return t}var YL=Fh("length");const XL=YL;var cw="\\ud800-\\udfff",ZL="\\u0300-\\u036f",QL="\\ufe20-\\ufe2f",xL="\\u20d0-\\u20ff",e4=ZL+QL+xL,t4="\\ufe0e\\ufe0f",n4="["+cw+"]",_d="["+e4+"]",vd="\\ud83c[\\udffb-\\udfff]",r4="(?:"+_d+"|"+vd+")",dw="[^"+cw+"]",hw="(?:\\ud83c[\\udde6-\\uddff]){2}",pw="[\\ud800-\\udbff][\\udc00-\\udfff]",i4="\\u200d",mw=r4+"?",gw="["+t4+"]?",s4="(?:"+i4+"(?:"+[dw,hw,pw].join("|")+")"+gw+mw+")*",o4=gw+mw+s4,l4="(?:"+[dw+_d+"?",_d,hw,pw,n4].join("|")+")",_g=RegExp(vd+"(?="+vd+")|"+l4+o4,"g");function a4(n){for(var e=_g.lastIndex=0;_g.test(n);)++e;return e}function Oo(n){return So(n)?a4(n):XL(n)}var u4=Math.ceil;function za(n,e){e=e===void 0?" ":Hn(e);var t=e.length;if(t<2)return t?gd(e,n):e;var r=gd(e,u4(n/Oo(e)));return So(e)?Yi(Ar(r),0,n).join(""):r.slice(0,n)}var f4=Math.ceil,c4=Math.floor;function d4(n,e,t){n=wt(n),e=lt(e);var r=e?Oo(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return za(c4(i),t)+n+za(f4(i),t)}function h4(n,e,t){n=wt(n),e=lt(e);var r=e?Oo(n):0;return e&&r<e?n+za(e-r,t):n}function p4(n,e,t){n=wt(n),e=lt(e);var r=e?Oo(n):0;return e&&r<e?za(e-r,t)+n:n}var m4=/^\s+/,g4=nn.parseInt;function _4(n,e,t){return t||e==null?e=0:e&&(e=+e),g4(wt(n).replace(m4,""),e||0)}var v4=32,tp=pt(function(n,e){var t=Fi(e,ko(tp));return hi(n,v4,void 0,e,t)});tp.placeholder={};const _w=tp;var b4=64,np=pt(function(n,e){var t=Fi(e,ko(np));return hi(n,b4,void 0,e,t)});np.placeholder={};const y4=np;var k4=af(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});const w4=k4;function E4(n,e){return lw(n,e,function(t,r){return Bh(n,r)})}var S4=_i(function(n,e){return n==null?{}:E4(n,e)});const T4=S4;function A4(n){for(var e,t=this;t instanceof Xu;){var r=ky(t);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function O4(n){return function(e){return n==null?void 0:Ls(n,e)}}function C4(n,e,t,r){for(var i=t-1,s=n.length;++i<s;)if(r(n[i],e))return i;return-1}var M4=Array.prototype,vg=M4.splice;function rp(n,e,t,r){var i=r?C4:yo,s=-1,o=e.length,l=n;for(n===e&&(e=Mn(e)),t&&(l=It(n,Wn(t)));++s<o;)for(var a=0,u=e[s],f=t?t(u):u;(a=i(l,f,a,r))>-1;)l!==n&&vg.call(l,a,1),vg.call(n,a,1);return n}function vw(n,e){return n&&n.length&&e&&e.length?rp(n,e):n}var P4=pt(vw);const N4=P4;function D4(n,e,t){return n&&n.length&&e&&e.length?rp(n,e,tt(t)):n}function R4(n,e,t){return n&&n.length&&e&&e.length?rp(n,e,void 0,t):n}var I4=Array.prototype,$4=I4.splice;function bw(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==s){var s=i;di(i)?$4.call(n,i,1):xh(n,i)}}return n}var L4=_i(function(n,e){var t=n==null?0:n.length,r=wh(n,e);return bw(n,It(e,function(i){return di(i,t)?+i:i}).sort(uw)),r});const z4=L4;var B4=Math.floor,F4=Math.random;function ip(n,e){return n+B4(F4()*(e-n+1))}var j4=parseFloat,V4=Math.min,H4=Math.random;function U4(n,e,t){if(t&&typeof t!="boolean"&&kn(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=oi(n),e===void 0?(e=n,n=0):e=oi(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=H4();return V4(n+i*(e-n+j4("1e-"+((i+"").length-1))),e)}return ip(n,e)}var W4=Math.ceil,q4=Math.max;function G4(n,e,t,r){for(var i=-1,s=q4(W4((e-n)/(t||1)),0),o=Array(s);s--;)o[r?s:++i]=n,n+=t;return o}function yw(n){return function(e,t,r){return r&&typeof r!="number"&&kn(e,t,r)&&(t=r=void 0),e=oi(e),t===void 0?(t=e,e=0):t=oi(t),r=r===void 0?e<t?1:-1:oi(r),G4(e,t,r,n)}}var K4=yw();const J4=K4;var Y4=yw(!0);const X4=Y4;var Z4=256,Q4=_i(function(n,e){return hi(n,Z4,void 0,void 0,void 0,e)});const x4=Q4;function kw(n,e,t,r,i){return i(n,function(s,o,l){t=r?(r=!1,s):e(t,s,o,l)}),t}function e5(n,e,t){var r=rt(n)?Oh:kw,i=arguments.length<3;return r(n,tt(e),t,i,Zi)}function t5(n,e,t,r){var i=n==null?0:n.length;for(r&&i&&(t=n[--i]);i--;)t=e(t,n[i],i,n);return t}function n5(n,e,t){var r=rt(n)?t5:kw,i=arguments.length<3;return r(n,tt(e),t,i,Bk)}function r5(n,e){var t=rt(n)?Xi:qk;return t(n,Ll(tt(e)))}function i5(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],s=n.length;for(e=tt(e);++r<s;){var o=n[r];e(o,r,n)&&(t.push(o),i.push(r))}return bw(n,i),t}function s5(n,e,t){return(t?kn(n,e,t):e===void 0)?e=1:e=lt(e),gd(wt(n),e)}function o5(){var n=arguments,e=wt(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var l5="Expected a function";function a5(n,e){if(typeof n!="function")throw new TypeError(l5);return e=e===void 0?e:lt(e),pt(n,e)}function u5(n,e,t){e=Ki(e,n);var r=-1,i=e.length;for(i||(i=1,n=void 0);++r<i;){var s=n==null?void 0:n[Jr(e[r])];s===void 0&&(r=i,s=t),n=ci(s)?s.call(n):s}return n}var f5=Array.prototype,c5=f5.reverse;function bd(n){return n==null?n:c5.call(n)}var d5=Mh("round");const h5=d5;function ww(n){var e=n.length;return e?n[ip(0,e-1)]:void 0}function p5(n){return ww(Ao(n))}function m5(n){var e=rt(n)?ww:p5;return e(n)}function gf(n,e){var t=-1,r=n.length,i=r-1;for(e=e===void 0?r:e;++t<e;){var s=ip(t,i),o=n[s];n[s]=n[t],n[t]=o}return n.length=e,n}function g5(n,e){return gf(Mn(n),zs(e,0,n.length))}function _5(n,e){var t=Ao(n);return gf(t,zs(e,0,t.length))}function v5(n,e,t){(t?kn(n,e,t):e===void 0)?e=1:e=lt(e);var r=rt(n)?g5:_5;return r(n,e)}function Ho(n,e,t){return n==null?n:zl(n,e,t)}function b5(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:zl(n,e,t,r)}function y5(n){return gf(Mn(n))}function k5(n){return gf(Ao(n))}function w5(n){var e=rt(n)?y5:k5;return e(n)}var E5="[object Map]",S5="[object Set]";function T5(n){if(n==null)return 0;if(In(n))return pf(n)?Oo(n):n.length;var e=Vr(n);return e==E5||e==S5?n.size:yh(n).length}function A5(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&kn(n,e,t)?(e=0,t=r):(e=e==null?0:lt(e),t=t===void 0?r:lt(t)),dr(n,e,t)):[]}var O5=To(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});const C5=O5;function M5(n,e){var t;return Zi(n,function(r,i,s){return t=e(r,i,s),!t}),!!t}function P5(n,e,t){var r=rt(n)?Ih:M5;return t&&kn(n,e,t)&&(e=void 0),r(n,tt(e))}var N5=pt(function(n,e){if(n==null)return[];var t=e.length;return t>1&&kn(n,e[0],e[1])?e=[]:t>2&&kn(e[0],e[1],e[2])&&(e=[e[0]]),fw(n,fn(e,1),[])});const D5=N5;var R5=4294967295,I5=R5-1,$5=Math.floor,L5=Math.min;function sp(n,e,t,r){var i=0,s=n==null?0:n.length;if(s===0)return 0;e=t(e);for(var o=e!==e,l=e===null,a=Vn(e),u=e===void 0;i<s;){var f=$5((i+s)/2),c=t(n[f]),d=c!==void 0,h=c===null,p=c===c,g=Vn(c);if(o)var _=r||p;else u?_=p&&(r||d):l?_=p&&d&&(r||!h):a?_=p&&d&&!h&&(r||!g):h||g?_=!1:_=r?c<=e:c<e;_?i=f+1:s=f}return L5(s,I5)}var z5=4294967295,B5=z5>>>1;function _f(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=B5){for(;r<i;){var s=r+i>>>1,o=n[s];o!==null&&!Vn(o)&&(t?o<=e:o<e)?r=s+1:i=s}return i}return sp(n,e,An,t)}function F5(n,e){return _f(n,e)}function j5(n,e,t){return sp(n,e,tt(t))}function V5(n,e){var t=n==null?0:n.length;if(t){var r=_f(n,e);if(r<t&&Cr(n[r],e))return r}return-1}function H5(n,e){return _f(n,e,!0)}function U5(n,e,t){return sp(n,e,tt(t),!0)}function W5(n,e){var t=n==null?0:n.length;if(t){var r=_f(n,e,!0)-1;if(Cr(n[r],e))return r}return-1}function Ew(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t],l=e?e(o):o;if(!t||!Cr(l,a)){var a=l;s[i++]=o===0?0:o}}return s}function q5(n){return n&&n.length?Ew(n):[]}function G5(n,e){return n&&n.length?Ew(n,tt(e)):[]}var K5=4294967295;function J5(n,e,t){return t&&typeof t!="number"&&kn(n,e,t)&&(e=t=void 0),t=t===void 0?K5:t>>>0,t?(n=wt(n),n&&(typeof e=="string"||e!=null&&!Xh(e))&&(e=Hn(e),!e&&So(n))?Yi(Ar(n),0,t):n.split(e,t)):[]}var Y5="Expected a function",X5=Math.max;function Z5(n,e){if(typeof n!="function")throw new TypeError(Y5);return e=e==null?0:X5(lt(e),0),pt(function(t){var r=t[e],i=Yi(t,0,e);return r&&Ji(i,r),Un(n,this,i)})}var Q5=To(function(n,e,t){return n+(t?" ":"")+Ah(e)});const x5=Q5;function ez(n,e,t){return n=wt(n),t=t==null?0:zs(lt(t),0,n.length),e=Hn(e),n.slice(t,t+e.length)==e}function tz(){return{}}function nz(){return""}function rz(){return!0}var iz=Yu(function(n,e){return n-e},0);const sz=iz;function oz(n){return n&&n.length?Qh(n,An):0}function lz(n,e){return n&&n.length?Qh(n,tt(e)):0}function az(n){var e=n==null?0:n.length;return e?dr(n,1,e):[]}function uz(n,e,t){return n&&n.length?(e=t||e===void 0?1:lt(e),dr(n,0,e<0?0:e)):[]}function fz(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:lt(e),e=r-e,dr(n,e<0?0:e,r)):[]}function cz(n,e){return n&&n.length?ff(n,tt(e),!1,!0):[]}function dz(n,e){return n&&n.length?ff(n,tt(e)):[]}function hz(n,e){return e(n),n}var Sw=Object.prototype,pz=Sw.hasOwnProperty;function bg(n,e,t,r){return n===void 0||Cr(n,Sw[t])&&!pz.call(r,t)?e:n}var mz={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function gz(n){return"\\"+mz[n]}var _z=/<%=([\s\S]+?)%>/g;const Tw=_z;var vz=/<%-([\s\S]+?)%>/g;const bz=vz;var yz=/<%([\s\S]+?)%>/g;const kz=yz;var wz={escape:bz,evaluate:kz,interpolate:Tw,variable:"",imports:{_:{escape:Vk}}};const yd=wz;var Ez="Invalid `variable` option passed into `_.template`",Sz=/\b__p \+= '';/g,Tz=/\b(__p \+=) '' \+/g,Az=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oz=/[()=,{}\[\]\/\s]/,Cz=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sa=/($^)/,Mz=/['\n\r\u2028\u2029\\]/g,Pz=Object.prototype,yg=Pz.hasOwnProperty;function Nz(n,e,t){var r=yd.imports._.templateSettings||yd;t&&kn(n,e,t)&&(e=void 0),n=wt(n),e=$a({},e,r,bg);var i=$a({},e.imports,r.imports,bg),s=Zt(i),o=Kh(i,s),l,a,u=0,f=e.interpolate||sa,c="__p += '",d=RegExp((e.escape||sa).source+"|"+f.source+"|"+(f===Tw?Cz:sa).source+"|"+(e.evaluate||sa).source+"|$","g"),h=yg.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(d,function(_,b,v,E,k,N){return v||(v=E),c+=n.slice(u,N).replace(Mz,gz),b&&(l=!0,c+=`' +
__e(`+b+`) +
'`),k&&(a=!0,c+=`';
`+k+`;
__p += '`),v&&(c+=`' +
((__t = (`+v+`)) == null ? '' : __t) +
'`),u=N+_.length,_}),c+=`';
`;var p=yg.call(e,"variable")&&e.variable;if(!p)c=`with (obj) {
`+c+`
}
`;else if(Oz.test(p))throw new Error(Ez);c=(a?c.replace(Sz,""):c).replace(Tz,"$1").replace(Az,"$1;"),c="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(a?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+c+`return __p
}`;var g=zy(function(){return Function(s,h+"return "+c).apply(void 0,o)});if(g.source=c,Eh(g))throw g;return g}var Dz="Expected a function";function Rz(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Dz);return $t(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Nk(n,e,{leading:r,maxWait:e,trailing:i})}function Bl(n,e){return e(n)}var Iz=9007199254740991,rc=4294967295,$z=Math.min;function Lz(n,e){if(n=lt(n),n<1||n>Iz)return[];var t=rc,r=$z(n,rc);e=Zr(e),n-=rc;for(var i=vh(r,e);++t<n;)e(t);return i}function zz(){return this}function Aw(n,e){var t=n;return t instanceof _t&&(t=t.value()),Oh(e,function(r,i){return i.func.apply(i.thisArg,Ji([r],i.args))},t)}function ic(){return Aw(this.__wrapped__,this.__actions__)}function Bz(n){return wt(n).toLowerCase()}function Fz(n){return rt(n)?It(n,Jr):Vn(n)?[n]:Mn(Iy(wt(n)))}var kg=9007199254740991;function jz(n){return n?zs(lt(n),-kg,kg):n===0?n:0}function Vz(n){return wt(n).toUpperCase()}function Hz(n,e,t){var r=rt(n),i=r||ji(n)||Eo(n);if(e=tt(e),t==null){var s=n&&n.constructor;i?t=r?new s:[]:$t(n)?t=ci(s)?bo(of(n)):{}:t={}}return(i?mr:Xr)(n,function(o,l,a){return e(t,o,l,a)}),t}function Ow(n,e){for(var t=n.length;t--&&yo(e,n[t],0)>-1;);return t}function Cw(n,e){for(var t=-1,r=n.length;++t<r&&yo(e,n[t],0)>-1;);return t}function Uz(n,e,t){if(n=wt(n),n&&(t||e===void 0))return gy(n);if(!n||!(e=Hn(e)))return n;var r=Ar(n),i=Ar(e),s=Cw(r,i),o=Ow(r,i)+1;return Yi(r,s,o).join("")}function Wz(n,e,t){if(n=wt(n),n&&(t||e===void 0))return n.slice(0,my(n)+1);if(!n||!(e=Hn(e)))return n;var r=Ar(n),i=Ow(r,Ar(e))+1;return Yi(r,0,i).join("")}var qz=/^\s+/;function Gz(n,e,t){if(n=wt(n),n&&(t||e===void 0))return n.replace(qz,"");if(!n||!(e=Hn(e)))return n;var r=Ar(n),i=Cw(r,Ar(e));return Yi(r,i).join("")}var Kz=30,Jz="...",Yz=/\w*$/;function Xz(n,e){var t=Kz,r=Jz;if($t(e)){var i="separator"in e?e.separator:i;t="length"in e?lt(e.length):t,r="omission"in e?Hn(e.omission):r}n=wt(n);var s=n.length;if(So(n)){var o=Ar(n);s=o.length}if(t>=s)return n;var l=t-Oo(r);if(l<1)return r;var a=o?Yi(o,0,l).join(""):n.slice(0,l);if(i===void 0)return a+r;if(o&&(l+=a.length-l),Xh(i)){if(n.slice(l).search(i)){var u,f=a;for(i.global||(i=RegExp(i.source,wt(Yz.exec(i))+"g")),i.lastIndex=0;u=i.exec(f);)var c=u.index;a=a.slice(0,c===void 0?l:c)}}else if(n.indexOf(Hn(i),l)!=l){var d=a.lastIndexOf(i);d>-1&&(a=a.slice(0,d))}return a+r}function Zz(n){return Oy(n,1)}var Qz={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xz=Ch(Qz);const eB=xz;var Mw=/&(?:amp|lt|gt|quot|#39);/g,tB=RegExp(Mw.source);function nB(n){return n=wt(n),n&&tB.test(n)?n.replace(Mw,eB):n}var rB=1/0,iB=Qs&&1/lf(new Qs([,-0]))[1]==rB?function(n){return new Qs(n)}:ph;const sB=iB;var oB=200;function Vi(n,e,t){var r=-1,i=Qu,s=n.length,o=!0,l=[],a=l;if(t)o=!1,i=Uh;else if(s>=oB){var u=e?null:sB(n);if(u)return lf(u);o=!1,i=dl,a=new Os}else a=e?[]:l;e:for(;++r<s;){var f=n[r],c=e?e(f):f;if(f=t||f!==0?f:0,o&&c===c){for(var d=a.length;d--;)if(a[d]===c)continue e;e&&a.push(c),l.push(f)}else i(a,c,t)||(a!==l&&a.push(c),l.push(f))}return l}var lB=pt(function(n){return Vi(fn(n,1,Wt,!0))});const aB=lB;var uB=pt(function(n){var e=qn(n);return Wt(e)&&(e=void 0),Vi(fn(n,1,Wt,!0),tt(e))});const fB=uB;var cB=pt(function(n){var e=qn(n);return e=typeof e=="function"?e:void 0,Vi(fn(n,1,Wt,!0),void 0,e)});const dB=cB;function hB(n){return n&&n.length?Vi(n):[]}function pB(n,e){return n&&n.length?Vi(n,tt(e)):[]}function mB(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?Vi(n,void 0,e):[]}var gB=0;function _B(n){var e=++gB;return wt(n)+e}function vB(n,e){return n==null?!0:xh(n,e)}var bB=Math.max;function op(n){if(!(n&&n.length))return[];var e=0;return n=Xi(n,function(t){if(Wt(t))return e=bB(t.length,e),!0}),vh(e,function(t){return It(n,Fh(t))})}function Pw(n,e){if(!(n&&n.length))return[];var t=op(n);return e==null?t:It(t,function(r){return Un(e,void 0,r)})}function Nw(n,e,t,r){return zl(n,e,t(Ls(n,e)),r)}function yB(n,e,t){return n==null?n:Nw(n,e,Zr(t))}function kB(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:Nw(n,e,Zr(t),r)}var wB=To(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});const EB=wB;function SB(n){return n==null?[]:Kh(n,$n(n))}var TB=pt(function(n,e){return Wt(n)?Il(n,e):[]});const AB=TB;function OB(n,e){return _w(Zr(e),n)}var CB=_i(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(s){return wh(s,n)};return e>1||this.__actions__.length||!(r instanceof _t)||!di(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:Bl,args:[i],thisArg:void 0}),new fr(r,this.__chain__).thru(function(s){return e&&!s.length&&s.push(void 0),s}))});const MB=CB;function PB(){return Yr(this)}function NB(){var n=this.__wrapped__;if(n instanceof _t){var e=n;return this.__actions__.length&&(e=new _t(this)),e=e.reverse(),e.__actions__.push({func:Bl,args:[bd],thisArg:void 0}),new fr(e,this.__chain__)}return this.thru(bd)}function lp(n,e,t){var r=n.length;if(r<2)return r?Vi(n[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=n[i],l=-1;++l<r;)l!=i&&(s[i]=Il(s[i]||o,n[l],e,t));return Vi(fn(s,1),e,t)}var DB=pt(function(n){return lp(Xi(n,Wt))});const RB=DB;var IB=pt(function(n){var e=qn(n);return Wt(e)&&(e=void 0),lp(Xi(n,Wt),tt(e))});const $B=IB;var LB=pt(function(n){var e=qn(n);return e=typeof e=="function"?e:void 0,lp(Xi(n,Wt),void 0,e)});const zB=LB;var BB=pt(op);const FB=BB;function Dw(n,e,t){for(var r=-1,i=n.length,s=e.length,o={};++r<i;){var l=r<s?e[r]:void 0;t(o,n[r],l)}return o}function jB(n,e){return Dw(n||[],e||[],Pl)}function VB(n,e){return Dw(n||[],e||[],zl)}var HB=pt(function(n){var e=n.length,t=e>1?n[e-1]:void 0;return t=typeof t=="function"?(n.pop(),t):void 0,Pw(n,t)});const UB=HB,He={chunk:jP,compact:C3,concat:M3,difference:WD,differenceBy:GD,differenceWith:JD,drop:ZD,dropRight:QD,dropRightWhile:xD,dropWhile:eR,fill:kR,findIndex:qh,findLastIndex:Jk,first:dg,flatten:$y,flattenDeep:LR,flattenDepth:zR,fromPairs:tI,head:dg,indexOf:SI,initial:TI,intersection:CI,intersectionBy:PI,intersectionWith:DI,join:I$,last:qn,lastIndexOf:H$,nth:EL,pull:N4,pullAll:vw,pullAllBy:D4,pullAllWith:R4,pullAt:z4,remove:i5,reverse:bd,slice:A5,sortedIndex:F5,sortedIndexBy:j5,sortedIndexOf:V5,sortedLastIndex:H5,sortedLastIndexBy:U5,sortedLastIndexOf:W5,sortedUniq:q5,sortedUniqBy:G5,tail:az,take:uz,takeRight:fz,takeRightWhile:cz,takeWhile:dz,union:aB,unionBy:fB,unionWith:dB,uniq:hB,uniqBy:pB,uniqWith:mB,unzip:op,unzipWith:Pw,without:AB,xor:RB,xorBy:$B,xorWith:zB,zip:FB,zipObject:jB,zipObjectDeep:VB,zipWith:UB},Ot={countBy:kD,each:ag,eachRight:ug,every:vR,filter:wR,find:Er,findLast:MR,flatMap:NR,flatMapDeep:RR,flatMapDepth:IR,forEach:ag,forEachRight:ug,groupBy:lI,includes:wI,invokeMap:qI,keyBy:B$,map:cf,orderBy:$L,partition:w4,reduce:e5,reduceRight:n5,reject:r5,sample:m5,sampleSize:v5,shuffle:w5,size:T5,some:P5,sortBy:D5},WB={now:Ea},Ht={after:WT,ary:Oy,before:By,bind:Fy,bindKey:wM,curry:Vh,curryRight:Hh,debounce:Nk,defer:FD,delay:VD,flip:FR,memoize:rf,negate:Ll,once:DL,overArgs:HL,partial:_w,partialRight:y4,rearg:x4,rest:a5,spread:Z5,throttle:Rz,unary:Zz,wrap:OB},Ye={castArray:RP,clone:b3,cloneDeep:gt,cloneDeepWith:S3,cloneWith:A3,conformsTo:hD,eq:Cr,gt:uI,gte:cI,isArguments:Ts,isArray:rt,isArrayBuffer:YI,isArrayLike:In,isArrayLikeObject:Wt,isBoolean:ZI,isBuffer:ji,isDate:t$,isElement:n$,isEmpty:l$,isEqual:ew,isEqualWith:a$,isError:Eh,isFinite:f$,isFunction:ci,isInteger:tw,isLength:ef,isMap:gk,isMatch:c$,isMatchWith:d$,isNaN:p$,isNative:v$,isNil:b$,isNull:y$,isNumber:nw,isObject:$t,isObjectLike:Vt,isPlainObject:Dl,isRegExp:Xh,isSafeInteger:S$,isSet:_k,isString:pf,isSymbol:Vn,isTypedArray:Eo,isUndefined:T$,isWeakMap:O$,isWeakSet:M$,lt:J$,lte:X$,toArray:sw,toFinite:oi,toInteger:lt,toLength:Wk,toNumber:or,toPlainObject:Rk,toSafeInteger:jz,toString:wt},On={add:$T,ceil:zP,divide:XD,floor:VR,max:rL,maxBy:iL,mean:oL,meanBy:lL,min:pL,minBy:mL,multiply:_L,round:h5,subtract:sz,sum:oz,sumBy:lz},ap={clamp:VP,inRange:bI,random:U4},et={assign:dC,assignIn:Fm,assignInWith:$a,assignWith:yC,at:iM,create:wD,defaults:DD,defaultsDeep:LD,entries:fg,entriesIn:cg,extend:Fm,extendWith:$a,findKey:TR,findLastKey:PR,forIn:ZR,forInRight:QR,forOwn:xR,forOwnRight:eI,functions:nI,functionsIn:rI,get:sf,has:mI,hasIn:Bh,invert:zI,invertBy:VI,invoke:UI,keys:Zt,keysIn:$n,mapKeys:Z$,mapValues:Q$,merge:uL,mergeWith:$k,omit:PL,omitBy:NL,pick:T4,pickBy:aw,result:u5,set:Ho,setWith:b5,toPairs:fg,toPairsIn:cg,transform:Hz,unset:vB,update:yB,updateWith:kB,values:Ao,valuesIn:SB},Qr={at:MB,chain:Yr,commit:O3,lodash:L,next:wL,plant:A4,reverse:NB,tap:hz,thru:Bl,toIterator:zz,toJSON:ic,value:ic,valueOf:ic,wrapperChain:PB},yt={camelCase:DP,capitalize:Ky,deburr:Jy,endsWith:iR,escape:Vk,escapeRegExp:gR,kebabCase:L$,lowerCase:W$,lowerFirst:G$,pad:d4,padEnd:h4,padStart:p4,parseInt:_4,repeat:s5,replace:o5,snakeCase:C5,split:J5,startCase:x5,startsWith:ez,template:Nz,templateSettings:yd,toLower:Bz,toUpper:Vz,trim:Uz,trimEnd:Wz,trimStart:Gz,truncate:Xz,unescape:nB,upperCase:EB,upperFirst:Ah,words:ak},Et={attempt:zy,bindAll:vM,cond:uD,conforms:dD,constant:gh,defaultTo:MD,flow:JR,flowRight:XR,identity:An,iteratee:N$,matches:eL,matchesProperty:nL,method:cL,methodOf:hL,mixin:iw,noop:ph,nthArg:SL,over:zL,overEvery:WL,overSome:GL,property:Ok,propertyOf:O4,range:J4,rangeRight:X4,stubArray:Ph,stubFalse:bh,stubObject:tz,stubString:nz,stubTrue:rz,times:Lz,toPath:Fz,uniqueId:_B};function qB(){var n=new _t(this.__wrapped__);return n.__actions__=Mn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Mn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Mn(this.__views__),n}function GB(){if(this.__filtered__){var n=new _t(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}var KB=Math.max,JB=Math.min;function YB(n,e,t){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=s.size;switch(s.type){case"drop":n+=o;break;case"dropRight":e-=o;break;case"take":e=JB(e,n+o);break;case"takeRight":n=KB(n,e-o);break}}return{start:n,end:e}}var XB=1,ZB=2,QB=Math.min;function xB(){var n=this.__wrapped__.value(),e=this.__dir__,t=rt(n),r=e<0,i=t?n.length:0,s=YB(0,i,this.__views__),o=s.start,l=s.end,a=l-o,u=r?l:o-1,f=this.__iteratees__,c=f.length,d=0,h=QB(a,this.__takeCount__);if(!t||!r&&i==a&&h==a)return Aw(n,this.__actions__);var p=[];e:for(;a--&&d<h;){u+=e;for(var g=-1,_=n[u];++g<c;){var b=f[g],v=b.iteratee,E=b.type,k=v(_);if(E==ZB)_=k;else if(!k){if(E==XB)continue e;break e}}p[d++]=_}return p}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var e6="4.17.21",t6=2,n6=1,r6=3,Rw=4294967295,i6=Array.prototype,s6=Object.prototype,Iw=s6.hasOwnProperty,wg=gn?gn.iterator:void 0,o6=Math.max,Eg=Math.min,up=function(n){return function(e,t,r){if(r==null){var i=$t(t),s=i&&Zt(t),o=s&&s.length&&df(t,s);(o?o.length:i)||(r=t,t=e,e=this)}return n(e,t,r)}}(iw);L.after=Ht.after;L.ary=Ht.ary;L.assign=et.assign;L.assignIn=et.assignIn;L.assignInWith=et.assignInWith;L.assignWith=et.assignWith;L.at=et.at;L.before=Ht.before;L.bind=Ht.bind;L.bindAll=Et.bindAll;L.bindKey=Ht.bindKey;L.castArray=Ye.castArray;L.chain=Qr.chain;L.chunk=He.chunk;L.compact=He.compact;L.concat=He.concat;L.cond=Et.cond;L.conforms=Et.conforms;L.constant=Et.constant;L.countBy=Ot.countBy;L.create=et.create;L.curry=Ht.curry;L.curryRight=Ht.curryRight;L.debounce=Ht.debounce;L.defaults=et.defaults;L.defaultsDeep=et.defaultsDeep;L.defer=Ht.defer;L.delay=Ht.delay;L.difference=He.difference;L.differenceBy=He.differenceBy;L.differenceWith=He.differenceWith;L.drop=He.drop;L.dropRight=He.dropRight;L.dropRightWhile=He.dropRightWhile;L.dropWhile=He.dropWhile;L.fill=He.fill;L.filter=Ot.filter;L.flatMap=Ot.flatMap;L.flatMapDeep=Ot.flatMapDeep;L.flatMapDepth=Ot.flatMapDepth;L.flatten=He.flatten;L.flattenDeep=He.flattenDeep;L.flattenDepth=He.flattenDepth;L.flip=Ht.flip;L.flow=Et.flow;L.flowRight=Et.flowRight;L.fromPairs=He.fromPairs;L.functions=et.functions;L.functionsIn=et.functionsIn;L.groupBy=Ot.groupBy;L.initial=He.initial;L.intersection=He.intersection;L.intersectionBy=He.intersectionBy;L.intersectionWith=He.intersectionWith;L.invert=et.invert;L.invertBy=et.invertBy;L.invokeMap=Ot.invokeMap;L.iteratee=Et.iteratee;L.keyBy=Ot.keyBy;L.keys=Zt;L.keysIn=et.keysIn;L.map=Ot.map;L.mapKeys=et.mapKeys;L.mapValues=et.mapValues;L.matches=Et.matches;L.matchesProperty=Et.matchesProperty;L.memoize=Ht.memoize;L.merge=et.merge;L.mergeWith=et.mergeWith;L.method=Et.method;L.methodOf=Et.methodOf;L.mixin=up;L.negate=Ll;L.nthArg=Et.nthArg;L.omit=et.omit;L.omitBy=et.omitBy;L.once=Ht.once;L.orderBy=Ot.orderBy;L.over=Et.over;L.overArgs=Ht.overArgs;L.overEvery=Et.overEvery;L.overSome=Et.overSome;L.partial=Ht.partial;L.partialRight=Ht.partialRight;L.partition=Ot.partition;L.pick=et.pick;L.pickBy=et.pickBy;L.property=Et.property;L.propertyOf=Et.propertyOf;L.pull=He.pull;L.pullAll=He.pullAll;L.pullAllBy=He.pullAllBy;L.pullAllWith=He.pullAllWith;L.pullAt=He.pullAt;L.range=Et.range;L.rangeRight=Et.rangeRight;L.rearg=Ht.rearg;L.reject=Ot.reject;L.remove=He.remove;L.rest=Ht.rest;L.reverse=He.reverse;L.sampleSize=Ot.sampleSize;L.set=et.set;L.setWith=et.setWith;L.shuffle=Ot.shuffle;L.slice=He.slice;L.sortBy=Ot.sortBy;L.sortedUniq=He.sortedUniq;L.sortedUniqBy=He.sortedUniqBy;L.split=yt.split;L.spread=Ht.spread;L.tail=He.tail;L.take=He.take;L.takeRight=He.takeRight;L.takeRightWhile=He.takeRightWhile;L.takeWhile=He.takeWhile;L.tap=Qr.tap;L.throttle=Ht.throttle;L.thru=Bl;L.toArray=Ye.toArray;L.toPairs=et.toPairs;L.toPairsIn=et.toPairsIn;L.toPath=Et.toPath;L.toPlainObject=Ye.toPlainObject;L.transform=et.transform;L.unary=Ht.unary;L.union=He.union;L.unionBy=He.unionBy;L.unionWith=He.unionWith;L.uniq=He.uniq;L.uniqBy=He.uniqBy;L.uniqWith=He.uniqWith;L.unset=et.unset;L.unzip=He.unzip;L.unzipWith=He.unzipWith;L.update=et.update;L.updateWith=et.updateWith;L.values=et.values;L.valuesIn=et.valuesIn;L.without=He.without;L.words=yt.words;L.wrap=Ht.wrap;L.xor=He.xor;L.xorBy=He.xorBy;L.xorWith=He.xorWith;L.zip=He.zip;L.zipObject=He.zipObject;L.zipObjectDeep=He.zipObjectDeep;L.zipWith=He.zipWith;L.entries=et.toPairs;L.entriesIn=et.toPairsIn;L.extend=et.assignIn;L.extendWith=et.assignInWith;up(L,L);L.add=On.add;L.attempt=Et.attempt;L.camelCase=yt.camelCase;L.capitalize=yt.capitalize;L.ceil=On.ceil;L.clamp=ap.clamp;L.clone=Ye.clone;L.cloneDeep=Ye.cloneDeep;L.cloneDeepWith=Ye.cloneDeepWith;L.cloneWith=Ye.cloneWith;L.conformsTo=Ye.conformsTo;L.deburr=yt.deburr;L.defaultTo=Et.defaultTo;L.divide=On.divide;L.endsWith=yt.endsWith;L.eq=Ye.eq;L.escape=yt.escape;L.escapeRegExp=yt.escapeRegExp;L.every=Ot.every;L.find=Ot.find;L.findIndex=He.findIndex;L.findKey=et.findKey;L.findLast=Ot.findLast;L.findLastIndex=He.findLastIndex;L.findLastKey=et.findLastKey;L.floor=On.floor;L.forEach=Ot.forEach;L.forEachRight=Ot.forEachRight;L.forIn=et.forIn;L.forInRight=et.forInRight;L.forOwn=et.forOwn;L.forOwnRight=et.forOwnRight;L.get=et.get;L.gt=Ye.gt;L.gte=Ye.gte;L.has=et.has;L.hasIn=et.hasIn;L.head=He.head;L.identity=An;L.includes=Ot.includes;L.indexOf=He.indexOf;L.inRange=ap.inRange;L.invoke=et.invoke;L.isArguments=Ye.isArguments;L.isArray=rt;L.isArrayBuffer=Ye.isArrayBuffer;L.isArrayLike=Ye.isArrayLike;L.isArrayLikeObject=Ye.isArrayLikeObject;L.isBoolean=Ye.isBoolean;L.isBuffer=Ye.isBuffer;L.isDate=Ye.isDate;L.isElement=Ye.isElement;L.isEmpty=Ye.isEmpty;L.isEqual=Ye.isEqual;L.isEqualWith=Ye.isEqualWith;L.isError=Ye.isError;L.isFinite=Ye.isFinite;L.isFunction=Ye.isFunction;L.isInteger=Ye.isInteger;L.isLength=Ye.isLength;L.isMap=Ye.isMap;L.isMatch=Ye.isMatch;L.isMatchWith=Ye.isMatchWith;L.isNaN=Ye.isNaN;L.isNative=Ye.isNative;L.isNil=Ye.isNil;L.isNull=Ye.isNull;L.isNumber=Ye.isNumber;L.isObject=$t;L.isObjectLike=Ye.isObjectLike;L.isPlainObject=Ye.isPlainObject;L.isRegExp=Ye.isRegExp;L.isSafeInteger=Ye.isSafeInteger;L.isSet=Ye.isSet;L.isString=Ye.isString;L.isSymbol=Ye.isSymbol;L.isTypedArray=Ye.isTypedArray;L.isUndefined=Ye.isUndefined;L.isWeakMap=Ye.isWeakMap;L.isWeakSet=Ye.isWeakSet;L.join=He.join;L.kebabCase=yt.kebabCase;L.last=qn;L.lastIndexOf=He.lastIndexOf;L.lowerCase=yt.lowerCase;L.lowerFirst=yt.lowerFirst;L.lt=Ye.lt;L.lte=Ye.lte;L.max=On.max;L.maxBy=On.maxBy;L.mean=On.mean;L.meanBy=On.meanBy;L.min=On.min;L.minBy=On.minBy;L.stubArray=Et.stubArray;L.stubFalse=Et.stubFalse;L.stubObject=Et.stubObject;L.stubString=Et.stubString;L.stubTrue=Et.stubTrue;L.multiply=On.multiply;L.nth=He.nth;L.noop=Et.noop;L.now=WB.now;L.pad=yt.pad;L.padEnd=yt.padEnd;L.padStart=yt.padStart;L.parseInt=yt.parseInt;L.random=ap.random;L.reduce=Ot.reduce;L.reduceRight=Ot.reduceRight;L.repeat=yt.repeat;L.replace=yt.replace;L.result=et.result;L.round=On.round;L.sample=Ot.sample;L.size=Ot.size;L.snakeCase=yt.snakeCase;L.some=Ot.some;L.sortedIndex=He.sortedIndex;L.sortedIndexBy=He.sortedIndexBy;L.sortedIndexOf=He.sortedIndexOf;L.sortedLastIndex=He.sortedLastIndex;L.sortedLastIndexBy=He.sortedLastIndexBy;L.sortedLastIndexOf=He.sortedLastIndexOf;L.startCase=yt.startCase;L.startsWith=yt.startsWith;L.subtract=On.subtract;L.sum=On.sum;L.sumBy=On.sumBy;L.template=yt.template;L.times=Et.times;L.toFinite=Ye.toFinite;L.toInteger=lt;L.toLength=Ye.toLength;L.toLower=yt.toLower;L.toNumber=Ye.toNumber;L.toSafeInteger=Ye.toSafeInteger;L.toString=Ye.toString;L.toUpper=yt.toUpper;L.trim=yt.trim;L.trimEnd=yt.trimEnd;L.trimStart=yt.trimStart;L.truncate=yt.truncate;L.unescape=yt.unescape;L.uniqueId=Et.uniqueId;L.upperCase=yt.upperCase;L.upperFirst=yt.upperFirst;L.each=Ot.forEach;L.eachRight=Ot.forEachRight;L.first=He.head;up(L,function(){var n={};return Xr(L,function(e,t){Iw.call(L.prototype,t)||(n[t]=e)}),n}(),{chain:!1});L.VERSION=e6;(L.templateSettings=yt.templateSettings).imports._=L;mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){L[n].placeholder=L});mr(["drop","take"],function(n,e){_t.prototype[n]=function(t){t=t===void 0?1:o6(lt(t),0);var r=this.__filtered__&&!e?new _t(this):this.clone();return r.__filtered__?r.__takeCount__=Eg(t,r.__takeCount__):r.__views__.push({size:Eg(t,Rw),type:n+(r.__dir__<0?"Right":"")}),r},_t.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}});mr(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==n6||t==r6;_t.prototype[n]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:tt(i),type:t}),s.__filtered__=s.__filtered__||r,s}});mr(["head","last"],function(n,e){var t="take"+(e?"Right":"");_t.prototype[n]=function(){return this[t](1).value()[0]}});mr(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");_t.prototype[n]=function(){return this.__filtered__?new _t(this):this[t](1)}});_t.prototype.compact=function(){return this.filter(An)};_t.prototype.find=function(n){return this.filter(n).head()};_t.prototype.findLast=function(n){return this.reverse().find(n)};_t.prototype.invokeMap=pt(function(n,e){return typeof n=="function"?new _t(this):this.map(function(t){return $l(t,n,e)})});_t.prototype.reject=function(n){return this.filter(Ll(tt(n)))};_t.prototype.slice=function(n,e){n=lt(n);var t=this;return t.__filtered__&&(n>0||e<0)?new _t(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==void 0&&(e=lt(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)};_t.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()};_t.prototype.toArray=function(){return this.take(Rw)};Xr(_t.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=L[r?"take"+(e=="last"?"Right":""):e],s=r||/^find/.test(e);i&&(L.prototype[e]=function(){var o=this.__wrapped__,l=r?[1]:arguments,a=o instanceof _t,u=l[0],f=a||rt(o),c=function(b){var v=i.apply(L,Ji([b],l));return r&&d?v[0]:v};f&&t&&typeof u=="function"&&u.length!=1&&(a=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=s&&!d,g=a&&!h;if(!s&&f){o=g?o:new _t(this);var _=n.apply(o,l);return _.__actions__.push({func:Bl,args:[c],thisArg:void 0}),new fr(_,d)}return p&&g?n.apply(this,l):(_=this.thru(c),p?r?_.value()[0]:_.value():_)})});mr(["pop","push","shift","sort","splice","unshift"],function(n){var e=i6[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);L.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return e.apply(rt(s)?s:[],i)}return this[t](function(o){return e.apply(rt(o)?o:[],i)})}});Xr(_t.prototype,function(n,e){var t=L[e];if(t){var r=t.name+"";Iw.call(Zs,r)||(Zs[r]=[]),Zs[r].push({name:e,func:t})}});Zs[xu(void 0,t6).name]=[{name:"wrapper",func:void 0}];_t.prototype.clone=qB;_t.prototype.reverse=GB;_t.prototype.value=xB;L.prototype.at=Qr.at;L.prototype.chain=Qr.wrapperChain;L.prototype.commit=Qr.commit;L.prototype.next=Qr.next;L.prototype.plant=Qr.plant;L.prototype.reverse=Qr.reverse;L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=Qr.value;L.prototype.first=L.prototype.head;wg&&(L.prototype[wg]=Qr.toIterator);function l6(n){let e,t,r,i;return{c(){e=ir("svg"),t=ir("circle"),r=ir("path"),this.h()},l(s){e=sr(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var o=O(e);t=sr(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,class:!0}),O(t).forEach(m),r=sr(o,"path",{fill:!0,d:!0,class:!0}),O(r).forEach(m),o.forEach(m),this.h()},h(){y(t,"cx","12"),y(t,"cy","12"),y(t,"r","10"),y(t,"stroke","currentColor"),y(t,"stroke-width","4"),y(t,"class","svelte-1qcg8lf"),y(r,"fill","currentColor"),y(r,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),y(r,"class","svelte-1qcg8lf"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"fill","none"),y(e,"viewBox","0 0 24 24"),y(e,"class","svelte-1qcg8lf")},m(s,o){$(s,e,o),w(e,t),w(e,r)},p:_e,i(s){i||Yt(()=>{i=qr(e,Gr,{}),i.start()})},o:_e,d(s){s&&m(e)}}}let a6=class extends Ie{constructor(e){super(),$e(this,e,null,l6,Le,{})}};const Cs=je(!1),$w=je("DEV"),Lw=je(!1),mx=je(!1),Ln=je(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),gr=je("en"),Sg=je(null),gx=je([]);let zw=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},oa;const u6=new Uint8Array(16);function f6(){if(!oa&&(oa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oa(u6)}const rn=[];for(let n=0;n<256;++n)rn.push((n+256).toString(16).slice(1));function c6(n,e=0){return rn[n[e+0]]+rn[n[e+1]]+rn[n[e+2]]+rn[n[e+3]]+"-"+rn[n[e+4]]+rn[n[e+5]]+"-"+rn[n[e+6]]+rn[n[e+7]]+"-"+rn[n[e+8]]+rn[n[e+9]]+"-"+rn[n[e+10]]+rn[n[e+11]]+rn[n[e+12]]+rn[n[e+13]]+rn[n[e+14]]+rn[n[e+15]]}const d6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tg={randomUUID:d6};function si(n,e,t){if(Tg.randomUUID&&!e&&!n)return Tg.randomUUID();n=n||{};const r=n.random||(n.rng||f6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return c6(r)}const Ag=(n={})=>({id:h6(),key:"",label:"",type:"text",fields:[],options:{},is_static:!1,...n}),_x=n=>({id:si(),name:"New Block",code:{css:"",html:"",js:""},fields:[],content:{en:{}},site:n.site,index:0,...n}),fp=(n={})=>({id:si(),url:"",name:"",code:{html:{head:"",below:""},css:"",js:""},fields:[],content:{en:{}},parent:null,site:"",created_at:new Date().toISOString(),...n}),Bw=({url:n,name:e}={url:"default",name:"Default"})=>({id:si(),url:n,name:e,code:{html:{head:"",below:""},css:`
@import url("https://unpkg.com/@primo-app/primo@1.3.64/reset.css");

#page {
  font-family: system-ui, sans-serif;
  color: var(--color);
  line-height: 1.6; 
  font-size: 1rem;
  background: var(--background);
}

.section-container {
  max-width: var(--max-width, 1200px);
  margin: 0 auto;
  padding: 3rem var(--padding, 1rem); 
}

.heading {
  font-size: 3rem;
  line-height: 1;
  font-weight: 700;
  margin: 0;
}

.button {
  color: white;
  background: var(--color-accent);
  border-radius: 5px;
  padding: 8px 20px;
  transition: var(--transition);

  &:hover {
    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.1);
  } 

  &.inverted {
    background: transparent; 
    color: var(--color-accent); 
    border: 2px solid var(--color-accent);
  }
}
`,js:""},fields:[],content:{en:{}},active_deployment:null,created_at:new Date().toISOString()}),vx=[{key:"af",name:"Afrikaans"},{key:"ar",name:"Arabic"},{key:"be",name:"Belarusian"},{key:"bg",name:"Bulgarian"},{key:"bs",name:"Bosnian"},{key:"ca",name:"Catalan"},{key:"cs",name:"Czech"},{key:"cy",name:"Welsh"},{key:"da",name:"Danish"},{key:"de",name:"German"},{key:"el",name:"Greek"},{key:"en",name:"English"},{key:"fa",name:"Persian"},{key:"fi",name:"Finnish"},{key:"fr",name:"French"},{key:"he",name:"Hebrew"},{key:"hi",name:"Hindi"},{key:"hu",name:"Hungarian"},{key:"hy-am",name:"Armenian"},{key:"id",name:"Indonesian"},{key:"is",name:"Icelandic"},{key:"it",name:"Italian"},{key:"ja",name:"Japanese"},{key:"ka",name:"Georgian"},{key:"kk",name:"Kazakh"},{key:"km",name:"Cambodian"},{key:"ko",name:"Korean"},{key:"lo",name:"Lao"},{key:"lt",name:"Lithuanian"},{key:"lv",name:"Latvian"},{key:"mk",name:"Macedonian"},{key:"mn",name:"Mongolian"},{key:"ms",name:"Malay"},{key:"my",name:"Burmese"},{key:"ne",name:"Nepalese"},{key:"nl",name:"Dutch"},{key:"pl",name:"Polish"},{key:"pt",name:"Portuguese"},{key:"ro",name:"Romanian"},{key:"ru",name:"Russian"},{key:"sk",name:"Slovak"},{key:"sl",name:"Slovenian"},{key:"sq",name:"Albanian"},{key:"sv",name:"Swedish"},{key:"th",name:"Thai"},{key:"tl-ph",name:"Tagalog (Philippines)"},{key:"tr",name:"Turkish"},{key:"uk",name:"Ukrainian"},{key:"ur",name:"Urdu"},{key:"uz",name:"Uzbek"},{key:"vi",name:"Vietnamese"},{key:"zh",name:"Chinese"},{key:"es",name:"Spanish"},{key:"et",name:"Estonian"}];function h6(n=5){return zw("abcdefghijklmnopqrstuvwxyz",n)()}const Hi=je(""),Fw=je(""),jw=je("index"),Fl=je(fp().code),cp=je({en:{}}),dp=je(fp().fields);function Og(n){n.id&&Hi.set(n.id),n.name&&Fw.set(n.name),n.url&&jw.set(n.url),n.code&&Fl.set(n.code),n.content&&cp.set(n.content),n.fields&&dp.set(n.fields)}const jl=dy([Hi,Fw,jw,Fl,cp,dp],([n,e,t,r,i,s])=>({id:n,name:e,url:t,code:r,content:i,fields:s}));function p6(n){let e=[n],t=e.length;const r=je({first:!0,last:!0,current:n});function i(){return n=e[t-1],r.set({first:t===1,last:t===e.length,current:n}),n}return{set:s=>(e=[s],t=1,i()),push:s=>(e.length=t,e[t++]=gt(s),i()),undo:()=>(t>1&&(t-=1),i()),redo:()=>(t<e.length&&(t+=1),i()),subscribe:r.subscribe}}const Vw=je("default"),Hw=je(""),Uw=je(""),hp=je([]),Vl=je(Bw().code),bn=je(Bw().content),Ba=je(null);function Ww(n){n.id&&Vw.set(n.id),n.url&&Hw.set(n.url),n.name&&Uw.set(n.name),n.code&&Vl.set(n.code),n.fields&&hp.set(n.fields),n.content&&bn.set(n.content),n.active_deployment&&Ba.set(n.active_deployment)}const xt=dy([Vw,Hw,Uw,Vl,hp,bn,Ba],([n,e,t,r,i,s,o])=>({id:n,url:e,name:t,code:r,fields:i,content:s,active_deployment:o})),vi=je([]);Vo.subscribe(({data:n})=>{n!=null&&n.pages&&vi.set(n.pages)});const qw=je([]),Co=je([]),Pe={site:xt,pages:vi,sections:qw,symbols:Co};let Fa=p6({doing:()=>{console.log("initial doing")},undoing:()=>{console.log("initial undoing")}});async function hn({doing:n,undoing:e}){await n(),Fa.push({doing:n,undoing:e})}const kd={};let la=0;const ja={html:async(n,e)=>await new Promise(t=>{r();async function r(){const i=kd.html;if(i){const s=await i(n);t(s)}else la++,la<100&&setTimeout(r,100)}}),css:async(n,e)=>await new Promise(t=>{r();async function r(){const i=kd.css;if(i){const s=await i(n);t(s)}else la++,la<100&&setTimeout(r,100)}}),js:async(n,e)=>n};function bx(n){for(const[e,t]of Object.entries(n))kd[e]=t}const sc=new Map;async function vf({component:n,buildStatic:e=!0,format:t="esm",locale:r="en",hydrated:i=!0,ignoreCachedData:s=!1}){let o="";n.css&&(o=await bf(n.css||""));const l=JSON.stringify(s?{component:Array.isArray(n)?n.map(u=>({html:u.html,css:u.css,head:u.head})):{head:n.head,html:n.html,css:n.css}}:{component:n,format:t,buildStatic:e,hydrated:i});if(sc.has(l))return sc.get(l);const a=await ja.html({component:{...n,css:o},buildStatic:e,format:t,locale:r,hydrated:i});return sc.set(l,a),a}const oc=new Map;async function bf(n){if(oc.has(n))return oc.get(n);const e=await ja.css(n)||{};if(e){if(e.error)return console.log("CSS Error:",e.error),n;if(e.css)return oc.set(n,e.css),e.css}else return""}function yx(n){return L.debounce(e=>{const[t,r]=e;t(r)},n)}function Gw(n,e){return`<style type="text/css" ${e?`id = "${e}"`:""}>${n}</style>`}function pn(n){if(n.default)return n.default;if(n.type==="repeater")return[];return n.type==="group"?e(n):n.type==="image"?{url:"",src:"",alt:"",size:null}:n.type==="text"?"":n.type==="markdown"?{html:"",markdown:""}:n.type==="link"?{label:"",url:""}:n.type==="url"||n.type==="select"?"":n.type==="switch"?!0:(console.warn("No placeholder set for field type",n.type),"");function e(t){return Yr(t.fields).keyBy("key").mapValues(r=>pn(r)).value()}}let Ci,Va,Ha;async function m6(n){if(Ci)return Ci.makeMarkdown(n);{const e=await Promise.all([Tr(()=>import("./showdown.4a4f60c9.js").then(t=>t.s),[],import.meta.url),Tr(()=>import("./index.6e39d411.js").then(t=>t.i),["./index.6e39d411.js","./showdown.4a4f60c9.js"],import.meta.url)]);return Va=e[0].default,Ha=e[1].default,Ci=new Va.Converter({extensions:[Ha()]}),Ci.makeMarkdown(n)}}async function Kw(n){if(Ci)return Ci.makeHtml(n);{const e=await Promise.all([Tr(()=>import("./showdown.4a4f60c9.js").then(t=>t.s),[],import.meta.url),Tr(()=>import("./index.6e39d411.js").then(t=>t.i),["./index.6e39d411.js","./showdown.4a4f60c9.js"],import.meta.url)]);return Va=e[0].default,Ha=e[1].default,Ci=new Va.Converter({extensions:[Ha()]}),Ci.makeHtml(n)}}async function yf({page:n=De(jl),site:e=De(xt),page_sections:t=De(qw),page_symbols:r=De(Co),locale:i="en",no_js:s=!1}){const o=r.filter(c=>c.code.js&&t.some(d=>d.symbol===c.id)),l=await Promise.all([(async()=>{const c=await bf(e.code.css+n.code.css),d=Ua({page:n,site:e,loc:i});return{html:`
          <svelte:head>
            ${e.code.html.head}
            ${n.code.html.head}
            <style>${c}</style>
          </svelte:head>`,css:"",js:"",data:d}})(),...t.map(async c=>{const d=r.find(k=>k.id===c.symbol),{html:h,css:p,js:g}=d.code,_=wd({component:c,symbol:d,loc:i}),{css:b,error:v}=await ja.css(p||"");return{html:`
          <div class="section" id="section-${c.id.split("-")[0]}">
            ${h} 
          </div>`,js:g,css:b,data:_}}).filter(Boolean),(async()=>{const c=Ua({page:n,site:e,loc:i});return{html:e.code.html.below+n.code.html.below,css:"",js:"",data:c}})()]),a=await ja.html({component:l,locale:i});return{html:`  <!DOCTYPE html>
  <html lang="${i}">
    <head>
      <meta name="generator" content="Primo" />
      ${a.head}
      <style>${a.css}</style>
    </head>
    <body id="page">
      ${a.html}
      ${s?"":`<script type="module">${f(o)}<\/script>`}
    </body>
  </html>
  `,js:a.js};function f(c){return c.map(d=>`
      import('/_symbols/${d.id}.js')
      .then(({default:App}) => {
        ${t.filter(h=>h.symbol===d.id).map(h=>{const p=h.id.split("-")[0],g=wd({component:h,symbol:d,loc:i});return`
            new App({
              target: document.querySelector('#section-${p}'),
              hydrate: true,
              props: ${JSON.stringify(g)}
            })
          `}).join(`
`)}
      })
      .catch(e => console.error(e))
    `).join(`
`)}}function wd({component:n,symbol:e,loc:t}){if(!e)return{en:{}};const r=Yr(e.fields).map(i=>{var o,l,a,u,f,c;const s=(l=(o=n.content)==null?void 0:o[t])==null?void 0:l[i.key];if(i.is_static){const d=(u=(a=e.content)==null?void 0:a[t])==null?void 0:u[i.key];return{key:i.key,value:d}}else{if(s!==void 0)return{key:i.key,value:s};{const d=(c=(f=e.content)==null?void 0:f[t])==null?void 0:c[i.key];return{key:i.key,value:d||pn(i)}}}}).keyBy("key").mapValues("value").value();return L.cloneDeep(r)}function Ua({page:n=De(jl),site:e=De(xt),loc:t=De(gr)}){const r=n.content[t];return{...e.content[t],...r}}let Jw=()=>{};function kx(n){Jw=n}async function Fe(n){return await Jw(n)}let Yw=()=>{};function wx(n){Yw=n}async function pp(n){return await Yw(n)}let Xw=()=>{};function Ex(n){Xw=n}async function Sx(n){return await Xw(n)}function Ed(n=5){return zw("abcdefghijklmnopqrstuvwxyz",n)()}function Wa(n){return n.replace(/\s+/g,"-").replace(/[^0-9a-z\-._]/gi,"").toLowerCase()}function mp(n,e){let t=n.textContent;n.contentEditable=!0,n.spellcheck=!1,n.onfocus=()=>{const r=document.createRange(),i=window.getSelection();r.setStart(n,1),r.collapse(!0),i==null||i.removeAllRanges(),i==null||i.addRange(r)},e.autofocus&&n.focus(),n.onkeydown=r=>{var i;r.code==="Enter"&&(r.preventDefault(),(i=r.target)==null||i.blur(),e.on_submit(t))},n.onkeyup=r=>{t=r.target.textContent,e.on_change(t)}}function g6(n,e){if(!e)return!1;const t=e.getBoundingClientRect();return n.x>=Math.floor(t.right)||n.y>=Math.floor(t.bottom)||n.x<=Math.floor(t.left)||n.y<=Math.floor(t.top)}function _6(n,e,t){let r=L.cloneDeep(n);return r[e]=n[t],r[t]=n[e],r}function v6(n){const e=t=>{n&&!n.contains(t.target)&&!t.defaultPrevented&&n.dispatchEvent(new CustomEvent("click_outside",n))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Tx(n,e=null){navigator.clipboard.writeText(e||n.innerText),n.addEventListener("click",()=>{n.style.opacity="0.5"})}async function Ax(n){Pe.pages.set(n.pages),Pe.symbols.set(n.symbols),Ww(n.site)}function Ox(){const{current:n}=De(Fa);n==null||n.undoing(n.data),Fa.undo()}function Cx(){const{data:n,doing:e}=Fa.redo();e(n)}const qa={create:async(n,e=0)=>{await hn({doing:async()=>{for(let t in De(bn))n.hasOwnProperty(t)||(n.content[t]=n.content.en);Pe.symbols.update(t=>[...t.slice(0,e),n,...t.slice(e)]),await Fe({table:"symbols",action:"insert",data:n}),await qa.rearrange(De(Pe.symbols))},undoing:async()=>{Pe.symbols.update(t=>t.filter(r=>r.id!==n.id)),await Fe({table:"symbols",action:"delete",id:n.id}),await qa.rearrange(De(Pe.symbols))}})},update:async(n,e)=>{const t=L.cloneDeep(De(Pe.symbols)),r=L.cloneDeep(t.find(s=>s.id===n)),i=L.cloneDeep(De(Pe.sections));await hn({doing:async()=>{Pe.symbols.update(s=>s.map(o=>o.id===n?{...o,...e}:o)),Fe({table:"symbols",action:"update",data:e,id:n})},undoing:async()=>{Pe.symbols.set(t),Pe.sections.set(i),await Fe({table:"symbols",action:"update",data:r,id:r.id})}})},delete:async n=>{const e=L.cloneDeep(De(Pe.symbols)),t=L.cloneDeep(De(Pe.sections));let r;await hn({doing:async()=>{Pe.sections.update(i=>i.filter(s=>s.symbol!==n.id)),Pe.symbols.update(i=>i.filter(s=>s.id!==n.id)),r=await Fe({table:"sections",action:"delete",match:{symbol:n.id}}),await Fe({table:"symbols",action:"delete",id:n.id})},undoing:async()=>{Pe.symbols.set(e),Pe.sections.set(t),await Fe({table:"symbols",action:"insert",data:n}),await Fe({table:"sections",action:"insert",data:r})}})},rearrange:async n=>{const e=n.map((t,r)=>({...t,index:r}));await hn({doing:async()=>{Pe.symbols.set(e),await Promise.all(e.map(t=>{Fe({table:"symbols",action:"update",id:t.id,data:{index:t.index}})}))},undoing:async()=>{Pe.sections.set(original_sections),await Fe({table:"sections",action:"delete",id:new_section.id}),await Fe({table:"sections",action:"upsert",data:original_sections.map(t=>({...t,symbol:t.symbol}))})}})}},b6={update:async n=>{Ww(n),await Fe({table:"sites",action:"update",data:n,id:De(xt).id})}},y6={add_block:async(n,e)=>{const t=L.cloneDeep(De(Pe.sections));console.log({original_sections:t});const r={id:si(),index:e,page:De(Hi),content:n.content,symbol:n.id},i=[...t.slice(0,e),r,...t.slice(e)].map((s,o)=>({...s,index:o}));await hn({doing:async()=>{Pe.sections.set(i),await Fe({table:"sections",action:"upsert",data:i.map(s=>({...s,symbol:s.symbol}))})},undoing:async()=>{Pe.sections.set(t),await Fe({table:"sections",action:"delete",id:r.id}),await Fe({table:"sections",action:"upsert",data:t.map(s=>({...s,symbol:s.symbol}))})}}),fs()},add_primo_block:async(n,e)=>{const t=L.cloneDeep(De(Pe.sections)),r={id:si(),name:n.name,index:e,site:De(xt).id,code:n.code,content:n.content,fields:n.fields};for(let o in De(bn))r.hasOwnProperty(o)||(r.content[o]=r.content.en);const i={id:si(),index:e,page:De(Hi),content:n.content,symbol:r.id},s=[...t.slice(0,e),i,...t.slice(e)].map((o,l)=>({...o,index:l}));await hn({doing:async()=>{Pe.symbols.update(o=>[...o.slice(0,e),r,...o.slice(e)]),Pe.sections.set(s),await Fe({table:"symbols",action:"insert",data:r}),await Fe({table:"sections",action:"upsert",data:s.map(o=>({...o,symbol:o.symbol}))})},undoing:async()=>{Pe.symbols.update(o=>o.filter(l=>l.id!==r.id)),Pe.sections.set(t),await Fe({table:"sections",action:"delete",id:i.id}),await Fe({table:"sections",action:"upsert",data:t.map(o=>({...o,symbol:o.symbol}))}),await Fe({table:"symbols",action:"delete",id:r.id})}}),fs()},move_block:async(n,e)=>{const t=L.find(De(Pe.sections),["index",e]),r=gt(De(Pe.sections)),i=_6(De(Pe.sections),n.index,e).map(s=>s.id===n.id?{...s,index:e}:s.id===(t==null?void 0:t.id)?{...s,index:n.index}:s);await hn({doing:async()=>{Pe.sections.set(i),t&&await Promise.all([Fe({table:"sections",action:"update",id:t.id,data:{index:n.index}}),Fe({table:"sections",action:"update",id:n.id,data:{index:e}})])},undoing:async()=>{Pe.sections.set(r),await Promise.all([Fe({table:"sections",action:"update",id:t.id,data:{index:t.index}}),Fe({table:"sections",action:"update",id:n.id,data:{index:n.index}})])}}),fs()},duplicate_block:async n=>{const e=De(Pe.sections).find(o=>o.id===n),t=e.index+1,r=L.cloneDeep(De(Pe.sections)),i={...e,id:si()},s=[...r.slice(0,t),i,...r.slice(t)].map((o,l)=>({...o,index:l}));await hn({doing:async()=>{Pe.sections.set(s),await Fe({table:"sections",action:"upsert",data:s})},undoing:async()=>{Pe.sections.set(r),await Fe({table:"sections",action:"delete",id:i.id}),await Fe({table:"sections",action:"upsert",data:r})}}),fs()},delete_block:async n=>{const e=L.cloneDeep(De(Pe.sections)),t=e.find(i=>i.id===n),r=e.filter(i=>i.id!==n).map((i,s)=>({...i,index:s}));await hn({doing:async()=>{Pe.sections.set(r),await Fe({table:"sections",action:"delete",id:n}),await Fe({table:"sections",action:"upsert",data:r})},undoing:async()=>{Pe.sections.set(e),await Fe({table:"sections",action:"insert",data:t}),await Fe({table:"sections",action:"upsert",data:e})}}),fs()},update:async n=>{const e=L.cloneDeep(De(jl));await hn({doing:async()=>{Og(n),await Fe({table:"pages",action:"update",id:e.id,data:n})},undoing:async()=>{Og(e),await Fe({table:"pages",action:"update",id:e.id,data:e})}}),fs()}},Sd={create:async({details:n,source:e=null})=>{const t=gt(De(Pe.pages)),i={...Er(t,{id:e})||fp(),...n};let s=[];if(e){const o=await Fe({table:"sections",action:"select",match:{page:e}});s=o==null?void 0:o.map(l=>({...l,id:si(),page:i.id}))}await hn({doing:async()=>{Pe.pages.update(o=>[...o,i]),await Fe({table:"pages",action:"insert",data:{...i,site:De(xt).id,created_at:new Date().toISOString()}}),await Fe({table:"sections",action:"insert",data:s})},undoing:async()=>{Pe.pages.set(t),await Fe({table:"sections",action:"delete",match:{page:i.id}}),await Fe({table:"pages",action:"delete",id:i.id})}})},delete:async n=>{const e=gt(De(Pe.pages)),t=e.filter(s=>s.id!==n&&s.parent!==n);let r=[],i=e.filter(s=>s.id===n||s.parent===n);await hn({doing:async()=>{Pe.pages.set(t);const s=e.filter(l=>l.parent===n);s.length>0&&await Promise.all(s.map(async l=>{const a=await Fe({table:"sections",action:"delete",match:{page:l.id}});r=a?[...r,...a]:r,await Fe({table:"pages",action:"delete",id:l.id})}));const o=await Fe({table:"sections",action:"delete",match:{page:n}});r=o?[...r,...o]:r,await Fe({table:"pages",action:"delete",id:n}),De(Hi)===n&&await cT(`/${De(xt).url}`)},undoing:async()=>{Pe.pages.set(e),await Fe({table:"pages",action:"insert",data:i}),await Fe({table:"sections",action:"insert",data:r})}})},update:async(n,e)=>{const t=gt(De(Pe.pages).find(s=>s.id===n)),r=gt(De(Pe.pages)),i=r.map(s=>s.id===n?{...s,...e}:s);Pe.pages.set(i),await hn({doing:async()=>{Pe.pages.set(i),await Fe({table:"pages",action:"update",id:n,data:e})},undoing:async()=>{Pe.pages.set(r),await Fe({table:"pages",action:"update",id:n,data:t})}})}};async function fs(n=De(jl)){if(n.url==="index"){const e=await yf({page:n,no_js:!0});await pp({bucket:"sites",action:"upload",key:`${De(Pe.site).id}/preview.html`,file:e.html,options:{upsert:!0}})}}async function Zw(n,e){const t=De(Pe.symbols).find(s=>s.id===n.symbol),r=L.cloneDeep(t.content),i=L.cloneDeep(n.content);await hn({doing:async()=>{const s=gt(t.content),o={};Object.entries(e).forEach(([l,a])=>{Object.entries(a).forEach(([u,f])=>{t.fields.find(d=>d.key===u).is_static?s[l]={...s[l],[u]:f}:o[l]={...o[l],[u]:f}})}),Pe.symbols.update(l=>l.map(a=>a.id===t.id?{...a,content:s}:a)),Pe.sections.update(l=>l.map(a=>a.id===n.id?{...a,content:o}:a)),await Promise.all([Fe({table:"sections",action:"update",id:n.id,data:{content:o}}),Fe({table:"symbols",action:"update",id:t.id,data:{content:s}})])},undoing:async()=>{Pe.symbols.update(s=>s.map(o=>o.id===t.id?{...o,content:r}:o)),Pe.sections.update(s=>s.map(o=>o.id===n.id?{...o,content:i}:o)),await Fe({table:"sections",action:"update",id:n.id,data:{content:i}})}}),fs()}async function Mx(n){await hn({doing:async()=>{bn.update(e=>({...e,[n]:e.en})),Pe.pages.update(e=>e.map(t=>({...t,content:{...t.content,[n]:t.content.en}}))),Pe.symbols.update(e=>e.map(t=>({...t,content:{...t.content,[n]:t.content.en}}))),Pe.sections.update(e=>e.map(t=>({...t,content:{...t.content,[n]:t.content.en}}))),await Promise.all([await Fe({table:"sites",action:"update",id:De(xt).id,data:{content:{...De(xt).content,[n]:De(xt).content.en}}}),...De(Pe.symbols).map(async e=>{await Fe({table:"symbols",action:"update",id:e.id,data:{content:{...e.content,[n]:e.content.en}}})}),...De(Pe.pages).map(async e=>{await Fe({table:"sections",action:"select",match:{page:e.id},order:["index",{ascending:!0}]}).then(async t=>{t.map(async r=>{await Fe({table:"sections",action:"update",id:r.id,data:{content:{...r.content,[n]:r.content.en}}})})}),await Fe({table:"pages",action:"update",id:e.id,data:{content:{...e.content,[n]:e.content.en}}})})])},undoing:async()=>{gr.set("en"),bn.update(e=>(delete e[n],e)),Pe.pages.update(e=>e.map(t=>(delete t.content[n],t))),Pe.sections.update(e=>e.map(t=>(delete t.content[n],t))),Pe.symbols.update(e=>e.map(t=>(delete t.content[n],t))),await Promise.all([await Fe({table:"sites",action:"update",id:De(xt).id,data:{content:De(bn)}}),...De(Pe.sections).map(async e=>{await Fe({table:"sections",action:"update",id:e.id,data:{content:e.content}})}),...De(Pe.pages).map(async e=>{await Fe({table:"sections",action:"select",match:{page:e.id},order:["index",{ascending:!0}]}).then(async t=>{t.map(async r=>{delete r.content[n],await Fe({table:"sections",action:"update",id:r.id,data:{content:r.content}})})}),await Fe({table:"pages",action:"update",id:e.id,data:{content:e.content}})})])}})}async function Px(n){gr.set("en");const e={site_content:L.cloneDeep(De(bn)),pages:L.cloneDeep(De(Pe.pages)),sections:L.cloneDeep(De(Pe.sections)),symbols:L.cloneDeep(De(Pe.symbols))};hn({doing:async()=>{bn.update(t=>(delete t[n],t)),Pe.pages.update(t=>t.map(r=>(delete r.content[n],r))),Pe.sections.update(t=>t.map(r=>(delete r.content[n],r))),Pe.symbols.update(t=>t.map(r=>(delete r.content[n],r))),await Promise.all([await Fe({table:"sites",action:"update",id:De(xt).id,data:{content:De(bn)}}),...De(Pe.sections).map(async t=>{await Fe({table:"sections",action:"update",id:t.id,data:{content:t.content}})}),...De(Pe.pages).map(async t=>{await Fe({table:"pages",action:"update",id:t.id,data:{content:t.content}})})])},undoing:async()=>{bn.set(e.site_content),Pe.pages.set(e.pages),Pe.sections.set(e.sections),Pe.symbols.set(e.symbols),await Promise.all([await Fe({table:"sites",action:"update",id:De(xt).id,data:{content:De(bn)}}),await Fe({table:"sections",action:"upsert",data:De(Pe.sections).map(t=>({id:t.id,content:t.content}))}),await Fe({table:"pages",action:"upsert",data:De(Pe.pages).map(t=>({id:t.id,content:t.content}))})])}})}async function Nx(n){gr.set(n)}function k6(n){let e,t,r,i;return{c(){e=ir("svg"),t=ir("circle"),r=ir("path"),this.h()},l(s){e=sr(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var o=O(e);t=sr(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,class:!0}),O(t).forEach(m),r=sr(o,"path",{fill:!0,d:!0,class:!0}),O(r).forEach(m),o.forEach(m),this.h()},h(){y(t,"cx","12"),y(t,"cy","12"),y(t,"r","10"),y(t,"stroke","currentColor"),y(t,"stroke-width","4"),y(t,"class","svelte-1qcg8lf"),y(r,"fill","currentColor"),y(r,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),y(r,"class","svelte-1qcg8lf"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"fill","none"),y(e,"viewBox","0 0 24 24"),y(e,"class","svelte-1qcg8lf")},m(s,o){$(s,e,o),w(e,t),w(e,r)},p:_e,i(s){i||Yt(()=>{i=qr(e,Gr,{}),i.start()})},o:_e,d(s){s&&m(e)}}}class kf extends Ie{constructor(e){super(),$e(this,e,null,k6,Le,{})}}function Cg(n){let e,t;return e=new Ze({props:{icon:n[4]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.icon=r[4]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function w6(n){let e,t;return{c(){e=T("span"),t=H(n[5])},l(r){e=A(r,"SPAN",{});var i=O(e);t=U(i,n[5]),i.forEach(m)},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&32&&Se(t,r[5])},d(r){r&&m(e)}}}function E6(n){let e,t,r,i,s,o,l=n[4]&&Cg(n);const a=n[8].default,u=at(a,n,n[7],null),f=u||w6(n);return{c(){e=T("button"),l&&l.c(),t=j(),f&&f.c(),this.h()},l(c){e=A(c,"BUTTON",{id:!0,class:!0,type:!0});var d=O(e);l&&l.l(d),t=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(e,"id",n[0]),y(e,"class",r="primary-button "+n[1]+" svelte-1oeizvd"),e.disabled=n[3],y(e,"type",n[2])},m(c,d){$(c,e,d),l&&l.m(e,null),w(e,t),f&&f.m(e,null),i=!0,s||(o=re(e,"click",n[9]),s=!0)},p(c,[d]){c[4]?l?(l.p(c,d),d&16&&S(l,1)):(l=Cg(c),l.c(),S(l,1),l.m(e,t)):l&&(le(),P(l,1,1,()=>{l=null}),ae()),u?u.p&&(!i||d&128)&&ut(u,a,c,c[7],i?ct(a,c[7],d,null):ft(c[7]),null):f&&f.p&&(!i||d&32)&&f.p(c,i?d:-1),(!i||d&1)&&y(e,"id",c[0]),(!i||d&2&&r!==(r="primary-button "+c[1]+" svelte-1oeizvd"))&&y(e,"class",r),(!i||d&8)&&(e.disabled=c[3]),(!i||d&4)&&y(e,"type",c[2])},i(c){i||(S(l),S(f,c),i=!0)},o(c){P(l),P(f,c),i=!1},d(c){c&&m(e),l&&l.d(),f&&f.d(c),s=!1,o()}}}function S6(n,e,t){let{$$slots:r={},$$scope:i}=e;const s=Ct();let{id:o=null}=e,{variants:l=""}=e,{type:a="button"}=e,{disabled:u=!1}=e,{icon:f=null}=e,{label:c=""}=e;const d=h=>s("click",h);return n.$$set=h=>{"id"in h&&t(0,o=h.id),"variants"in h&&t(1,l=h.variants),"type"in h&&t(2,a=h.type),"disabled"in h&&t(3,u=h.disabled),"icon"in h&&t(4,f=h.icon),"label"in h&&t(5,c=h.label),"$$scope"in h&&t(7,i=h.$$scope)},[o,l,a,u,f,c,s,i,r,d]}let gp=class extends Ie{constructor(e){super(),$e(this,e,S6,E6,Le,{id:0,variants:1,type:2,disabled:3,icon:4,label:5})}};function _p(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}function T6(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const r=_p(t);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let lc;function Qw(){return lc||(lc=T6("keyval-store","keyval")),lc}function vp(n,e=Qw()){return e("readonly",t=>_p(t.get(n)))}function bp(n,e,t=Qw()){return t("readwrite",r=>(r.put(e,n),_p(r.transaction)))}const A6=n=>({}),Mg=n=>({class:"card-footer svelte-9mk78b"}),O6=n=>({}),Pg=n=>({});function Ng(n){let e,t,r,i,s,o,l,a,u,f,c,d,h=n[2]&&Dg(n);const p=[M6,C6],g=[];function _(b,v){return b[3]?0:1}return a=_(n),u=g[a]=p[a](n),{c(){e=T("button"),t=T("header"),r=T("div"),i=T("span"),s=H(n[1]),o=j(),h&&h.c(),l=j(),u.c(),this.h()},l(b){e=A(b,"BUTTON",{class:!0});var v=O(e);t=A(v,"HEADER",{class:!0});var E=O(t);r=A(E,"DIV",{});var k=O(r);i=A(k,"SPAN",{});var N=O(i);s=U(N,n[1]),N.forEach(m),o=V(k),h&&h.l(k),k.forEach(m),l=V(E),u.l(E),E.forEach(m),v.forEach(m),this.h()},h(){y(t,"class","svelte-9mk78b"),y(e,"class","header-button svelte-9mk78b")},m(b,v){$(b,e,v),w(e,t),w(t,r),w(r,i),w(i,s),w(r,o),h&&h.m(r,null),w(t,l),g[a].m(t,null),f=!0,c||(d=re(e,"click",n[6]),c=!0)},p(b,v){(!f||v&2)&&Se(s,b[1]),b[2]?h?h.p(b,v):(h=Dg(b),h.c(),h.m(r,null)):h&&(h.d(1),h=null);let E=a;a=_(b),a!==E&&(le(),P(g[E],1,1,()=>{g[E]=null}),ae(),u=g[a],u||(u=g[a]=p[a](b),u.c()),S(u,1),u.m(t,null))},i(b){f||(S(u),f=!0)},o(b){P(u),f=!1},d(b){b&&m(e),h&&h.d(),g[a].d(),c=!1,d()}}}function Dg(n){let e,t;return{c(){e=T("span"),t=H(n[2]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[2]),i.forEach(m),this.h()},h(){y(e,"class","pill svelte-9mk78b")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&4&&Se(t,r[2])},d(r){r&&m(e)}}}function C6(n){let e,t;return e=new Ze({props:{icon:"ph:caret-up-bold"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function M6(n){let e,t;return e=new Ze({props:{icon:"ph:caret-down-bold"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Rg(n){let e,t,r;const i=n[5].body,s=at(i,n,n[4],Pg),o=n[5].default,l=at(o,n,n[4],null);return{c(){e=T("div"),s&&s.c(),t=j(),l&&l.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var u=O(e);s&&s.l(u),t=V(u),l&&l.l(u),u.forEach(m),this.h()},h(){y(e,"class","card-body svelte-9mk78b")},m(a,u){$(a,e,u),s&&s.m(e,null),w(e,t),l&&l.m(e,null),r=!0},p(a,u){s&&s.p&&(!r||u&16)&&ut(s,i,a,a[4],r?ct(i,a[4],u,O6):ft(a[4]),Pg),l&&l.p&&(!r||u&16)&&ut(l,o,a,a[4],r?ct(o,a[4],u,null):ft(a[4]),null)},i(a){r||(S(s,a),S(l,a),r=!0)},o(a){P(s,a),P(l,a),r=!1},d(a){a&&m(e),s&&s.d(a),l&&l.d(a)}}}function P6(n){let e,t,r,i,s=n[1]&&Ng(n),o=!n[3]&&Rg(n);const l=n[5].footer,a=at(l,n,n[4],Mg);return{c(){e=T("div"),s&&s.c(),t=j(),o&&o.c(),r=j(),a&&a.c(),this.h()},l(u){e=A(u,"DIV",{class:!0,id:!0});var f=O(e);s&&s.l(f),t=V(f),o&&o.l(f),r=V(f),a&&a.l(f),f.forEach(m),this.h()},h(){y(e,"class","card svelte-9mk78b"),y(e,"id",n[0])},m(u,f){$(u,e,f),s&&s.m(e,null),w(e,t),o&&o.m(e,null),w(e,r),a&&a.m(e,null),i=!0},p(u,[f]){u[1]?s?(s.p(u,f),f&2&&S(s,1)):(s=Ng(u),s.c(),S(s,1),s.m(e,t)):s&&(le(),P(s,1,1,()=>{s=null}),ae()),u[3]?o&&(le(),P(o,1,1,()=>{o=null}),ae()):o?(o.p(u,f),f&8&&S(o,1)):(o=Rg(u),o.c(),S(o,1),o.m(e,r)),a&&a.p&&(!i||f&16)&&ut(a,l,u,u[4],i?ct(l,u[4],f,A6):ft(u[4]),Mg),(!i||f&1)&&y(e,"id",u[0])},i(u){i||(S(s),S(o),S(a,u),i=!0)},o(u){P(s),P(o),P(a,u),i=!1},d(u){u&&m(e),s&&s.d(),o&&o.d(),a&&a.d(u)}}}function N6(n,e,t){let{$$slots:r={},$$scope:i}=e,{id:s=null}=e,{title:o=null}=e,{pill:l=null}=e,a=!1;Ml(()=>{o&&bp(o,a)});const u=()=>{t(3,a=!a)};return n.$$set=f=>{"id"in f&&t(0,s=f.id),"title"in f&&t(1,o=f.title),"pill"in f&&t(2,l=f.pill),"$$scope"in f&&t(4,i=f.$$scope)},n.$$.update=()=>{n.$$.dirty&2&&o&&vp(o).then(f=>{f!==void 0&&t(3,a=f)})},[s,o,l,a,i,r,u]}class D6 extends Ie{constructor(e){super(),$e(this,e,N6,P6,Le,{id:0,title:1,pill:2})}}function Ig(n,e,t){const r=n.slice();return r[4]=e[t],r[6]=t,r}function $g(n){let e,t,r,i=n[1],s=[];for(let l=0;l<i.length;l+=1)s[l]=zg(Ig(n,i,l));const o=l=>P(s[l],1,1,()=>{s[l]=null});return{c(){e=T("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var a=O(e);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(m),this.h()},h(){y(e,"class","tabs svelte-1y3854r")},m(l,a){$(l,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);r=!0},p(l,a){if(a&3){i=l[1];let u;for(u=0;u<i.length;u+=1){const f=Ig(l,i,u);s[u]?(s[u].p(f,a),S(s[u],1)):(s[u]=zg(f),s[u].c(),S(s[u],1),s[u].m(e,null))}for(le(),u=i.length;u<s.length;u+=1)o(u);ae()}},i(l){if(!r){for(let a=0;a<i.length;a+=1)S(s[a]);t||Yt(()=>{t=qr(e,Gr,{duration:200}),t.start()}),r=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)P(s[a]);r=!1},d(l){l&&m(e),Kt(s,l)}}}function Lg(n){let e,t;return e=new Ze({props:{icon:n[4].icon}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.icon=r[4].icon),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function zg(n){let e,t,r=(typeof n[4]=="string"?n[4]:n[4].label)+"",i,s,o,l,a,u,f=n[4].icon&&Lg(n);function c(){return n[2](n[4])}return{c(){e=T("button"),f&&f.c(),t=j(),i=H(r),s=j(),this.h()},l(d){e=A(d,"BUTTON",{id:!0,class:!0});var h=O(e);f&&f.l(h),t=V(h),i=U(h,r),s=V(h),h.forEach(m),this.h()},h(){y(e,"id",o=n[4].id?`tab-${n[4].id}`:null),y(e,"class","svelte-1y3854r"),ee(e,"active",n[0]===n[4].id)},m(d,h){$(d,e,h),f&&f.m(e,null),w(e,t),w(e,i),w(e,s),l=!0,a||(u=re(e,"click",c),a=!0)},p(d,h){n=d,n[4].icon?f?(f.p(n,h),h&2&&S(f,1)):(f=Lg(n),f.c(),S(f,1),f.m(e,t)):f&&(le(),P(f,1,1,()=>{f=null}),ae()),(!l||h&2)&&r!==(r=(typeof n[4]=="string"?n[4]:n[4].label)+"")&&Se(i,r),(!l||h&2&&o!==(o=n[4].id?`tab-${n[4].id}`:null))&&y(e,"id",o),(!l||h&3)&&ee(e,"active",n[0]===n[4].id)},i(d){l||(S(f),l=!0)},o(d){P(f),l=!1},d(d){d&&m(e),f&&f.d(),a=!1,u()}}}function R6(n){let e,t,r=n[1].length>1&&$g(n);return{c(){r&&r.c(),e=ge()},l(i){r&&r.l(i),e=ge()},m(i,s){r&&r.m(i,s),$(i,e,s),t=!0},p(i,[s]){i[1].length>1?r?(r.p(i,s),s&2&&S(r,1)):(r=$g(i),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(le(),P(r,1,1,()=>{r=null}),ae())},i(i){t||(S(r),t=!0)},o(i){P(r),t=!1},d(i){r&&r.d(i),i&&m(e)}}}function I6(n,e,t){var l;const r=Ct();let{tabs:i}=e,{active_tab_id:s=(l=i[0])==null?void 0:l.id}=e;const o=a=>t(0,s=a.id);return n.$$set=a=>{"tabs"in a&&t(1,i=a.tabs),"active_tab_id"in a&&t(0,s=a.active_tab_id)},n.$$.update=()=>{n.$$.dirty&1&&r("switch",s)},[s,i,o]}class wf extends Ie{constructor(e){super(),$e(this,e,I6,R6,Le,{tabs:1,active_tab_id:0})}}const Td=(n="en")=>`
  <!DOCTYPE html>
  <html lang="${n}">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script type="module">
        let c;

        const channel = new BroadcastChannel('component_preview');
        channel.onmessage = ({data}) => {
          const { event, payload = {} } = data
          if (payload.componentApp || payload.componentData) {
            update(payload.componentApp, payload.componentData)
          }
        }

        function update(source = null, props) {
          if (c && !source && props) {
            // TODO: re-render component when passing only a subset of existing props (i.e. when a prop has been deleted)
            c.$set(props);
          } else if (source) {
            const withLogs = \`
              const channel = new BroadcastChannel('component_preview');
              const primoLog = console ? console.log.bind(console) : null;
              const primoError = console ? console.error.bind(console) : null;
              function postMessage(logs) {
                channel.postMessage({
                  event: 'SET_CONSOLE_LOGS',
                  payload: { logs }
                });
              }
              channel.postMessage({ event: 'BEGIN' });
              if (primoLog) console.log = (...args) => { try {postMessage(...args)}catch(e){postMessage('Could not print ' + typeof(args) + '. See in console.')}; primoLog(...args); };
              if (primoLog) console.error = (...args) => { try {postMessage(...args)}catch(e){postMessage('Could not print ' + typeof(args) + '. See in console.')}; primoError(...args); };
              \` + source;
            const blob = new Blob([withLogs], { type: 'text/javascript' });
            const url = URL.createObjectURL(blob);
            import(url).then(({ default: App }) => {
              if (c) c.$destroy();
              try {
                c = new App({ 
                  target: document.querySelector('.section'),
                  props
                })
                setTimeout(setListeners, 200)
              } catch(e) {
                document.querySelector('.section').innerHTML = ''
                console.error(e.toString())
              }
              channel.postMessage({
                event: 'SET_HEIGHT',
                payload: {
                  height: window.document.body.scrollHeight
                }
              });
            })
          }
        }

        function setListeners() {
          document.body.querySelectorAll('*').forEach(el => {
            el.addEventListener('mouseenter', () => {
              const loc = el?.__svelte_meta?.loc // line of code
              channel.postMessage({
                event: 'SET_ELEMENT_PATH',
                payload: { loc }
              });
            })
          })
          // Move site+page styles to top of html head to cascade correctly
          const head = document.getElementsByTagName('head')[0]
          head.prepend(document.getElementById('parent-styles'))
        }
		  <\/script>
    </head>
    <body id="page">
        <div class="section">
        </div>
    </body>
  </html>
`,Rx=n=>`
    <!DOCTYPE html>
    <html lang="en">
      <head>${n.head}</head>
      <body id="page">
        ${n.html}
        <style>${n.css}</style>
      </body>
    </html>
  `,Bg={};function Qi(n,e){const t=Jo(Bg),r=typeof n=="function"?n(t):n,i={...t,...r};return e!=null&&e.expandable&&(i.isParentExpanded=i.expanded),uh(Bg,i),t}function Fg(n){let e,t,r="▶",i,s,o;return{c(){e=T("span"),t=T("span"),i=H(r),this.h()},l(l){e=A(l,"SPAN",{class:!0});var a=O(e);t=A(a,"SPAN",{class:!0});var u=O(t);i=U(u,r),u.forEach(m),a.forEach(m),this.h()},h(){y(t,"class","arrow svelte-189thxs"),ee(t,"expanded",n[2]),y(e,"class","container svelte-189thxs")},m(l,a){$(l,e,a),w(e,t),w(t,i),s||(o=re(e,"click",n[4]),s=!0)},p(l,a){a&4&&ee(t,"expanded",l[2])},d(l){l&&m(e),s=!1,o()}}}function $6(n){let e,t=n[1]&&Fg(n);return{c(){t&&t.c(),e=ge()},l(r){t&&t.l(r),e=ge()},m(r,i){t&&t.m(r,i),$(r,e,i)},p(r,[i]){r[1]?t?t.p(r,i):(t=Fg(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d(r){t&&t.d(r),r&&m(e)}}}function L6(n,e,t){let r,i,s=_e,o=()=>(s(),s=ay(u,c=>t(2,i=c)),u);n.$$.on_destroy.push(()=>s());const{expanded:l,expandable:a}=Qi();me(n,a,c=>t(1,r=c));let{expanded:u=l}=e;o();const f=c=>{c.stopPropagation(),Ut(u,i=!i,i)};return n.$$set=c=>{"expanded"in c&&o(t(0,u=c.expanded))},[u,r,i,a,f]}class xw extends Ie{constructor(e){super(),$e(this,e,L6,$6,Le,{expanded:0})}}function z6(n){let e;const t=n[1].default,r=at(t,n,n[0],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,[s]){r&&r.p&&(!e||s&1)&&ut(r,t,i,i[0],e?ct(t,i[0],s,null):ft(i[0]),null)},i(i){e||(S(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function B6(n,e,t){let{$$slots:r={},$$scope:i}=e;return Qi({displayMode:"summary"}),n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,r]}class F6 extends Ie{constructor(e){super(),$e(this,e,B6,z6,Le,{})}}function j6(n){let e;const t=n[3].default,r=at(t,n,n[2],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,[s]){r&&r.p&&(!e||s&4)&&ut(r,t,i,i[2],e?ct(t,i[2],s,null):ft(i[2]),null)},i(i){e||(S(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function V6(n,e,t){let{$$slots:r={},$$scope:i}=e,{expanded:s}=e,{key:o}=e;const l=je(!1);return Qi(({keyPath:a,level:u})=>(o!=="[[Entries]]"&&(a=[...a,o],u=u+1),{keyPath:a,level:u,expanded:s,expandable:l})),n.$$set=a=>{"expanded"in a&&t(0,s=a.expanded),"key"in a&&t(1,o=a.key),"$$scope"in a&&t(2,i=a.$$scope)},[s,o,i,r]}class eE extends Ie{constructor(e){super(),$e(this,e,V6,j6,Le,{expanded:0,key:1})}}function jg(n,e,t){const r=n.slice();return r[19]=e[t],r[21]=t,r}const H6=n=>({key:n&1}),Vg=n=>({key:n[19],index:n[21]}),U6=n=>({key:n&1}),Hg=n=>({key:n[19],index:n[21]}),W6=n=>({}),Ug=n=>({}),q6=n=>({}),Wg=n=>({});function G6(n){let e,t,r,i,s,o,l,a,u=n[6]&&J6(n);r=new F6({props:{$$slots:{default:[Y6]},$$scope:{ctx:n}}});let f=n[4]&&qg(n);return{c(){e=T("span"),u&&u.c(),t=j(),W(r.$$.fragment),i=j(),f&&f.c(),s=ge(),this.h()},l(c){e=A(c,"SPAN",{class:!0});var d=O(e);u&&u.l(d),t=V(d),Y(r.$$.fragment,d),d.forEach(m),i=V(c),f&&f.l(c),s=ge(),this.h()},h(){y(e,"class","root svelte-wn59pc")},m(c,d){$(c,e,d),u&&u.m(e,null),w(e,t),q(r,e,null),$(c,i,d),f&&f.m(c,d),$(c,s,d),o=!0,l||(a=re(e,"click",n[9]),l=!0)},p(c,d){c[6]&&u.p(c,d);const h={};d&8192&&(h.$$scope={dirty:d,ctx:c}),r.$set(h),c[4]?f?(f.p(c,d),d&16&&S(f,1)):(f=qg(c),f.c(),S(f,1),f.m(s.parentNode,s)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){o||(S(u),S(r.$$.fragment,c),S(f),o=!0)},o(c){P(u),P(r.$$.fragment,c),P(f),o=!1},d(c){c&&m(e),u&&u.d(),G(r),c&&m(i),f&&f.d(c),c&&m(s),l=!1,a()}}}function K6(n){let e;const t=n[11].summary,r=at(t,n,n[13],Wg);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&8192)&&ut(r,t,i,i[13],e?ct(t,i[13],s,q6):ft(i[13]),Wg)},i(i){e||(S(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function J6(n){let e,t;return e=new xw({props:{expanded:n[7]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:_e,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Y6(n){let e;const t=n[11].preview,r=at(t,n,n[13],Ug);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&8192)&&ut(r,t,i,i[13],e?ct(t,i[13],s,W6):ft(i[13]),Ug)},i(i){e||(S(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function qg(n){let e,t,r,i,s=n[0],o=[];for(let a=0;a<s.length;a+=1)o[a]=Kg(jg(n,s,a));const l=a=>P(o[a],1,1,()=>{o[a]=null});return{c(){e=T("ul");for(let a=0;a<o.length;a+=1)o[a].c()},l(a){e=A(a,"UL",{});var u=O(e);for(let f=0;f<o.length;f+=1)o[f].l(u);u.forEach(m)},m(a,u){$(a,e,u);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);t=!0,r||(i=re(e,"click",uy(n[9])),r=!0)},p(a,u){if(u&8223){s=a[0];let f;for(f=0;f<s.length;f+=1){const c=jg(a,s,f);o[f]?(o[f].p(c,u),S(o[f],1)):(o[f]=Kg(c),o[f].c(),S(o[f],1),o[f].m(e,null))}for(le(),f=s.length;f<o.length;f+=1)l(f);ae()}},i(a){if(!t){for(let u=0;u<s.length;u+=1)S(o[u]);t=!0}},o(a){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)P(o[u]);t=!1},d(a){a&&m(e),Kt(o,a),r=!1,i()}}}function Gg(n){let e,t;return{c(){e=T("span"),t=H(":"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,":"),i.forEach(m),this.h()},h(){y(e,"class","operator")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function X6(n){let e,t,r=!n[1]||n[1](n[19]),i,s,o,l;t=new xw({});const a=n[11].item_key,u=at(a,n,n[13],Hg);let f=r&&Gg();function c(){return n[12](n[21])}const d=n[11].item_value,h=at(d,n,n[13],Vg);return{c(){e=T("span"),W(t.$$.fragment),u&&u.c(),f&&f.c(),i=j(),h&&h.c(),this.h()},l(p){e=A(p,"SPAN",{class:!0});var g=O(e);Y(t.$$.fragment,g),u&&u.l(g),f&&f.l(g),i=V(g),g.forEach(m),h&&h.l(p),this.h()},h(){y(e,"class","label svelte-wn59pc")},m(p,g){$(p,e,g),q(t,e,null),u&&u.m(e,null),f&&f.m(e,null),w(e,i),h&&h.m(p,g),s=!0,o||(l=re(e,"click",c),o=!0)},p(p,g){n=p,u&&u.p&&(!s||g&8193)&&ut(u,a,n,n[13],s?ct(a,n[13],g,U6):ft(n[13]),Hg),g&3&&(r=!n[1]||n[1](n[19])),r?f||(f=Gg(),f.c(),f.m(e,i)):f&&(f.d(1),f=null),h&&h.p&&(!s||g&8193)&&ut(h,d,n,n[13],s?ct(d,n[13],g,H6):ft(n[13]),Vg)},i(p){s||(S(t.$$.fragment,p),S(u,p),S(h,p),s=!0)},o(p){P(t.$$.fragment,p),P(u,p),P(h,p),s=!1},d(p){p&&m(e),G(t),u&&u.d(p),f&&f.d(),h&&h.d(p),o=!1,l()}}}function Kg(n){let e,t,r,i,s,o;return t=new eE({props:{key:n[2](n[19]),expanded:n[3][n[21]],$$slots:{default:[X6]},$$scope:{ctx:n}}}),{c(){e=T("li"),W(t.$$.fragment),r=j(),this.h()},l(l){e=A(l,"LI",{class:!0});var a=O(e);Y(t.$$.fragment,a),r=V(a),a.forEach(m),this.h()},h(){y(e,"class","svelte-wn59pc"),ee(e,"indent",n[4])},m(l,a){$(l,e,a),q(t,e,null),w(e,r),i=!0,s||(o=re(e,"click",uy(Q6)),s=!0)},p(l,a){const u={};a&5&&(u.key=l[2](l[19])),a&8&&(u.expanded=l[3][l[21]]),a&8203&&(u.$$scope={dirty:a,ctx:l}),t.$set(u),(!i||a&16)&&ee(e,"indent",l[4])},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t),s=!1,o()}}}function Z6(n){let e,t,r,i;const s=[K6,G6],o=[];function l(a,u){return a[5]==="summary"?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,[u]){t.p(a,u)},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}const Q6=()=>{};function x6(n,e,t){let r,i,s,{$$slots:o={},$$scope:l}=e,{keys:a}=e,{shouldShowColon:u=void 0}=e,{expandKey:f=C=>C}=e,{defaultExpanded:c=!1}=e;const{isParentExpanded:d,displayMode:h,root:p,expanded:g,expandable:_,keyPath:b,level:v,shouldExpandNode:E}=Qi({root:!1},{expandable:!0});if(me(n,g,C=>t(4,i=C)),me(n,_,C=>t(14,s=C)),Ut(_,s=!0,s),h!=="summary"){if(!c){const C=E({keyPath:b,level:v});C!==void 0&&(c=C)}qu(()=>d.subscribe(C=>{C?g.set(c):g.set(!1)}))}function k(){Ut(g,i=!i,i)}const N=C=>r[C].update(M=>!M);return n.$$set=C=>{"keys"in C&&t(0,a=C.keys),"shouldShowColon"in C&&t(1,u=C.shouldShowColon),"expandKey"in C&&t(2,f=C.expandKey),"defaultExpanded"in C&&t(10,c=C.defaultExpanded),"$$scope"in C&&t(13,l=C.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(3,r=a.map(()=>je(!1)))},[a,u,f,r,i,h,p,g,_,k,c,o,N,l]}class _r extends Ie{constructor(e){super(),$e(this,e,x6,Z6,Le,{keys:0,shouldShowColon:1,expandKey:2,defaultExpanded:10})}}function Jg(n,e,t){const r=n.slice();return r[7]=e[t],r[9]=t,r}const e8=n=>({item:n&1}),Yg=n=>({item:n[7],index:n[9]});function Xg(n){let e,t,r=n[2]&&Zg(n);return{c(){r&&r.c(),e=T("span"),t=H(n[3]),this.h()},l(i){r&&r.l(i),e=A(i,"SPAN",{class:!0});var s=O(e);t=U(s,n[3]),s.forEach(m),this.h()},h(){y(e,"class","operator")},m(i,s){r&&r.m(i,s),$(i,e,s),w(e,t)},p(i,s){i[2]?r?r.p(i,s):(r=Zg(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s&8&&Se(t,i[3])},d(i){r&&r.d(i),i&&m(e)}}}function Zg(n){let e,t;return{c(){e=T("span"),t=H(n[2]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[2]),i.forEach(m),this.h()},h(){y(e,"class","label")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&4&&Se(t,r[2])},d(r){r&&m(e)}}}function Qg(n){let e,t;return{c(){e=T("span"),t=H(","),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,","),i.forEach(m),this.h()},h(){y(e,"class","comma operator svelte-zzd03g")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function xg(n){let e,t,r;const i=n[6].item,s=at(i,n,n[5],Yg);let o=n[9]<n[0].length-1&&Qg();return{c(){s&&s.c(),e=j(),o&&o.c(),t=ge()},l(l){s&&s.l(l),e=V(l),o&&o.l(l),t=ge()},m(l,a){s&&s.m(l,a),$(l,e,a),o&&o.m(l,a),$(l,t,a),r=!0},p(l,a){s&&s.p&&(!r||a&33)&&ut(s,i,l,l[5],r?ct(i,l[5],a,e8):ft(l[5]),Yg),l[9]<l[0].length-1?o||(o=Qg(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(l){r||(S(s,l),r=!0)},o(l){P(s,l),r=!1},d(l){s&&s.d(l),l&&m(e),o&&o.d(l),l&&m(t)}}}function e_(n){let e,t,r,i,s;return{c(){e=T("span"),t=H(","),r=j(),i=T("span"),s=H("…"),this.h()},l(o){e=A(o,"SPAN",{class:!0});var l=O(e);t=U(l,","),l.forEach(m),r=V(o),i=A(o,"SPAN",{class:!0});var a=O(i);s=U(a,"…"),a.forEach(m),this.h()},h(){y(e,"class","comma operator svelte-zzd03g"),y(i,"class","operator")},m(o,l){$(o,e,l),w(e,t),$(o,r,l),$(o,i,l),w(i,s)},d(o){o&&m(e),o&&m(r),o&&m(i)}}}function t_(n){let e,t;return{c(){e=T("span"),t=H(n[4]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[4]),i.forEach(m),this.h()},h(){y(e,"class","operator")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&16&&Se(t,r[4])},d(r){r&&m(e)}}}function t8(n){let e,t,r,i,s,o=n[3]&&Xg(n),l=n[0],a=[];for(let d=0;d<l.length;d+=1)a[d]=xg(Jg(n,l,d));const u=d=>P(a[d],1,1,()=>{a[d]=null});let f=n[1]&&e_(),c=n[4]&&t_(n);return{c(){o&&o.c(),e=j();for(let d=0;d<a.length;d+=1)a[d].c();t=j(),f&&f.c(),r=j(),c&&c.c(),i=ge()},l(d){o&&o.l(d),e=V(d);for(let h=0;h<a.length;h+=1)a[h].l(d);t=V(d),f&&f.l(d),r=V(d),c&&c.l(d),i=ge()},m(d,h){o&&o.m(d,h),$(d,e,h);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(d,h);$(d,t,h),f&&f.m(d,h),$(d,r,h),c&&c.m(d,h),$(d,i,h),s=!0},p(d,[h]){if(d[3]?o?o.p(d,h):(o=Xg(d),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),h&33){l=d[0];let p;for(p=0;p<l.length;p+=1){const g=Jg(d,l,p);a[p]?(a[p].p(g,h),S(a[p],1)):(a[p]=xg(g),a[p].c(),S(a[p],1),a[p].m(t.parentNode,t))}for(le(),p=l.length;p<a.length;p+=1)u(p);ae()}d[1]?f||(f=e_(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),d[4]?c?c.p(d,h):(c=t_(d),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},i(d){if(!s){for(let h=0;h<l.length;h+=1)S(a[h]);s=!0}},o(d){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)P(a[h]);s=!1},d(d){o&&o.d(d),d&&m(e),Kt(a,d),d&&m(t),f&&f.d(d),d&&m(r),c&&c.d(d),d&&m(i)}}}function n8(n,e,t){let{$$slots:r={},$$scope:i}=e,{list:s}=e,{hasMore:o}=e,{label:l=void 0}=e,{prefix:a=void 0}=e,{postfix:u=void 0}=e;return n.$$set=f=>{"list"in f&&t(0,s=f.list),"hasMore"in f&&t(1,o=f.hasMore),"label"in f&&t(2,l=f.label),"prefix"in f&&t(3,a=f.prefix),"postfix"in f&&t(4,u=f.postfix),"$$scope"in f&&t(5,i=f.$$scope)},[s,o,l,a,u,i,r]}class Mo extends Ie{constructor(e){super(),$e(this,e,n8,t8,Le,{list:0,hasMore:1,label:2,prefix:3,postfix:4})}}function r8(n){let e,t="{…}",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","label")},m(i,s){$(i,e,s),w(e,r)},p:_e,d(i){i&&m(e)}}}function i8(n){let e,t=n[4]+"",r,i,s=": ",o,l,a;return l=new Lt({props:{value:n[0][n[4]]}}),{c(){e=T("span"),r=H(t),i=T("span"),o=H(s),W(l.$$.fragment),this.h()},l(u){e=A(u,"SPAN",{class:!0});var f=O(e);r=U(f,t),f.forEach(m),i=A(u,"SPAN",{class:!0});var c=O(i);o=U(c,s),c.forEach(m),Y(l.$$.fragment,u),this.h()},h(){y(e,"class","property"),y(i,"class","operator")},m(u,f){$(u,e,f),w(e,r),$(u,i,f),w(i,o),q(l,u,f),a=!0},p(u,f){(!a||f&16)&&t!==(t=u[4]+"")&&Se(r,t);const c={};f&17&&(c.value=u[0][u[4]]),l.$set(c)},i(u){a||(S(l.$$.fragment,u),a=!0)},o(u){P(l.$$.fragment,u),a=!1},d(u){u&&m(e),u&&m(i),G(l,u)}}}function s8(n){let e,t;return e=new Mo({props:{list:n[2],hasMore:n[2].length<n[1].length,prefix:"{",postfix:"}",$$slots:{item:[i8,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&4&&(s.list=r[2]),i&6&&(s.hasMore=r[2].length<r[1].length),i&49&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function o8(n){let e,t=n[3]+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&8&&t!==(t=i[3]+"")&&Se(r,t)},d(i){i&&m(e)}}}function l8(n){let e,t;return e=new Lt({props:{value:n[0][n[3]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&9&&(s.value=r[0][r[3]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function a8(n){let e,t;return e=new _r({props:{keys:n[1],$$slots:{item_value:[l8,({key:r})=>({3:r}),({key:r})=>r?8:0],item_key:[o8,({key:r})=>({3:r}),({key:r})=>r?8:0],preview:[s8],summary:[r8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.keys=r[1]),i&47&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function u8(n,e,t){let r,i,{value:s}=e;return n.$$set=o=>{"value"in o&&t(0,s=o.value)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=Object.getOwnPropertyNames(s)),n.$$.dirty&2&&t(2,i=r.slice(0,5))},[s,r,i]}class tE extends Ie{constructor(e){super(),$e(this,e,u8,a8,Le,{value:0})}}function f8(n){let e,t,r=n[0].length+"",i,s;return{c(){e=T("span"),t=H("Array("),i=H(r),s=H(")"),this.h()},l(o){e=A(o,"SPAN",{class:!0});var l=O(e);t=U(l,"Array("),i=U(l,r),s=U(l,")"),l.forEach(m),this.h()},h(){y(e,"class","label")},m(o,l){$(o,e,l),w(e,t),w(e,i),w(e,s)},p(o,l){l&1&&r!==(r=o[0].length+"")&&Se(i,r)},d(o){o&&m(e)}}}function c8(n){let e,t;return e=new Lt({props:{value:n[4]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.value=r[4]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function d8(n){let e,t;return e=new Mo({props:{list:n[1],hasMore:n[1].length<n[0].length,label:"("+n[0].length+") ",prefix:"[",postfix:"]",$$slots:{item:[c8,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.list=r[1]),i&3&&(s.hasMore=r[1].length<r[0].length),i&1&&(s.label="("+r[0].length+") "),i&48&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function h8(n){let e,t=String(n[3])+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&8&&t!==(t=String(i[3])+"")&&Se(r,t)},d(i){i&&m(e)}}}function p8(n){let e,t;return e=new Lt({props:{value:n[0][n[3]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&9&&(s.value=r[0][r[3]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function m8(n){let e,t;return e=new _r({props:{keys:n[2],$$slots:{item_value:[p8,({key:r})=>({3:r}),({key:r})=>r?8:0],item_key:[h8,({key:r})=>({3:r}),({key:r})=>r?8:0],preview:[d8],summary:[f8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&4&&(s.keys=r[2]),i&43&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function g8(n,e,t){let r,i,{value:s}=e;return n.$$set=o=>{"value"in o&&t(0,s=o.value)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=Object.getOwnPropertyNames(s)),n.$$.dirty&1&&t(1,i=s.slice(0,5))},[s,i,r]}class _8 extends Ie{constructor(e){super(),$e(this,e,g8,m8,Le,{value:0})}}function v8(n){let e,t,r,i=n[3].length+"",s,o;return{c(){e=T("span"),t=H(n[1]),r=H("("),s=H(i),o=H(")"),this.h()},l(l){e=A(l,"SPAN",{class:!0});var a=O(e);t=U(a,n[1]),r=U(a,"("),s=U(a,i),o=U(a,")"),a.forEach(m),this.h()},h(){y(e,"class","label")},m(l,a){$(l,e,a),w(e,t),w(e,r),w(e,s),w(e,o)},p(l,a){a&2&&Se(t,l[1]),a&8&&i!==(i=l[3].length+"")&&Se(s,i)},d(l){l&&m(e)}}}function b8(n){let e,t;return e=new Lt({props:{value:n[8]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&256&&(s.value=r[8]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function y8(n){let e,t;return e=new Mo({props:{list:n[4],hasMore:n[4].length<n[2].length,label:`${n[1]}(${n[3].length}) `,prefix:"{",postfix:"}",$$slots:{item:[b8,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.list=r[4]),i&20&&(s.hasMore=r[4].length<r[2].length),i&10&&(s.label=`${r[1]}(${r[3].length}) `),i&768&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function k8(n){let e,t=n[6]+"",r,i;return{c(){e=T("span"),r=H(t),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){y(e,"class",i=n[6]===hl?"internal":"property")},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&64&&t!==(t=s[6]+"")&&Se(r,t),o&64&&i!==(i=s[6]===hl?"internal":"property")&&y(e,"class",i)},d(s){s&&m(e)}}}function w8(n){let e,t;return e=new Lt({props:{value:n[0][n[6]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&65&&(s.value=r[0][r[6]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function E8(n){let e,t;return e=new _r({props:{keys:n[3],defaultExpanded:!0,$$slots:{item_value:[T8,({key:r})=>({7:r}),({key:r})=>r?128:0],item_key:[S8,({key:r})=>({7:r}),({key:r})=>r?128:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&8&&(s.keys=r[3]),i&644&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function S8(n){let e,t=n[7]+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&128&&t!==(t=i[7]+"")&&Se(r,t)},d(i){i&&m(e)}}}function T8(n){let e,t;return e=new Lt({props:{value:n[2][n[7]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&132&&(s.value=r[2][r[7]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function A8(n){let e,t,r,i;const s=[E8,w8],o=[];function l(a,u){return a[6]===hl?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function O8(n){let e,t;return e=new _r({props:{keys:[hl,"size"],shouldShowColon:n[5],$$slots:{item_value:[A8,({key:r})=>({6:r}),({key:r})=>r?64:0],item_key:[k8,({key:r})=>({6:r}),({key:r})=>r?64:0],preview:[y8],summary:[v8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&607&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}const hl="[[Entries]]";function C8(n,e,t){let r,{value:i}=e,{nodeType:s}=e,o=[],l=[];const a=u=>u!==hl;return n.$$set=u=>{"value"in u&&t(0,i=u.value),"nodeType"in u&&t(1,s=u.nodeType)},n.$$.update=()=>{if(n.$$.dirty&1){let u=[],f=[],c=0;for(const d of i)u.push(c++),f.push(d);t(3,o=u),t(2,l=f)}n.$$.dirty&4&&t(4,r=l.slice(0,5))},[i,s,l,o,r,a]}class M8 extends Ie{constructor(e){super(),$e(this,e,C8,O8,Le,{value:0,nodeType:1})}}function P8(n){let e,t,r=n[2].length+"",i,s;return{c(){e=T("span"),t=H("Map("),i=H(r),s=H(")"),this.h()},l(o){e=A(o,"SPAN",{color:!0});var l=O(e);t=U(l,"Map("),i=U(l,r),s=U(l,")"),l.forEach(m),this.h()},h(){y(e,"color","label")},m(o,l){$(o,e,l),w(e,t),w(e,i),w(e,s)},p(o,l){l&4&&r!==(r=o[2].length+"")&&Se(i,r)},d(o){o&&m(e)}}}function N8(n){let e,t,r=" => ",i,s,o;return e=new Lt({props:{value:n[10]}}),s=new Lt({props:{value:n[0].get(n[10])}}),{c(){W(e.$$.fragment),t=T("span"),i=H(r),W(s.$$.fragment),this.h()},l(l){Y(e.$$.fragment,l),t=A(l,"SPAN",{class:!0});var a=O(t);i=U(a,r),a.forEach(m),Y(s.$$.fragment,l),this.h()},h(){y(t,"class","operator")},m(l,a){q(e,l,a),$(l,t,a),w(t,i),q(s,l,a),o=!0},p(l,a){const u={};a&1024&&(u.value=l[10]),e.$set(u);const f={};a&1025&&(f.value=l[0].get(l[10])),s.$set(f)},i(l){o||(S(e.$$.fragment,l),S(s.$$.fragment,l),o=!0)},o(l){P(e.$$.fragment,l),P(s.$$.fragment,l),o=!1},d(l){G(e,l),l&&m(t),G(s,l)}}}function D8(n){let e,t;return e=new Mo({props:{list:n[4],hasMore:n[4].length<n[0].size,label:`Map(${n[2].length}) `,prefix:"{",postfix:"}",$$slots:{item:[N8,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.list=r[4]),i&17&&(s.hasMore=r[4].length<r[0].size),i&4&&(s.label=`Map(${r[2].length}) `),i&3073&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function R8(n){let e,t=n[7]+"",r,i;return{c(){e=T("span"),r=H(t),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){y(e,"class",i=n[7]===pl?"internal":"property")},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&128&&t!==(t=s[7]+"")&&Se(r,t),o&128&&i!==(i=s[7]===pl?"internal":"property")&&y(e,"class",i)},d(s){s&&m(e)}}}function I8(n){let e,t;return e=new Lt({props:{value:n[0][n[7]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&129&&(s.value=r[0][r[7]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function $8(n){let e,t;return e=new _r({props:{keys:n[1],expandKey:n[5],defaultExpanded:!0,$$slots:{item_value:[j8,({key:r})=>({8:r}),({key:r})=>r?256:0],item_key:[L8,({key:r})=>({8:r}),({key:r})=>r?256:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.keys=r[1]),i&4&&(s.expandKey=r[5]),i&2316&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function L8(n){let e,t=n[8]+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&256&&t!==(t=i[8]+"")&&Se(r,t)},d(i){i&&m(e)}}}function z8(n){let e,t="{ ",r,i,s,o=" => ",l,a,u,f=" }",c,d;return i=new Lt({props:{value:n[2][n[8]]}}),a=new Lt({props:{value:n[3][n[8]]}}),{c(){e=T("span"),r=H(t),W(i.$$.fragment),s=T("span"),l=H(o),W(a.$$.fragment),u=T("span"),c=H(f),this.h()},l(h){e=A(h,"SPAN",{class:!0});var p=O(e);r=U(p,t),p.forEach(m),Y(i.$$.fragment,h),s=A(h,"SPAN",{class:!0});var g=O(s);l=U(g,o),g.forEach(m),Y(a.$$.fragment,h),u=A(h,"SPAN",{class:!0});var _=O(u);c=U(_,f),_.forEach(m),this.h()},h(){y(e,"class","operator"),y(s,"class","operator"),y(u,"class","operator")},m(h,p){$(h,e,p),w(e,r),q(i,h,p),$(h,s,p),w(s,l),q(a,h,p),$(h,u,p),w(u,c),d=!0},p(h,p){const g={};p&260&&(g.value=h[2][h[8]]),i.$set(g);const _={};p&264&&(_.value=h[3][h[8]]),a.$set(_)},i(h){d||(S(i.$$.fragment,h),S(a.$$.fragment,h),d=!0)},o(h){P(i.$$.fragment,h),P(a.$$.fragment,h),d=!1},d(h){h&&m(e),G(i,h),h&&m(s),G(a,h),h&&m(u)}}}function B8(n){let e,t=n[9]+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&512&&t!==(t=i[9]+"")&&Se(r,t)},d(i){i&&m(e)}}}function F8(n){let e,t;return e=new Lt({props:{value:n[9]==="key"?n[2][n[8]]:n[3][n[8]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&780&&(s.value=r[9]==="key"?r[2][r[8]]:r[3][r[8]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function j8(n){let e,t;return e=new _r({props:{keys:["key","value"],$$slots:{item_value:[F8,({key:r})=>({9:r}),({key:r})=>r?512:0],item_key:[B8,({key:r})=>({9:r}),({key:r})=>r?512:0],preview:[z8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2828&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function V8(n){let e,t,r,i;const s=[$8,I8],o=[];function l(a,u){return a[7]===pl?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function H8(n){let e,t;return e=new _r({props:{keys:[pl,"size"],shouldShowColon:n[6],$$slots:{item_value:[V8,({key:r})=>({7:r}),({key:r})=>r?128:0],item_key:[R8,({key:r})=>({7:r}),({key:r})=>r?128:0],preview:[D8],summary:[P8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&2207&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}const pl="[[Entries]]";function U8(n,e,t){let r,{value:i}=e;Qi();let s=[],o=[],l=[];const a=f=>o[f],u=f=>f!==pl;return n.$$set=f=>{"value"in f&&t(0,i=f.value)},n.$$.update=()=>{if(n.$$.dirty&1){let f=[],c=[],d=[],h=0;for(const p of i)f.push(h++),c.push(p[0]),d.push(p[1]);t(1,s=f),t(2,o=c),t(3,l=d)}n.$$.dirty&1&&t(4,r=Array.from(i.keys()).slice(0,5))},[i,s,o,l,r,a,u]}class W8 extends Ie{constructor(e){super(),$e(this,e,U8,H8,Le,{value:0})}}function q8(n){let e,t,r;return{c(){e=T("span"),t=H(n[0]),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);t=U(s,n[0]),s.forEach(m),this.h()},h(){y(e,"class",r=Rn(n[1])+" svelte-dqgb57")},m(i,s){$(i,e,s),w(e,t)},p(i,[s]){s&1&&Se(t,i[0]),s&2&&r!==(r=Rn(i[1])+" svelte-dqgb57")&&y(e,"class",r)},i:_e,o:_e,d(i){i&&m(e)}}}function G8(n,e,t){let{value:r,nodeType:i}=e;return n.$$set=s=>{"value"in s&&t(0,r=s.value),"nodeType"in s&&t(1,i=s.nodeType)},[r,i]}class ei extends Ie{constructor(e){super(),$e(this,e,G8,q8,Le,{value:0,nodeType:1})}}function n_(n,e,t){const r=n.slice();r[6]=e[t],r[9]=t;const i=r[9]<r[0].length-1;return r[7]=i,r}function K8(n){let e,t,r;return t=new Lt({props:{value:n[0][0]+"…"}}),{c(){e=T("span"),W(t.$$.fragment)},l(i){e=A(i,"SPAN",{});var s=O(e);Y(t.$$.fragment,s),s.forEach(m)},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s&1&&(o.value=i[0][0]+"…"),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function J8(n){let e,t,r=n[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=r_(n_(n,r,o));const s=o=>P(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ge()},l(o){for(let l=0;l<i.length;l+=1)i[l].l(o);e=ge()},m(o,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,l);$(o,e,l),t=!0},p(o,l){if(l&1){r=o[0];let a;for(a=0;a<r.length;a+=1){const u=n_(o,r,a);i[a]?(i[a].p(u,l),S(i[a],1)):(i[a]=r_(u),i[a].c(),S(i[a],1),i[a].m(e.parentNode,e))}for(le(),a=r.length;a<i.length;a+=1)s(a);ae()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)S(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)P(i[l]);t=!1},d(o){Kt(i,o),o&&m(e)}}}function r_(n){let e,t,r,i=n[7]?" +":"",s,o,l;return t=new Lt({props:{value:n[6]+(n[7]?"\\n":"")}}),{c(){e=T("span"),W(t.$$.fragment),r=T("span"),s=H(i),o=T("br"),this.h()},l(a){e=A(a,"SPAN",{class:!0});var u=O(e);Y(t.$$.fragment,u),r=A(u,"SPAN",{class:!0});var f=O(r);s=U(f,i),f.forEach(m),u.forEach(m),o=A(a,"BR",{}),this.h()},h(){y(r,"class","operator"),y(e,"class","svelte-trlcqo"),ee(e,"indent",n[9]>0)},m(a,u){$(a,e,u),q(t,e,null),w(e,r),w(r,s),$(a,o,u),l=!0},p(a,u){const f={};u&1&&(f.value=a[6]+(a[7]?"\\n":"")),t.$set(f),(!l||u&1)&&i!==(i=a[7]?" +":"")&&Se(s,i)},i(a){l||(S(t.$$.fragment,a),l=!0)},o(a){P(t.$$.fragment,a),l=!1},d(a){a&&m(e),G(t),a&&m(o)}}}function Y8(n){let e,t,r,i,s,o;const l=[J8,K8],a=[];function u(f,c){return f[1]?0:1}return t=u(n),r=a[t]=l[t](n),{c(){e=T("span"),r.c()},l(f){e=A(f,"SPAN",{});var c=O(e);r.l(c),c.forEach(m)},m(f,c){$(f,e,c),a[t].m(e,null),i=!0,s||(o=re(e,"click",n[4]),s=!0)},p(f,[c]){let d=t;t=u(f),t===d?a[t].p(f,c):(le(),P(a[d],1,1,()=>{a[d]=null}),ae(),r=a[t],r?r.p(f,c):(r=a[t]=l[t](f),r.c()),S(r,1),r.m(e,null))},i(f){i||(S(r),i=!0)},o(f){P(r),i=!1},d(f){f&&m(e),a[t].d(),s=!1,o()}}}function X8(n,e,t){let r,i,{stack:s}=e;const{expanded:o,expandable:l}=Qi();me(n,o,u=>t(1,i=u)),me(n,l,u=>t(5,r=u)),Ut(l,r=!0,r);const a=()=>Ut(o,i=!i,i);return n.$$set=u=>{"stack"in u&&t(0,s=u.stack)},[s,i,o,l,a]}class Z8 extends Ie{constructor(e){super(),$e(this,e,X8,Y8,Le,{stack:0})}}function Q8(n){let e,t,r=String(n[0].message)+"",i;return{c(){e=T("span"),t=H("Error: "),i=H(r),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);t=U(o,"Error: "),i=U(o,r),o.forEach(m),this.h()},h(){y(e,"class","label")},m(s,o){$(s,e,o),w(e,t),w(e,i)},p(s,o){o&1&&r!==(r=String(s[0].message)+"")&&Se(i,r)},d(s){s&&m(e)}}}function x8(n){let e,t,r=String(n[0].message)+"",i;return{c(){e=T("span"),t=H("Error: "),i=H(r),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);t=U(o,"Error: "),i=U(o,r),o.forEach(m),this.h()},h(){y(e,"class","label")},m(s,o){$(s,e,o),w(e,t),w(e,i)},p(s,o){o&1&&r!==(r=String(s[0].message)+"")&&Se(i,r)},d(s){s&&m(e)}}}function eF(n){let e,t=n[2]+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","property")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&4&&t!==(t=i[2]+"")&&Se(r,t)},d(i){i&&m(e)}}}function tF(n){let e,t;return e=new Lt({props:{value:n[0][n[2]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&5&&(s.value=r[0][r[2]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function nF(n){let e,t;return e=new Z8({props:{stack:n[1]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.stack=r[1]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function rF(n){let e,t,r,i;const s=[nF,tF],o=[];function l(a,u){return a[2]==="stack"?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function iF(n){let e,t;return e=new _r({props:{keys:["message","stack"],$$slots:{item_value:[rF,({key:r})=>({2:r}),({key:r})=>r?4:0],item_key:[eF,({key:r})=>({2:r}),({key:r})=>r?4:0],preview:[x8],summary:[Q8]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&15&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function sF(n,e,t){let r,{value:i}=e;return n.$$set=s=>{"value"in s&&t(0,i=s.value)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=i.stack.split(`
`))},[i,r]}class oF extends Ie{constructor(e){super(),$e(this,e,sF,iF,Le,{value:0})}}function lF(n){const e=Object.prototype.toString.call(n).slice(8,-1);return e==="Object"?typeof n[Symbol.iterator]=="function"?"Iterable":n.constructor.name:e}function aF(n){let e,t,r,i;return{c(){e=T("span"),t=H('"'),r=H(n[0]),i=H('"'),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);t=U(o,'"'),r=U(o,n[0]),i=U(o,'"'),o.forEach(m),this.h()},h(){y(e,"class","svelte-cog7gq")},m(s,o){$(s,e,o),w(e,t),w(e,r),w(e,i)},p(s,o){o&1&&Se(r,s[0])},d(s){s&&m(e)}}}function uF(n){let e,t,r=n[0].slice(0,30)+(n[0].length>30?"…":""),i,s;return{c(){e=T("span"),t=H('"'),i=H(r),s=H('"'),this.h()},l(o){e=A(o,"SPAN",{class:!0});var l=O(e);t=U(l,'"'),i=U(l,r),s=U(l,'"'),l.forEach(m),this.h()},h(){y(e,"class","svelte-cog7gq")},m(o,l){$(o,e,l),w(e,t),w(e,i),w(e,s)},p(o,l){l&1&&r!==(r=o[0].slice(0,30)+(o[0].length>30?"…":""))&&Se(i,r)},d(o){o&&m(e)}}}function fF(n){let e;function t(s,o){return s[1]==="summary"?uF:aF}let i=t(n)(n);return{c(){i.c(),e=ge()},l(s){i.l(s),e=ge()},m(s,o){i.m(s,o),$(s,e,o)},p(s,[o]){i.p(s,o)},i:_e,o:_e,d(s){i.d(s),s&&m(e)}}}function cF(n,e,t){let r,{value:i}=e;const s={"\n":"\\n","	":"\\t","\r":"\\r"},{displayMode:o}=Qi();return n.$$set=l=>{"value"in l&&t(2,i=l.value)},n.$$.update=()=>{n.$$.dirty&4&&t(0,r=i.replace(/[\n\t\r]/g,l=>s[l]))},[r,o,i]}class dF extends Ie{constructor(e){super(),$e(this,e,cF,fF,Le,{value:2})}}function hF(n){let e,t;return{c(){e=T("span"),t=H("ƒ"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"ƒ"),i.forEach(m),this.h()},h(){y(e,"class","i svelte-yhx6o7")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function i_(n){let e,t=o_(n[2])+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","fn i svelte-yhx6o7")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&4&&t!==(t=o_(i[2])+"")&&Se(r,t)},d(i){i&&m(e)}}}function s_(n){let e,t=l_(n[2])+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","i svelte-yhx6o7")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&4&&t!==(t=l_(i[2])+"")&&Se(r,t)},d(i){i&&m(e)}}}function pF(n){let e,t,r=!n[2].isArrow&&i_(n),i=!n[2].isClass&&s_(n);return{c(){r&&r.c(),e=ge(),i&&i.c(),t=ge()},l(s){r&&r.l(s),e=ge(),i&&i.l(s),t=ge()},m(s,o){r&&r.m(s,o),$(s,e,o),i&&i.m(s,o),$(s,t,o)},p(s,o){s[2].isArrow?r&&(r.d(1),r=null):r?r.p(s,o):(r=i_(s),r.c(),r.m(e.parentNode,e)),s[2].isClass?i&&(i.d(1),i=null):i?i.p(s,o):(i=s_(s),i.c(),i.m(t.parentNode,t))},d(s){r&&r.d(s),s&&m(e),i&&i.d(s),s&&m(t)}}}function mF(n){let e,t=n[7]+"",r,i;return{c(){e=T("span"),r=H(t),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){y(e,"class",i=n[7]===ml||n[7]===Ga?"internal":"property")},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&128&&t!==(t=s[7]+"")&&Se(r,t),o&128&&i!==(i=s[7]===ml||s[7]===Ga?"internal":"property")&&y(e,"class",i)},d(s){s&&m(e)}}}function gF(n){let e,t;return e=new Lt({props:{value:n[3](n[7])}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&128&&(s.value=r[3](r[7])),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function _F(n){let e,t;return e=new tE({props:{value:n[3](n[7])}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&128&&(s.value=r[3](r[7])),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function vF(n){let e,t;return{c(){e=T("span"),t=H(n[0]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[0]),i.forEach(m),this.h()},h(){y(e,"class","i svelte-yhx6o7")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&1&&Se(t,r[0])},i:_e,o:_e,d(r){r&&m(e)}}}function bF(n){let e,t,r,i;const s=[vF,_F,gF],o=[];function l(a,u){return a[7]===ml?0:a[7]==="prototype"?1:2}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function yF(n){let e,t;return e=new _r({props:{keys:n[1],$$slots:{item_value:[bF,({key:r})=>({7:r}),({key:r})=>r?128:0],item_key:[mF,({key:r})=>({7:r}),({key:r})=>r?128:0],preview:[pF],summary:[hF]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.keys=r[1]),i&389&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}const ml="[[Function]]",Ga="[[Prototype]]";function o_({isGenerator:n,isAsync:e,isClass:t}){return t?`class ${t}`:(e?"async ":"")+"ƒ"+(n?"*":"")}function l_({isAsync:n,isArrow:e,fnName:t,args:r}){return(e&&n?"async":"")+" "+(t??"")+r+(e?" => …":"")}function kF(n){try{return n.toString()}catch{switch(n.constructor.name){case"AsyncFunction":return"async function () {}";case"AsyncGeneratorFunction":return"async function * () {}";case"GeneratorFunction:":return"function * () {}";default:return"function () {}"}}}function wF(n,e,t){let r,i,s,{value:o}=e;function l(f){const c=f.match(/^(?:(async)\s+)?(?:function)?(\*)?\s*([^(]+)?(\([^)]*\))\s*(=>)?/),d=c==null?void 0:c[1],h=c==null?void 0:c[2],p=c==null?void 0:c[3],g=c==null?void 0:c[4],_=c==null?void 0:c[5],b=f.match(/^class\s+([^\s]+)/),v=b==null?void 0:b[1];return{args:g,isAsync:d,isGenerator:h,fnName:p,isArrow:_,isClass:v}}function a(f){return f===Ga?o.__proto__:o[f]}function u(f){return f===ml?!0:a(f)}return n.$$set=f=>{"value"in f&&t(4,o=f.value)},n.$$.update=()=>{n.$$.dirty&16&&t(0,r=kF(o)),n.$$.dirty&1&&t(2,i=l(r))},t(1,s=["length","name","prototype",ml,Ga].filter(u)),[r,s,i,a,o]}class EF extends Ie{constructor(e){super(),$e(this,e,wF,yF,Le,{value:4})}}function SF(n){let e,t=n[3]?"writable(":"readable(",r,i,s=")",o,l;return i=new Lt({props:{value:n[2]}}),{c(){e=T("span"),r=H(t),W(i.$$.fragment),o=H(s),this.h()},l(a){e=A(a,"SPAN",{class:!0});var u=O(e);r=U(u,t),Y(i.$$.fragment,u),o=U(u,s),u.forEach(m),this.h()},h(){y(e,"class","label")},m(a,u){$(a,e,u),w(e,r),q(i,e,null),w(e,o),l=!0},p(a,u){(!l||u&8)&&t!==(t=a[3]?"writable(":"readable(")&&Se(r,t);const f={};u&4&&(f.value=a[2]),i.$set(f)},i(a){l||(S(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&m(e),G(i)}}}function TF(n){let e,t=n[9]+"",r,i,s=": ",o,l,a;return l=new Lt({props:{value:n[0][n[9]]}}),{c(){e=T("span"),r=H(t),i=T("span"),o=H(s),W(l.$$.fragment),this.h()},l(u){e=A(u,"SPAN",{class:!0});var f=O(e);r=U(f,t),f.forEach(m),i=A(u,"SPAN",{class:!0});var c=O(i);o=U(c,s),c.forEach(m),Y(l.$$.fragment,u),this.h()},h(){y(e,"class","property"),y(i,"class","operator")},m(u,f){$(u,e,f),w(e,r),$(u,i,f),w(i,o),q(l,u,f),a=!0},p(u,f){(!a||f&512)&&t!==(t=u[9]+"")&&Se(r,t);const c={};f&513&&(c.value=u[0][u[9]]),l.$set(c)},i(u){a||(S(l.$$.fragment,u),a=!0)},o(u){P(l.$$.fragment,u),a=!1},d(u){u&&m(e),u&&m(i),G(l,u)}}}function AF(n){let e,t;return e=new Mo({props:{list:n[4],hasMore:n[4].length<n[1].length,prefix:"{",postfix:"}",$$slots:{item:[TF,({item:r})=>({9:r}),({item:r})=>r?512:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.list=r[4]),i&18&&(s.hasMore=r[4].length<r[1].length),i&1537&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function OF(n){let e,t=n[8]+"",r,i;return{c(){e=T("span"),r=H(t),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){y(e,"class",i=n[8]===Ka?"internal":"property")},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&256&&t!==(t=s[8]+"")&&Se(r,t),o&256&&i!==(i=s[8]===Ka?"internal":"property")&&y(e,"class",i)},d(s){s&&m(e)}}}function CF(n){let e,t;return e=new Lt({props:{value:n[6](n[8])}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&256&&(s.value=r[6](r[8])),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function MF(n){let e,t;return e=new _r({props:{keys:n[5],$$slots:{item_value:[CF,({key:r})=>({8:r}),({key:r})=>r?256:0],item_key:[OF,({key:r})=>({8:r}),({key:r})=>r?256:0],preview:[AF],summary:[SF]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&32&&(s.keys=r[5]),i&1311&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}const Ka="$value";function PF(n,e,t){let r,i,s,o,l,a,u=_e,f=()=>(u(),u=ay(c,h=>t(7,a=h)),c);n.$$.on_destroy.push(()=>u());let{value:c}=e;f();function d(h){return h===Ka?o:c[h]}return n.$$set=h=>{"value"in h&&f(t(0,c=h.value))},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=Object.getOwnPropertyNames(c)),n.$$.dirty&2&&t(5,i=[Ka,...r]),n.$$.dirty&2&&t(4,s=r.slice(0,5)),n.$$.dirty&128&&t(2,o=a),n.$$.dirty&1&&t(3,l=typeof c.set=="function")},[c,r,o,l,s,i,d,a]}class NF extends Ie{constructor(e){super(),$e(this,e,PF,MF,Le,{value:0})}}function DF(n){let e,t,r,i=n[0].length+"",s,o;return{c(){e=T("span"),t=H(n[1]),r=H("("),s=H(i),o=H(")"),this.h()},l(l){e=A(l,"SPAN",{class:!0});var a=O(e);t=U(a,n[1]),r=U(a,"("),s=U(a,i),o=U(a,")"),a.forEach(m),this.h()},h(){y(e,"class","label")},m(l,a){$(l,e,a),w(e,t),w(e,r),w(e,s),w(e,o)},p(l,a){a&2&&Se(t,l[1]),a&1&&i!==(i=l[0].length+"")&&Se(s,i)},d(l){l&&m(e)}}}function RF(n){let e,t;return e=new Lt({props:{value:n[7]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&128&&(s.value=r[7]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function IF(n){let e,t;return e=new Mo({props:{list:n[2],hasMore:n[2].length<n[0].length,label:n[1]+"("+n[0].length+") ",prefix:"[",postfix:"]",$$slots:{item:[RF,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&4&&(s.list=r[2]),i&5&&(s.hasMore=r[2].length<r[0].length),i&3&&(s.label=r[1]+"("+r[0].length+") "),i&384&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function $F(n){let e,t=String(n[6])+"",r,i;return{c(){e=T("span"),r=H(t),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){y(e,"class",i=n[4].includes(n[6])?"internal":"property")},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&64&&t!==(t=String(s[6])+"")&&Se(r,t),o&64&&i!==(i=s[4].includes(s[6])?"internal":"property")&&y(e,"class",i)},d(s){s&&m(e)}}}function LF(n){let e,t;return e=new Lt({props:{value:n[5](n[6])}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&64&&(s.value=r[5](r[6])),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function zF(n){let e,t;return e=new _r({props:{keys:n[3],$$slots:{item_value:[LF,({key:r})=>({6:r}),({key:r})=>r?64:0],item_key:[$F,({key:r})=>({6:r}),({key:r})=>r?64:0],preview:[IF],summary:[DF]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&8&&(s.keys=r[3]),i&327&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}const a_="Symbol(Symbol.toStringTag)";function BF(n,e,t){let r,i,{value:s}=e,{nodeType:o}=e;const l=["buffer","byteLength","byteOffset","length",a_];function a(u){return u===a_?s[Symbol.toStringTag]:s[u]}return n.$$set=u=>{"value"in u&&t(0,s=u.value),"nodeType"in u&&t(1,o=u.nodeType)},n.$$.update=()=>{n.$$.dirty&1&&t(3,r=[...Object.getOwnPropertyNames(s),...l]),n.$$.dirty&1&&t(2,i=s.slice(0,5))},[s,o,i,r,l,a]}class FF extends Ie{constructor(e){super(),$e(this,e,BF,zF,Le,{value:0,nodeType:1})}}function jF(n){let e,t;return{c(){e=T("span"),t=H(n[1]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[1]),i.forEach(m),this.h()},h(){y(e,"class","regex svelte-x5l0nh")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&2&&Se(t,r[1])},d(r){r&&m(e)}}}function VF(n){let e,t;return{c(){e=T("span"),t=H(n[1]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[1]),i.forEach(m),this.h()},h(){y(e,"class","regex svelte-x5l0nh")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&2&&Se(t,r[1])},d(r){r&&m(e)}}}function HF(n){let e,t=String(n[3])+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","internal")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&8&&t!==(t=String(i[3])+"")&&Se(r,t)},d(i){i&&m(e)}}}function UF(n){let e,t;return e=new Lt({props:{value:n[0][n[3]]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&9&&(s.value=r[0][r[3]]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function WF(n){let e,t;return e=new _r({props:{keys:n[2],$$slots:{item_value:[UF,({key:r})=>({3:r}),({key:r})=>r?8:0],item_key:[HF,({key:r})=>({3:r}),({key:r})=>r?8:0],preview:[VF],summary:[jF]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,[i]){const s={};i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function qF(n,e,t){let r,{value:i}=e;const s=["lastIndex","dotAll","flags","global","hasIndices","ignoreCase","multiline","source","sticky","unicode"];return n.$$set=o=>{"value"in o&&t(0,i=o.value)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=i.toString())},[i,r,s]}class GF extends Ie{constructor(e){super(),$e(this,e,qF,WF,Le,{value:0})}}function KF(n){let e,t,r;const i=[{value:n[0]},n[1]];var s=n[2];function o(l){let a={};for(let u=0;u<i.length;u+=1)a=Rt(a,i[u]);return{props:a}}return s&&(e=kt(s,o())),{c(){e&&W(e.$$.fragment),t=ge()},l(l){e&&Y(e.$$.fragment,l),t=ge()},m(l,a){e&&q(e,l,a),$(l,t,a),r=!0},p(l,[a]){const u=a&3?jn(i,[a&1&&{value:l[0]},a&2&&qi(l[1])]):{};if(a&4&&s!==(s=l[2])){if(e){le();const f=e;P(f.$$.fragment,1,0,()=>{G(f,1)}),ae()}s?(e=kt(s,o()),W(e.$$.fragment),S(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(l){r||(e&&S(e.$$.fragment,l),r=!0)},o(l){e&&P(e.$$.fragment,l),r=!1},d(l){l&&m(t),e&&G(e,l)}}}function JF(n,e,t){let r,i,s,{value:o}=e;const l=je();me(n,l,u=>t(4,s=u));function a(u,f){switch(u){case"Object":return typeof f.subscribe=="function"?[NF]:[tE];case"Error":return[oF];case"Array":return[_8];case"Map":return[W8];case"Iterable":case"Set":return[M8,{nodeType:u}];case"Number":return[ei,{nodeType:u}];case"String":return[dF];case"Boolean":return[ei,{nodeType:u,value:f?"true":"false"}];case"Date":return[ei,{nodeType:u,value:f.toISOString()}];case"Null":return[ei,{nodeType:u,value:"null"}];case"Undefined":return[ei,{nodeType:u,value:"undefined"}];case"Function":case"AsyncFunction":case"AsyncGeneratorFunction":case"GeneratorFunction":return[EF];case"Symbol":return[ei,{nodeType:u,value:f.toString()}];case"BigInt":return[ei,{nodeType:u,value:String(f)+"n"}];case"ArrayBuffer":return[ei,{nodeType:u,value:`ArrayBuffer(${f.byteLength})`}];case"BigInt64Array":case"BigUint64Array":case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint8ClampedArray":case"Uint16Array":case"Uint32Array":return[FF,{nodeType:u}];case"RegExp":return[GF];default:return[ei,{nodeType:u,value:`<${u}>`}]}}return n.$$set=u=>{"value"in u&&t(0,o=u.value)},n.$$.update=()=>{n.$$.dirty&1&&Ut(l,s=lF(o),s),n.$$.dirty&17&&t(2,[r,i]=a(s,o),r,(t(1,i),t(4,s),t(0,o)))},[o,i,r,l,s]}class Lt extends Ie{constructor(e){super(),$e(this,e,JF,KF,Le,{value:0})}}function YF({defaultExpandedPaths:n,defaultExpandedLevel:e}){const t=n.map(i=>i.split("."));function r(i){e:for(const s of t){if(i.length>s.length)continue;const o=Math.min(i.length,s.length);for(let l=0;l<o;l++)if(s[l]!=="*"&&s[l]!==String(i[l]))continue e;return!0}return!1}return function({keyPath:i,level:s}){return s<=e||r(i)}}function XF(n){let e,t;return e=new Lt({props:{value:n[0]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.value=r[0]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function ZF(n){let e,t,r;return t=new eE({props:{key:"$",expanded:n[1],$$slots:{default:[XF]},$$scope:{ctx:n}}}),{c(){e=T("ul"),W(t.$$.fragment),this.h()},l(i){e=A(i,"UL",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","svelte-wpbfzz")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,[s]){const o={};s&33&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function QF(n,e,t){let r,{value:i}=e,{defaultExpandedPaths:s=[]}=e,{defaultExpandedLevel:o=0}=e;const l=je(!0);return Qi({expanded:l,isParentExpanded:dT(!0),root:!0,shouldExpandNode:a=>r(a),level:0,keyPath:[]}),n.$$set=a=>{"value"in a&&t(0,i=a.value),"defaultExpandedPaths"in a&&t(2,s=a.defaultExpandedPaths),"defaultExpandedLevel"in a&&t(3,o=a.defaultExpandedLevel)},n.$$.update=()=>{n.$$.dirty&12&&(r=YF({defaultExpandedPaths:s,defaultExpandedLevel:o}))},[i,l,s,o]}class xF extends Ie{constructor(e){super(),$e(this,e,QF,ZF,Le,{value:0,defaultExpandedPaths:2,defaultExpandedLevel:3})}}function u_(n){let e,t,r,i,s,o;return{c(){e=T("pre"),t=H("      "),r=new fh(!1),i=H(`
    `),this.h()},l(l){e=A(l,"PRE",{class:!0});var a=O(e);t=U(a,"      "),r=ch(a,!1),i=U(a,`
    `),a.forEach(m),this.h()},h(){r.a=i,y(e,"class","error-container svelte-qfzcza")},m(l,a){$(l,e,a),w(e,t),r.m(n[6],e),w(e,i),o=!0},p(l,a){(!o||a[0]&64)&&r.p(l[6])},i(l){o||(Yt(()=>{o&&(s||(s=$i(e,Bi,{duration:100},!0)),s.run(1))}),o=!0)},o(l){s||(s=$i(e,Bi,{duration:100},!1)),s.run(0),o=!1},d(l){l&&m(e),l&&s&&s.end()}}}function f_(n){let e,t,r,i,s,o;const l=[tj,ej],a=[];function u(f,c){return typeof f[11]=="object"?0:1}return r=u(n),i=a[r]=l[r](n),{c(){e=T("div"),t=T("div"),i.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var c=O(e);t=A(c,"DIV",{class:!0});var d=O(t);i.l(d),d.forEach(m),c.forEach(m),this.h()},h(){y(t,"class","log svelte-qfzcza"),y(e,"class","logs svelte-qfzcza")},m(f,c){$(f,e,c),w(e,t),a[r].m(t,null),o=!0},p(f,c){let d=r;r=u(f),r===d?a[r].p(f,c):(le(),P(a[d],1,1,()=>{a[d]=null}),ae(),i=a[r],i?i.p(f,c):(i=a[r]=l[r](f),i.c()),S(i,1),i.m(t,null))},i(f){o||(S(i),Yt(()=>{o&&(s||(s=$i(e,Bi,{},!0)),s.run(1))}),o=!0)},o(f){P(i),s||(s=$i(e,Bi,{},!1)),s.run(0),o=!1},d(f){f&&m(e),a[r].d(),f&&s&&s.end()}}}function ej(n){let e;return{c(){e=T("pre"),this.h()},l(t){e=A(t,"PRE",{class:!0});var r=O(e);r.forEach(m),this.h()},h(){y(e,"class","svelte-qfzcza")},m(t,r){$(t,e,r),e.innerHTML=n[11]},p(t,r){r[0]&2048&&(e.innerHTML=t[11])},i:_e,o:_e,d(t){t&&m(e)}}}function tj(n){let e,t;return e=new xF({props:{value:n[11]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&2048&&(s.value=r[11]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function nj(n){let e,t,r;return{c(){e=T("iframe"),this.h()},l(i){e=A(i,"IFRAME",{title:!0,srcdoc:!0,class:!0}),O(e).forEach(m),this.h()},h(){y(e,"title","Preview"),y(e,"srcdoc",n[5]),y(e,"class","svelte-qfzcza"),Re(e,"transform",n[0]==="large"?n[13]:""),Re(e,"height",n[0]==="large"?n[14]:"100%"),Re(e,"width",n[0]==="large"?`${n[10]}px`:"100%")},m(i,s){$(i,e,s),n[28](e),t||(r=re(e,"load",n[27]),t=!0)},p(i,s){s[0]&32&&y(e,"srcdoc",i[5]),s[0]&8193&&Re(e,"transform",i[0]==="large"?i[13]:""),s[0]&16385&&Re(e,"height",i[0]==="large"?i[14]:"100%"),s[0]&1025&&Re(e,"width",i[0]==="large"?`${i[10]}px`:"100%")},d(i){i&&m(e),n[28](null),t=!1,r()}}}function rj(n){let e,t,r,i;return{c(){e=T("iframe"),this.h()},l(s){e=A(s,"IFRAME",{title:!0,srcdoc:!0,class:!0}),O(e).forEach(m),this.h()},h(){y(e,"title","Preview HTML"),y(e,"srcdoc",t=Td(n[17])),y(e,"class","svelte-qfzcza"),Re(e,"transform",n[0]==="large"?n[13]:""),Re(e,"height",n[0]==="large"?n[14]:"100%"),Re(e,"width",n[0]==="large"?`${n[10]}px`:"100%")},m(s,o){$(s,e,o),n[26](e),r||(i=re(e,"load",n[22]),r=!0)},p(s,o){o[0]&131072&&t!==(t=Td(s[17]))&&y(e,"srcdoc",t),o[0]&8193&&Re(e,"transform",s[0]==="large"?s[13]:""),o[0]&16385&&Re(e,"height",s[0]==="large"?s[14]:"100%"),o[0]&1025&&Re(e,"width",s[0]==="large"?`${s[10]}px`:"100%")},d(s){s&&m(e),n[26](null),r=!1,i()}}}function c_(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E;const k=[sj,ij],N=[];function C(Z,K){return Z[0]==="large"?0:1}r=C(n),i=N[r]=k[r](n);function M(Z,K){return Z[0]==="large"?lj:oj}let D=M(n),I=D(n);const z=[uj,aj],R=[];function F(Z,K){return Z[1]==="vertical"?0:Z[1]==="horizontal"?1:-1}return~(d=F(n))&&(h=R[d]=z[d](n)),_=new Ze({props:{icon:"bx:refresh"}}),{c(){e=T("div"),t=T("div"),i.c(),s=j(),o=T("button"),l=T("i"),u=j(),I.c(),f=j(),c=T("button"),h&&h.c(),p=j(),g=T("button"),W(_.$$.fragment),this.h()},l(Z){e=A(Z,"DIV",{class:!0});var K=O(e);t=A(K,"DIV",{class:!0});var J=O(t);i.l(J),J.forEach(m),s=V(K),o=A(K,"BUTTON",{class:!0});var X=O(o);l=A(X,"I",{class:!0}),O(l).forEach(m),u=V(X),I.l(X),X.forEach(m),f=V(K),c=A(K,"BUTTON",{class:!0});var ie=O(c);h&&h.l(ie),ie.forEach(m),p=V(K),g=A(K,"BUTTON",{title:!0,class:!0});var Ee=O(g);Y(_.$$.fragment,Ee),Ee.forEach(m),K.forEach(m),this.h()},h(){y(t,"class","preview-width svelte-qfzcza"),y(l,"class",a="fas "+(n[0]==="small"?"fa-compress-arrows-alt":"fa-expand-arrows-alt")),y(o,"class","switch-view svelte-qfzcza"),y(c,"class","preview-orientation svelte-qfzcza"),y(g,"title","Toggle auto-refresh (refresh with Command R)"),y(g,"class","auto-refresh svelte-qfzcza"),ee(g,"toggled",n[18]),y(e,"class","footer-buttons svelte-qfzcza")},m(Z,K){$(Z,e,K),w(e,t),N[r].m(t,null),w(e,s),w(e,o),w(o,l),w(o,u),I.m(o,null),w(e,f),w(e,c),~d&&R[d].m(c,null),w(e,p),w(e,g),q(_,g,null),b=!0,v||(E=[re(o,"click",n[21]),re(c,"click",n[23]),re(g,"click",n[32])],v=!0)},p(Z,K){let J=r;r=C(Z),r===J?N[r].p(Z,K):(le(),P(N[J],1,1,()=>{N[J]=null}),ae(),i=N[r],i?i.p(Z,K):(i=N[r]=k[r](Z),i.c()),S(i,1),i.m(t,null)),(!b||K[0]&1&&a!==(a="fas "+(Z[0]==="small"?"fa-compress-arrows-alt":"fa-expand-arrows-alt")))&&y(l,"class",a),D!==(D=M(Z))&&(I.d(1),I=D(Z),I&&(I.c(),I.m(o,null)));let X=d;d=F(Z),d!==X&&(h&&(le(),P(R[X],1,1,()=>{R[X]=null}),ae()),~d?(h=R[d],h||(h=R[d]=z[d](Z),h.c()),S(h,1),h.m(c,null)):h=null),(!b||K[0]&262144)&&ee(g,"toggled",Z[18])},i(Z){b||(S(i),S(h),S(_.$$.fragment,Z),b=!0)},o(Z){P(i),P(h),P(_.$$.fragment,Z),b=!1},d(Z){Z&&m(e),N[r].d(),I.d(),~d&&R[d].d(),G(_),v=!1,Tt(E)}}}function ij(n){let e,t,r,i,s,o;return t=new Ze({props:{icon:n[16],height:"1rem"}}),{c(){e=T("span"),W(t.$$.fragment),r=j(),i=T("span"),s=H(n[9]),this.h()},l(l){e=A(l,"SPAN",{class:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),r=V(l),i=A(l,"SPAN",{class:!0});var u=O(i);s=U(u,n[9]),u.forEach(m),this.h()},h(){y(e,"class","svelte-qfzcza"),y(i,"class","svelte-qfzcza")},m(l,a){$(l,e,a),q(t,e,null),$(l,r,a),$(l,i,a),w(i,s),o=!0},p(l,a){const u={};a[0]&65536&&(u.icon=l[16]),t.$set(u),(!o||a[0]&512)&&Se(s,l[9])},i(l){o||(S(t.$$.fragment,l),o=!0)},o(l){P(t.$$.fragment,l),o=!1},d(l){l&&m(e),G(t),l&&m(r),l&&m(i)}}}function sj(n){let e,t,r,i,s,o,l,a,u,f;return t=new Ze({props:{icon:n[15],height:"1rem"}}),{c(){e=T("button"),W(t.$$.fragment),r=j(),i=T("button"),s=T("div"),o=H(n[10]),this.h()},l(c){e=A(c,"BUTTON",{class:!0});var d=O(e);Y(t.$$.fragment,d),d.forEach(m),r=V(c),i=A(c,"BUTTON",{class:!0});var h=O(i);s=A(h,"DIV",{class:!0});var p=O(s);o=U(p,n[10]),p.forEach(m),h.forEach(m),this.h()},h(){y(e,"class","svelte-qfzcza"),y(s,"class","static-width svelte-qfzcza"),y(i,"class","svelte-qfzcza")},m(c,d){$(c,e,d),q(t,e,null),$(c,r,d),$(c,i,d),w(i,s),w(s,o),a=!0,u||(f=[re(e,"click",n[20]),Gu(l=mp.call(null,s,{on_change:n[31]}))],u=!0)},p(c,d){const h={};d[0]&32768&&(h.icon=c[15]),t.$set(h),(!a||d[0]&1024)&&Se(o,c[10]),l&&vo(l.update)&&d[0]&1024&&l.update.call(null,{on_change:c[31]})},i(c){a||(S(t.$$.fragment,c),a=!0)},o(c){P(t.$$.fragment,c),a=!1},d(c){c&&m(e),G(t),c&&m(r),c&&m(i),u=!1,Tt(f)}}}function oj(n){let e,t;return{c(){e=T("span"),t=H("dynamic width"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"dynamic width"),i.forEach(m),this.h()},h(){y(e,"class","svelte-qfzcza")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function lj(n){let e,t;return{c(){e=T("span"),t=H("static width"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"static width"),i.forEach(m),this.h()},h(){y(e,"class","svelte-qfzcza")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function aj(n){let e,t;return e=new Ze({props:{icon:"charm:layout-columns"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function uj(n){let e,t;return e=new Ze({props:{icon:"charm:layout-rows"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function fj(n){let e,t,r,i,s,o,l,a,u,f,c=n[6]&&u_(n),d=n[11]&&f_(n);function h(b,v){return b[4]?rj:nj}let p=h(n),g=p(n),_=!n[3]&&c_(n);return{c(){e=T("div"),c&&c.c(),t=j(),d&&d.c(),r=j(),i=T("div"),g.c(),l=j(),_&&_.c(),this.h()},l(b){e=A(b,"DIV",{class:!0});var v=O(e);c&&c.l(v),t=V(v),d&&d.l(v),r=V(v),i=A(v,"DIV",{class:!0});var E=O(i);g.l(E),E.forEach(m),l=V(v),_&&_.l(v),v.forEach(m),this.h()},h(){y(i,"class","preview-container svelte-qfzcza"),Yt(()=>n[30].call(i)),ee(i,"loading",n[2]),y(e,"class","code-preview svelte-qfzcza")},m(b,v){$(b,e,v),c&&c.m(e,null),w(e,t),d&&d.m(e,null),w(e,r),w(e,i),g.m(i,null),n[29](i),s=fy(i,n[30].bind(i)),w(e,l),_&&_.m(e,null),a=!0,u||(f=re(window,"resize",n[19]),u=!0)},p(b,v){b[6]?c?(c.p(b,v),v[0]&64&&S(c,1)):(c=u_(b),c.c(),S(c,1),c.m(e,t)):c&&(le(),P(c,1,1,()=>{c=null}),ae()),b[11]?d?(d.p(b,v),v[0]&2048&&S(d,1)):(d=f_(b),d.c(),S(d,1),d.m(e,r)):d&&(le(),P(d,1,1,()=>{d=null}),ae()),p===(p=h(b))&&g?g.p(b,v):(g.d(1),g=p(b),g&&(g.c(),g.m(i,null))),(!a||v[0]&4)&&ee(i,"loading",b[2]),b[3]?_&&(le(),P(_,1,1,()=>{_=null}),ae()):_?(_.p(b,v),v[0]&8&&S(_,1)):(_=c_(b),_.c(),S(_,1),_.m(e,null))},i(b){a||(S(c),S(d),o||Yt(()=>{o=qr(i,Gr,{}),o.start()}),S(_),a=!0)},o(b){P(c),P(d),P(_),a=!1},d(b){b&&m(e),c&&c.d(),d&&d.d(),g.d(),n[29](null),s(),_&&_.d(),u=!1,f()}}}const so=je(!0);function cj(n,e,t){let r,i,s,o,l,a,u=_e;me(n,gr,te=>t(17,o=te)),me(n,Sg,te=>t(34,l=te)),me(n,so,te=>t(18,a=te)),n.$$.on_destroy.push(()=>u());let{view:f="small"}=e,{orientation:c="horizontal"}=e,{loading:d=!1}=e,{hideControls:h=!1}=e,{componentApp:p=null}=e,{preview:g=null}=e,{error:_=null}=e,{data:b={}}=e,v;qu(()=>{v=new BroadcastChannel("component_preview"),v.onmessage=({data:te})=>{const{event:Ae,payload:it}=te;Ae==="BEGIN"?t(11,E=null):Ae==="SET_CONSOLE_LOGS"?t(11,E=te.payload.logs):Ae==="SET_ELEMENT_PATH"&&it.loc&&Ut(Sg,l=it.loc,l)}});let E,k,N,C=!1,M,D;async function I(){if(f&&N&&k){await Li();const{clientWidth:te}=N,{clientWidth:Ae}=k,it=te/Ae;t(13,M=`scale(${it})`),t(14,D=100/it+"%")}}function z(){Ee===ie.phone?R(ie.tablet):Ee===ie.tablet?R(ie.laptop):Ee===ie.laptop?R(ie.desktop):R(ie.phone),I()}function R(te){t(10,Ee=te)}async function F(){f==="small"?(t(0,f="large"),I()):t(0,f="small")}function Z({iframeLoaded:te,componentApp:Ae}){te&&v.postMessage({event:"SET_APP",payload:{componentApp:Ae,componentData:r}})}function K(te){var it;const Ae=(it=k==null?void 0:k.contentDocument)==null?void 0:it.querySelector("div.component");(Ae==null?void 0:Ae.innerHTML)===""?Z({iframeLoaded:C,componentApp:p}):C&&v.postMessage({event:"SET_APP_DATA",payload:{componentData:te}})}function J(){if(!C){t(8,C=!0);return}t(8,C=!1),t(7,k.srcdoc=Td(o),k)}let X;const ie={phone:300,tablet:600,laptop:1200,desktop:1600};let Ee=ie.laptop;function Q(te){return te<ie.tablet?"bi:phone":te<ie.laptop?"ant-design:tablet-outlined":te<ie.desktop?"bi:laptop":"akar-icons:desktop-device"}function Me(){c==="vertical"?t(1,c="horizontal"):c==="horizontal"&&t(1,c="vertical")}function ce(te){se[te?"unshift":"push"](()=>{k=te,t(7,k)})}const de=()=>t(8,C=!0);function Te(te){se[te?"unshift":"push"](()=>{k=te,t(7,k)})}function Oe(te){se[te?"unshift":"push"](()=>{N=te,t(12,N)})}function B(){X=this.clientWidth,t(9,X)}const we=te=>{t(10,Ee=Number(te.target.textContent)),I()},x=()=>Ut(so,a=!a,a);return n.$$set=te=>{"view"in te&&t(0,f=te.view),"orientation"in te&&t(1,c=te.orientation),"loading"in te&&t(2,d=te.loading),"hideControls"in te&&t(3,h=te.hideControls),"componentApp"in te&&t(4,p=te.componentApp),"preview"in te&&t(5,g=te.preview),"error"in te&&t(6,_=te.error),"data"in te&&t(24,b=te.data)},n.$$.update=()=>{n.$$.dirty[0]&128&&k&&k.contentWindow.document.querySelectorAll("a").forEach(te=>{te.target="_blank"}),n.$$.dirty[0]&16777216&&t(25,r=b),n.$$.dirty[0]&272&&p&&Z({iframeLoaded:C,componentApp:p}),n.$$.dirty[0]&33554432&&K(r),n.$$.dirty[0]&512&&I(),n.$$.dirty[0]&512&&t(16,i=Q(X)),n.$$.dirty[0]&1024&&t(15,s=Q(Ee))},[f,c,d,h,p,g,_,k,C,X,Ee,E,N,M,D,s,i,o,a,I,z,F,J,Me,b,r,ce,de,Te,Oe,B,we,x]}class Ef extends Ie{constructor(e){super(),$e(this,e,cj,fj,Le,{view:0,orientation:1,loading:2,hideControls:3,componentApp:4,preview:5,error:6,data:24},null,[-1,-1])}}var yp={exports:{}},nE=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},dj=nE,xi=Object.prototype.toString;function kp(n){return Array.isArray(n)}function Ad(n){return typeof n>"u"}function hj(n){return n!==null&&!Ad(n)&&n.constructor!==null&&!Ad(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function rE(n){return xi.call(n)==="[object ArrayBuffer]"}function pj(n){return xi.call(n)==="[object FormData]"}function mj(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&rE(n.buffer),e}function gj(n){return typeof n=="string"}function _j(n){return typeof n=="number"}function iE(n){return n!==null&&typeof n=="object"}function Sa(n){if(xi.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function vj(n){return xi.call(n)==="[object Date]"}function bj(n){return xi.call(n)==="[object File]"}function yj(n){return xi.call(n)==="[object Blob]"}function sE(n){return xi.call(n)==="[object Function]"}function kj(n){return iE(n)&&sE(n.pipe)}function wj(n){return xi.call(n)==="[object URLSearchParams]"}function Ej(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Sj(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function wp(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),kp(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function Od(){var n={};function e(i,s){Sa(n[s])&&Sa(i)?n[s]=Od(n[s],i):Sa(i)?n[s]=Od({},i):kp(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)wp(arguments[t],e);return n}function Tj(n,e,t){return wp(e,function(i,s){t&&typeof i=="function"?n[s]=dj(i,t):n[s]=i}),n}function Aj(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var zn={isArray:kp,isArrayBuffer:rE,isBuffer:hj,isFormData:pj,isArrayBufferView:mj,isString:gj,isNumber:_j,isObject:iE,isPlainObject:Sa,isUndefined:Ad,isDate:vj,isFile:bj,isBlob:yj,isFunction:sE,isStream:kj,isURLSearchParams:wj,isStandardBrowserEnv:Sj,forEach:wp,merge:Od,extend:Tj,trim:Ej,stripBOM:Aj},js=zn;function d_(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oE=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(js.isURLSearchParams(t))i=t.toString();else{var s=[];js.forEach(t,function(a,u){a===null||typeof a>"u"||(js.isArray(a)?u=u+"[]":a=[a],js.forEach(a,function(c){js.isDate(c)?c=c.toISOString():js.isObject(c)&&(c=JSON.stringify(c)),s.push(d_(u)+"="+d_(c))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Oj=zn;function Sf(){this.handlers=[]}Sf.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Sf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Sf.prototype.forEach=function(e){Oj.forEach(this.handlers,function(r){r!==null&&e(r)})};var Cj=Sf,Mj=zn,Pj=function(e,t){Mj.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},lE=function(e,t,r,i,s){return e.config=t,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},aE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ac,h_;function uE(){if(h_)return ac;h_=1;var n=lE;return ac=function(t,r,i,s,o){var l=new Error(t);return n(l,r,i,s,o)},ac}var uc,p_;function Nj(){if(p_)return uc;p_=1;var n=uE();return uc=function(t,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(n("Request failed with status code "+i.status,i.config,null,i.request,i))},uc}var fc,m_;function Dj(){if(m_)return fc;m_=1;var n=zn;return fc=n.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,l,a){var u=[];u.push(r+"="+encodeURIComponent(i)),n.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(l)&&u.push("domain="+l),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),fc}var cc,g_;function Rj(){return g_||(g_=1,cc=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),cc}var dc,__;function Ij(){return __||(__=1,dc=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),dc}var hc,v_;function $j(){if(v_)return hc;v_=1;var n=Rj(),e=Ij();return hc=function(r,i){return r&&!n(i)?e(r,i):i},hc}var pc,b_;function Lj(){if(b_)return pc;b_=1;var n=zn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return pc=function(r){var i={},s,o,l;return r&&n.forEach(r.split(`
`),function(u){if(l=u.indexOf(":"),s=n.trim(u.substr(0,l)).toLowerCase(),o=n.trim(u.substr(l+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},pc}var mc,y_;function zj(){if(y_)return mc;y_=1;var n=zn;return mc=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var l=o;return t&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(l){var a=n.isString(l)?s(l):l;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),mc}var gc,k_;function Tf(){if(k_)return gc;k_=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,gc=n,gc}var _c,w_;function E_(){if(w_)return _c;w_=1;var n=zn,e=Nj(),t=Dj(),r=oE,i=$j(),s=Lj(),o=zj(),l=uE(),a=aE,u=Tf();return _c=function(c){return new Promise(function(h,p){var g=c.data,_=c.headers,b=c.responseType,v;function E(){c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}n.isFormData(g)&&delete _["Content-Type"];var k=new XMLHttpRequest;if(c.auth){var N=c.auth.username||"",C=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";_.Authorization="Basic "+btoa(N+":"+C)}var M=i(c.baseURL,c.url);k.open(c.method.toUpperCase(),r(M,c.params,c.paramsSerializer),!0),k.timeout=c.timeout;function D(){if(k){var z="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,R=!b||b==="text"||b==="json"?k.responseText:k.response,F={data:R,status:k.status,statusText:k.statusText,headers:z,config:c,request:k};e(function(K){h(K),E()},function(K){p(K),E()},F),k=null}}if("onloadend"in k?k.onloadend=D:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(D)},k.onabort=function(){k&&(p(l("Request aborted",c,"ECONNABORTED",k)),k=null)},k.onerror=function(){p(l("Network Error",c,null,k)),k=null},k.ontimeout=function(){var R=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",F=c.transitional||a;c.timeoutErrorMessage&&(R=c.timeoutErrorMessage),p(l(R,c,F.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},n.isStandardBrowserEnv()){var I=(c.withCredentials||o(M))&&c.xsrfCookieName?t.read(c.xsrfCookieName):void 0;I&&(_[c.xsrfHeaderName]=I)}"setRequestHeader"in k&&n.forEach(_,function(R,F){typeof g>"u"&&F.toLowerCase()==="content-type"?delete _[F]:k.setRequestHeader(F,R)}),n.isUndefined(c.withCredentials)||(k.withCredentials=!!c.withCredentials),b&&b!=="json"&&(k.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&k.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(v=function(z){k&&(p(!z||z&&z.type?new u("canceled"):z),k.abort(),k=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v))),g||(g=null),k.send(g)})},_c}var on=zn,S_=Pj,Bj=lE,Fj=aE,jj={"Content-Type":"application/x-www-form-urlencoded"};function T_(n,e){!on.isUndefined(n)&&on.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Vj(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=E_()),n}function Hj(n,e,t){if(on.isString(n))try{return(e||JSON.parse)(n),on.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var Af={transitional:Fj,adapter:Vj(),transformRequest:[function(e,t){return S_(t,"Accept"),S_(t,"Content-Type"),on.isFormData(e)||on.isArrayBuffer(e)||on.isBuffer(e)||on.isStream(e)||on.isFile(e)||on.isBlob(e)?e:on.isArrayBufferView(e)?e.buffer:on.isURLSearchParams(e)?(T_(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):on.isObject(e)||t&&t["Content-Type"]==="application/json"?(T_(t,"application/json"),Hj(e)):e}],transformResponse:[function(e){var t=this.transitional||Af.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&on.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Bj(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};on.forEach(["delete","get","head"],function(e){Af.headers[e]={}});on.forEach(["post","put","patch"],function(e){Af.headers[e]=on.merge(jj)});var Ep=Af,Uj=zn,Wj=Ep,qj=function(e,t,r){var i=this||Wj;return Uj.forEach(r,function(o){e=o.call(i,e,t)}),e},vc,A_;function fE(){return A_||(A_=1,vc=function(e){return!!(e&&e.__CANCEL__)}),vc}var O_=zn,bc=qj,Gj=fE(),Kj=Ep,Jj=Tf();function yc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jj("canceled")}var Yj=function(e){yc(e),e.headers=e.headers||{},e.data=bc.call(e,e.data,e.headers,e.transformRequest),e.headers=O_.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),O_.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||Kj.adapter;return t(e).then(function(i){return yc(e),i.data=bc.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Gj(i)||(yc(e),i&&i.response&&(i.response.data=bc.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Bn=zn,cE=function(e,t){t=t||{};var r={};function i(f,c){return Bn.isPlainObject(f)&&Bn.isPlainObject(c)?Bn.merge(f,c):Bn.isPlainObject(c)?Bn.merge({},c):Bn.isArray(c)?c.slice():c}function s(f){if(Bn.isUndefined(t[f])){if(!Bn.isUndefined(e[f]))return i(void 0,e[f])}else return i(e[f],t[f])}function o(f){if(!Bn.isUndefined(t[f]))return i(void 0,t[f])}function l(f){if(Bn.isUndefined(t[f])){if(!Bn.isUndefined(e[f]))return i(void 0,e[f])}else return i(void 0,t[f])}function a(f){if(f in t)return i(e[f],t[f]);if(f in e)return i(void 0,e[f])}var u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a};return Bn.forEach(Object.keys(e).concat(Object.keys(t)),function(c){var d=u[c]||s,h=d(c);Bn.isUndefined(h)&&d!==a||(r[c]=h)}),r},kc,C_;function dE(){return C_||(C_=1,kc={version:"0.26.1"}),kc}var Xj=dE().version,Sp={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){Sp[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var M_={};Sp.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Xj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,l){if(e===!1)throw new Error(i(o," has been removed"+(t?" in "+t:"")));return t&&!M_[o]&&(M_[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,l):!0}};function Zj(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var l=n[s],a=l===void 0||o(l,s,n);if(a!==!0)throw new TypeError("option "+s+" must be "+a);continue}if(t!==!0)throw Error("Unknown option "+s)}}var Qj={assertOptions:Zj,validators:Sp},hE=zn,xj=oE,P_=Cj,N_=Yj,Of=cE,pE=Qj,Vs=pE.validators;function Hl(n){this.defaults=n,this.interceptors={request:new P_,response:new P_}}Hl.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Of(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&pE.assertOptions(r,{silentJSONParsing:Vs.transitional(Vs.boolean),forcedJSONParsing:Vs.transitional(Vs.boolean),clarifyTimeoutError:Vs.transitional(Vs.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(s=s&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var l;if(!s){var a=[N_,void 0];for(Array.prototype.unshift.apply(a,i),a=a.concat(o),l=Promise.resolve(t);a.length;)l=l.then(a.shift(),a.shift());return l}for(var u=t;i.length;){var f=i.shift(),c=i.shift();try{u=f(u)}catch(d){c(d);break}}try{l=N_(u)}catch(d){return Promise.reject(d)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};Hl.prototype.getUri=function(e){return e=Of(this.defaults,e),xj(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};hE.forEach(["delete","get","head","options"],function(e){Hl.prototype[e]=function(t,r){return this.request(Of(r||{},{method:e,url:t,data:(r||{}).data}))}});hE.forEach(["post","put","patch"],function(e){Hl.prototype[e]=function(t,r,i){return this.request(Of(i||{},{method:e,url:t,data:r}))}});var e9=Hl,wc,D_;function t9(){if(D_)return wc;D_=1;var n=Tf();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,l=i._listeners.length;for(o=0;o<l;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,l=new Promise(function(a){i.subscribe(a),o=a}).then(s);return l.cancel=function(){i.unsubscribe(o)},l},t(function(o){i.reason||(i.reason=new n(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},wc=e,wc}var Ec,R_;function n9(){return R_||(R_=1,Ec=function(e){return function(r){return e.apply(null,r)}}),Ec}var Sc,I_;function r9(){if(I_)return Sc;I_=1;var n=zn;return Sc=function(t){return n.isObject(t)&&t.isAxiosError===!0},Sc}var $_=zn,i9=nE,Ta=e9,s9=cE,o9=Ep;function mE(n){var e=new Ta(n),t=i9(Ta.prototype.request,e);return $_.extend(t,Ta.prototype,e),$_.extend(t,e),t.create=function(i){return mE(s9(n,i))},t}var xr=mE(o9);xr.Axios=Ta;xr.Cancel=Tf();xr.CancelToken=t9();xr.isCancel=fE();xr.VERSION=dE().version;xr.all=function(e){return Promise.all(e)};xr.spread=n9();xr.isAxiosError=r9();yp.exports=xr;yp.exports.default=xr;var l9=yp.exports,a9=l9;const ds=hh(a9);var u9=["second","minute","hour","day","week","month","year"];function f9(n,e){if(e===0)return["just now","right now"];var t=u9[Math.floor(e/2)];return n>1&&(t+="s"),[n+" "+t+" ago","in "+n+" "+t]}var c9=["秒","分钟","小时","天","周","个月","年"];function d9(n,e){if(e===0)return["刚刚","片刻后"];var t=c9[~~(e/2)];return[n+" "+t+"前",n+" "+t+"后"]}var Cd={},gE=function(n,e){Cd[n]=e},h9=function(n){return Cd[n]||Cd.en_US},Tc=[60,60,24,7,365/7/12,12];function L_(n){return n instanceof Date?n:!isNaN(n)||/^\d+$/.test(n)?new Date(parseInt(n)):(n=(n||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(n))}function p9(n,e){var t=n<0?1:0;n=Math.abs(n);for(var r=n,i=0;n>=Tc[i]&&i<Tc.length;i++)n/=Tc[i];return n=Math.floor(n),i*=2,n>(i===0?9:1)&&(i+=1),e(n,i,r)[t].replace("%s",n.toString())}function m9(n,e){var t=e?L_(e):new Date;return(+t-+L_(n))/1e3}var z_=function(n,e,t){var r=m9(n,t&&t.relativeDate);return p9(r,h9(e))};gE("en_US",f9);gE("zh_CN",d9);function B_(n){let e,t;return{c(){e=T("span"),t=H(n[2]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[2]),i.forEach(m),this.h()},h(){y(e,"class","label svelte-19cpg2k")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&4&&Se(t,r[2])},d(r){r&&m(e)}}}function F_(n){let e,t;return{c(){e=T("span"),t=H(n[3]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[3]),i.forEach(m),this.h()},h(){y(e,"class","prefix svelte-19cpg2k")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&8&&Se(t,r[3])},d(r){r&&m(e)}}}function g9(n){let e,t,r,i,s,o,l,a,u=n[2]&&B_(n),f=n[3]&&F_(n);return{c(){e=T("label"),u&&u.c(),t=j(),r=T("div"),f&&f.c(),i=j(),s=T("input"),this.h()},l(c){e=A(c,"LABEL",{class:!0,id:!0});var d=O(e);u&&u.l(d),t=V(d),r=A(d,"DIV",{class:!0});var h=O(r);f&&f.l(h),i=V(h),s=A(h,"INPUT",{type:!0,placeholder:!0,class:!0}),h.forEach(m),d.forEach(m),this.h()},h(){s.value=n[0],y(s,"type",n[6]),y(s,"placeholder",n[4]),y(s,"class","svelte-19cpg2k"),y(r,"class","input-container svelte-19cpg2k"),y(e,"class",o=Rn(n[5])+" svelte-19cpg2k"),y(e,"id",n[1])},m(c,d){$(c,e,d),u&&u.m(e,null),w(e,t),w(e,r),f&&f.m(r,null),w(r,i),w(r,s),l||(a=re(s,"input",n[8]),l=!0)},p(c,[d]){c[2]?u?u.p(c,d):(u=B_(c),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c[3]?f?f.p(c,d):(f=F_(c),f.c(),f.m(r,i)):f&&(f.d(1),f=null),d&1&&s.value!==c[0]&&(s.value=c[0]),d&64&&y(s,"type",c[6]),d&16&&y(s,"placeholder",c[4]),d&32&&o!==(o=Rn(c[5])+" svelte-19cpg2k")&&y(e,"class",o),d&2&&y(e,"id",c[1])},i:_e,o:_e,d(c){c&&m(e),u&&u.d(),f&&f.d(),l=!1,a()}}}function _9(n,e,t){const r=Ct();let{id:i=null}=e,{label:s=null}=e,{prefix:o=""}=e,{value:l=""}=e,{placeholder:a=""}=e,{variants:u=""}=e,{type:f="text"}=e;const c=({target:d})=>{t(0,l=d.value),r("input",l)};return n.$$set=d=>{"id"in d&&t(1,i=d.id),"label"in d&&t(2,s=d.label),"prefix"in d&&t(3,o=d.prefix),"value"in d&&t(0,l=d.value),"placeholder"in d&&t(4,a=d.placeholder),"variants"in d&&t(5,u=d.variants),"type"in d&&t(6,f=d.type)},[l,i,s,o,a,u,f,r,c]}let Ja=class extends Ie{constructor(e){super(),$e(this,e,_9,g9,Le,{id:1,label:2,prefix:3,value:0,placeholder:4,variants:5,type:6})}};function j_(n,e,t){const r=n.slice();return r[9]=e[t],r}function V_(n){let e,t,r,i=n[5]&&H_();return{c(){e=T("span"),t=H(n[1]),r=j(),i&&i.c(),this.h()},l(s){e=A(s,"SPAN",{title:!0,class:!0});var o=O(e);t=U(o,n[1]),r=V(o),i&&i.l(o),o.forEach(m),this.h()},h(){y(e,"title",n[5]),y(e,"class","svelte-11yyffu")},m(s,o){$(s,e,o),w(e,t),w(e,r),i&&i.m(e,null)},p(s,o){o&2&&Se(t,s[1]),s[5]?i||(i=H_(),i.c(),i.m(e,null)):i&&(i.d(1),i=null),o&32&&y(e,"title",s[5])},d(s){s&&m(e),i&&i.d()}}}function H_(n){let e;return{c(){e=T("i"),this.h()},l(t){e=A(t,"I",{class:!0}),O(e).forEach(m),this.h()},h(){y(e,"class","fas fa-info-circle  svelte-11yyffu")},m(t,r){$(t,e,r)},d(t){t&&m(e)}}}function v9(n){let e,t=n[9].label+"",r,i;return{c(){e=T("option"),r=H(t),this.h()},l(s){e=A(s,"OPTION",{});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){e.__value=i=n[9].id,e.value=e.__value},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&4&&t!==(t=s[9].label+"")&&Se(r,t),o&4&&i!==(i=s[9].id)&&(e.__value=i,e.value=e.__value)},d(s){s&&m(e)}}}function b9(n){let e,t;return{c(){e=T("option"),t=H("───────"),this.h()},l(r){e=A(r,"OPTION",{});var i=O(e);t=U(i,"───────"),i.forEach(m),this.h()},h(){e.disabled=!0,e.__value="───────",e.value=e.__value},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function U_(n){let e;function t(s,o){return s[9].id==="DIVIDER"?b9:v9}let r=t(n),i=r(n);return{c(){i.c(),e=ge()},l(s){i.l(s),e=ge()},m(s,o){i.m(s,o),$(s,e,o)},p(s,o){r===(r=t(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&m(e)}}}function y9(n){let e,t,r,i,s,o,l=n[1]&&V_(n),a=n[2],u=[];for(let d=0;d<a.length;d+=1)u[d]=U_(j_(n,a,d));let f=[{disabled:n[3]},n[7]],c={};for(let d=0;d<f.length;d+=1)c=Rt(c,f[d]);return{c(){e=T("label"),l&&l.c(),t=j(),r=T("select");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=A(d,"LABEL",{class:!0});var h=O(e);l&&l.l(h),t=V(h),r=A(h,"SELECT",{});var p=O(r);for(let g=0;g<u.length;g+=1)u[g].l(p);p.forEach(m),h.forEach(m),this.h()},h(){$r(r,c),n[0]===void 0&&Yt(()=>n[8].call(r)),ee(r,"svelte-11yyffu",!0),y(e,"class",i=n[4]+" "+n[6]+" svelte-11yyffu")},m(d,h){$(d,e,h),l&&l.m(e,null),w(e,t),w(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);"value"in c&&(c.multiple?mm:tr)(r,c.value),r.autofocus&&r.focus(),tr(r,n[0],!0),s||(o=re(r,"change",n[8]),s=!0)},p(d,[h]){if(d[1]?l?l.p(d,h):(l=V_(d),l.c(),l.m(e,t)):l&&(l.d(1),l=null),h&4){a=d[2];let p;for(p=0;p<a.length;p+=1){const g=j_(d,a,p);u[p]?u[p].p(g,h):(u[p]=U_(g),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=a.length}$r(r,c=jn(f,[h&8&&{disabled:d[3]},h&128&&d[7]])),h&136&&"value"in c&&(c.multiple?mm:tr)(r,c.value),h&5&&tr(r,d[0]),ee(r,"svelte-11yyffu",!0),h&80&&i!==(i=d[4]+" "+d[6]+" svelte-11yyffu")&&y(e,"class",i)},i:_e,o:_e,d(d){d&&m(e),l&&l.d(),Kt(u,d),s=!1,o()}}}function k9(n,e,t){const r=["label","value","options","disabled","variants","info","size"];let i=jr(e,r),{label:s=null}=e,{value:o}=e,{options:l}=e,{disabled:a=!1}=e,{variants:u=""}=e,{info:f=null}=e,{size:c="medium"}=e;function d(){o=dh(this),t(0,o),t(2,l)}return n.$$set=h=>{e=Rt(Rt({},e),Ss(h)),t(7,i=jr(e,r)),"label"in h&&t(1,s=h.label),"value"in h&&t(0,o=h.value),"options"in h&&t(2,l=h.options),"disabled"in h&&t(3,a=h.disabled),"variants"in h&&t(4,u=h.variants),"info"in h&&t(5,f=h.info),"size"in h&&t(6,c=h.size)},[o,s,l,a,u,f,c,i,d]}let _E=class extends Ie{constructor(e){super(),$e(this,e,k9,y9,Le,{label:1,value:0,options:2,disabled:3,variants:4,info:5,size:6})}};function W_(n,e,t){const r=n.slice();return r[4]=e[t].icon,r[5]=e[t].label,r[6]=e[t].onclick,r}function q_(n){let e,t,r,i,s=n[5]+"",o,l,a,u,f;return t=new Ze({props:{icon:n[4]}}),{c(){e=T("button"),W(t.$$.fragment),r=j(),i=T("span"),o=H(s),l=j(),this.h()},l(c){e=A(c,"BUTTON",{class:!0});var d=O(e);Y(t.$$.fragment,d),r=V(d),i=A(d,"SPAN",{});var h=O(i);o=U(h,s),h.forEach(m),l=V(d),d.forEach(m),this.h()},h(){y(e,"class","child-button svelte-znd23p")},m(c,d){$(c,e,d),q(t,e,null),w(e,r),w(e,i),w(i,o),w(e,l),a=!0,u||(f=re(e,"click",function(){vo(n[6])&&n[6].apply(this,arguments)}),u=!0)},p(c,d){n=c;const h={};d&2&&(h.icon=n[4]),t.$set(h),(!a||d&2)&&s!==(s=n[5]+"")&&Se(o,s)},i(c){a||(S(t.$$.fragment,c),a=!0)},o(c){P(t.$$.fragment,c),a=!1},d(c){c&&m(e),G(t),u=!1,f()}}}function w9(n){let e,t,r,i,s,o,l=n[0].label+"",a,u,f,c,d,h,p,g,_,b;i=new Ze({props:{icon:n[0].icon}}),d=new Ze({props:{icon:"basil:caret-down-solid",height:"25"}});let v=n[1],E=[];for(let N=0;N<v.length;N+=1)E[N]=q_(W_(n,v,N));const k=N=>P(E[N],1,1,()=>{E[N]=null});return{c(){e=T("div"),t=T("div"),r=T("button"),W(i.$$.fragment),s=j(),o=T("span"),a=H(l),u=j(),f=T("button"),c=T("div"),W(d.$$.fragment),h=j(),p=T("div");for(let N=0;N<E.length;N+=1)E[N].c();this.h()},l(N){e=A(N,"DIV",{class:!0});var C=O(e);t=A(C,"DIV",{class:!0});var M=O(t);r=A(M,"BUTTON",{class:!0});var D=O(r);Y(i.$$.fragment,D),s=V(D),o=A(D,"SPAN",{});var I=O(o);a=U(I,l),I.forEach(m),D.forEach(m),u=V(M),f=A(M,"BUTTON",{class:!0});var z=O(f);c=A(z,"DIV",{class:!0,style:!0});var R=O(c);Y(d.$$.fragment,R),R.forEach(m),z.forEach(m),M.forEach(m),h=V(C),p=A(C,"DIV",{class:!0});var F=O(p);for(let Z=0;Z<E.length;Z+=1)E[Z].l(F);F.forEach(m),C.forEach(m),this.h()},h(){y(r,"class","child-button svelte-znd23p"),y(c,"class","icon"),Re(c,"transition","0.1s"),Re(c,"transform",n[2]?"scaleY(-1)":"initial"),y(f,"class","svelte-znd23p"),y(t,"class","primary-button svelte-znd23p"),y(p,"class","dropdown-content svelte-znd23p"),y(e,"class","DropdownButton svelte-znd23p"),ee(e,"is_open",n[2])},m(N,C){$(N,e,C),w(e,t),w(t,r),q(i,r,null),w(r,s),w(r,o),w(o,a),w(t,u),w(t,f),w(f,c),q(d,c,null),w(e,h),w(e,p);for(let M=0;M<E.length;M+=1)E[M]&&E[M].m(p,null);g=!0,_||(b=[re(r,"click",function(){vo(n[0].onclick)&&n[0].onclick.apply(this,arguments)}),re(f,"click",n[3])],_=!0)},p(N,[C]){n=N;const M={};if(C&1&&(M.icon=n[0].icon),i.$set(M),(!g||C&1)&&l!==(l=n[0].label+"")&&Se(a,l),C&4&&Re(c,"transform",n[2]?"scaleY(-1)":"initial"),C&2){v=n[1];let D;for(D=0;D<v.length;D+=1){const I=W_(n,v,D);E[D]?(E[D].p(I,C),S(E[D],1)):(E[D]=q_(I),E[D].c(),S(E[D],1),E[D].m(p,null))}for(le(),D=v.length;D<E.length;D+=1)k(D);ae()}(!g||C&4)&&ee(e,"is_open",n[2])},i(N){if(!g){S(i.$$.fragment,N),S(d.$$.fragment,N);for(let C=0;C<v.length;C+=1)S(E[C]);g=!0}},o(N){P(i.$$.fragment,N),P(d.$$.fragment,N),E=E.filter(Boolean);for(let C=0;C<E.length;C+=1)P(E[C]);g=!1},d(N){N&&m(e),G(i),G(d),Kt(E,N),_=!1,Tt(b)}}}function E9(n,e,t){let{primary_button:r}=e,{buttons:i=[]}=e,s=!1;const o=()=>t(2,s=!s);return n.$$set=l=>{"primary_button"in l&&t(0,r=l.primary_button),"buttons"in l&&t(1,i=l.buttons)},[r,i,s,o]}class Cf extends Ie{constructor(e){super(),$e(this,e,E9,w9,Le,{primary_button:0,buttons:1})}}let vE=()=>{};function Lx(n){vE=n}async function S9(n,e){return await vE(n,e)}async function T9({repo_name:n,provider:e},t=!1){const r=await bE({pages:De(vi),symbols:De(Co)});if(!r)return null;const i=r.map(s=>({file:s.path,data:s.content,size:new Blob([s.content],{type:"text/plain"}).size/1024}));return await S9({files:i,site_id:De(xt).id,repo_name:n,provider:e},t)}async function bE({pages:n,symbols:e}){let t,r=[],i=[];try{const a=await Promise.all(n.map(f=>Promise.all(Object.keys(f.content).map(c=>o(f,c))))),u=await Promise.all(e.filter(f=>f.code.js).map(f=>s(f)));t=l([...u,...a.flat()])}catch(a){alert(a.message)}return t;async function s(a){const u=await vf({component:{html:a.code.html,css:a.code.css,js:a.code.js,data:a.content.en}});if(u.error)throw Error("Error processing symbol "+a.name);const f=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date);return{path:"_symbols/"+a.id+".js",content:`// ${a.name} - Updated ${f}
`+u.js}}async function o(a,u){const f=await Fe({table:"sections",action:"select",match:{page:a.id},order:["index",{ascending:!0}]}),{html:c}=await yf({page:a,page_sections:f,page_symbols:e.filter(_=>f.find(b=>b.symbol===_.id)),locale:u});let d=[];const h=n.find(_=>_.id===a.parent);if(h){let _=!1,b=h;for(d.push(h.url);!_;)b=n.find(v=>v.id===b.parent),b?d.unshift(b.url):_=!0}let p;return a.url,a.url==="index"||a.url==="404"?p=`${a.url}.html`:h?(p=`${d.join("/")}/${a.url}/index.html`,`${d.join("/")}${a.url}`):p=`${a.url}/index.html`,u!=="en"?p=`${u}/${p}`:(r=[...r,...f],i=[...i,a]),[{path:p,content:c}]}async function l(a){const u=De(Vo).data.site,f=De(Vo).data.symbols,c=JSON.stringify({site:{id:u.id,name:u.name,url:u.url,code:u.code,fields:u.fields,content:u.content},pages:i.map(d=>({id:d.id,url:d.url,name:d.name,code:d.code,fields:d.fields,content:d.content,site:d.site,parent:d.parent})),sections:r.map(d=>({id:d.id,content:d.content,page:d.page,site:d.site,symbol:d.symbol,index:d.index})),symbols:f.map(d=>({id:d.id,name:d.name,code:d.code,fields:d.fields,content:d.content,site:d.site})),version:2});return[...L.flattenDeep(a),{path:"primo.json",content:c},{path:"edit/index.html",content:`<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta http-equiv="Refresh" content="0; url='${De(Vo).url.origin}/${De(Vo).params.site}'" />
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Edit site</title>
          </head>
          <body style="margin:0">
            <h1 style="font-family:sans-serif;text-align:center;">redirecting to Primo server</h1>
          </body>
        </html>
        `},{path:"robots.txt",content:"User-agent: *"}]}}const A9=n=>({}),G_=n=>({}),O9=n=>({}),K_=n=>({}),C9=n=>({}),J_=n=>({}),M9=n=>({}),Y_=n=>({});function P9(n){let e,t,r,i,s,o,l,a,u,f=n[6]&&X_();const c=n[9].icon,d=at(c,n,n[8],K_),h=n[9].label,p=at(h,n,n[8],G_),g=n[9].default,_=at(g,n,n[8],null),b=_||D9(n);let v=[{id:n[2]},{class:n[3]},{disabled:o=n[5]||n[6]},n[7],{type:n[4]}],E={};for(let k=0;k<v.length;k+=1)E=Rt(E,v[k]);return{c(){e=T("button"),f&&f.c(),t=j(),r=T("span"),d&&d.c(),i=j(),p&&p.c(),s=j(),b&&b.c(),this.h()},l(k){e=A(k,"BUTTON",{id:!0,class:!0,type:!0});var N=O(e);f&&f.l(N),t=V(N),r=A(N,"SPAN",{class:!0});var C=O(r);d&&d.l(C),C.forEach(m),i=V(N),p&&p.l(N),s=V(N),b&&b.l(N),N.forEach(m),this.h()},h(){y(r,"class","svelte-1df5w0e"),ee(r,"hidden",n[6]),$r(e,E),ee(e,"svelte-1df5w0e",!0)},m(k,N){$(k,e,N),f&&f.m(e,null),w(e,t),w(e,r),d&&d.m(r,null),w(e,i),p&&p.m(e,null),w(e,s),b&&b.m(e,null),e.autofocus&&e.focus(),l=!0,a||(u=re(e,"click",n[11]),a=!0)},p(k,N){k[6]?f?N&64&&S(f,1):(f=X_(),f.c(),S(f,1),f.m(e,t)):f&&(le(),P(f,1,1,()=>{f=null}),ae()),d&&d.p&&(!l||N&256)&&ut(d,c,k,k[8],l?ct(c,k[8],N,O9):ft(k[8]),K_),(!l||N&64)&&ee(r,"hidden",k[6]),p&&p.p&&(!l||N&256)&&ut(p,h,k,k[8],l?ct(h,k[8],N,A9):ft(k[8]),G_),_?_.p&&(!l||N&256)&&ut(_,g,k,k[8],l?ct(g,k[8],N,null):ft(k[8]),null):b&&b.p&&(!l||N&65)&&b.p(k,l?N:-1),$r(e,E=jn(v,[(!l||N&4)&&{id:k[2]},(!l||N&8)&&{class:k[3]},(!l||N&96&&o!==(o=k[5]||k[6]))&&{disabled:o},N&128&&k[7],(!l||N&16)&&{type:k[4]}])),ee(e,"svelte-1df5w0e",!0)},i(k){l||(S(f),S(d,k),S(p,k),S(b,k),l=!0)},o(k){P(f),P(d,k),P(p,k),P(b,k),l=!1},d(k){k&&m(e),f&&f.d(),d&&d.d(k),p&&p.d(k),b&&b.d(k),a=!1,u()}}}function N9(n){let e,t,r,i,s,o,l,a,u,f,c,d,h=n[6]&&Z_();const p=n[9].icon,g=at(p,n,n[8],Y_),_=g||R9(n),b=n[9].label,v=at(b,n,n[8],J_),E=n[9].default,k=at(E,n,n[8],null),N=k||I9(n);return{c(){e=T("label"),h&&h.c(),t=j(),r=T("span"),_&&_.c(),i=j(),v&&v.c(),s=j(),N&&N.c(),o=j(),l=T("input"),this.h()},l(C){e=A(C,"LABEL",{for:!0,class:!0});var M=O(e);h&&h.l(M),t=V(M),r=A(M,"SPAN",{class:!0});var D=O(r);_&&_.l(D),D.forEach(m),i=V(M),v&&v.l(M),s=V(M),N&&N.l(M),o=V(M),l=A(M,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),M.forEach(m),this.h()},h(){y(r,"class","svelte-1df5w0e"),ee(r,"hidden",n[6]),y(l,"type","file"),y(l,"id","primo-json"),y(l,"accept",".json"),l.disabled=a=n[5]||n[6],y(l,"class","svelte-1df5w0e"),y(e,"for","primo-json"),y(e,"class",u=Rn(n[3])+" svelte-1df5w0e")},m(C,M){$(C,e,M),h&&h.m(e,null),w(e,t),w(e,r),_&&_.m(r,null),w(e,i),v&&v.m(e,null),w(e,s),N&&N.m(e,null),w(e,o),w(e,l),f=!0,c||(d=re(l,"change",n[10]),c=!0)},p(C,M){C[6]?h?M&64&&S(h,1):(h=Z_(),h.c(),S(h,1),h.m(e,t)):h&&(le(),P(h,1,1,()=>{h=null}),ae()),g?g.p&&(!f||M&256)&&ut(g,p,C,C[8],f?ct(p,C[8],M,M9):ft(C[8]),Y_):_&&_.p&&(!f||M&2)&&_.p(C,f?M:-1),(!f||M&64)&&ee(r,"hidden",C[6]),v&&v.p&&(!f||M&256)&&ut(v,b,C,C[8],f?ct(b,C[8],M,C9):ft(C[8]),J_),k?k.p&&(!f||M&256)&&ut(k,E,C,C[8],f?ct(E,C[8],M,null):ft(C[8]),null):N&&N.p&&(!f||M&65)&&N.p(C,f?M:-1),(!f||M&96&&a!==(a=C[5]||C[6]))&&(l.disabled=a),(!f||M&8&&u!==(u=Rn(C[3])+" svelte-1df5w0e"))&&y(e,"class",u)},i(C){f||(S(h),S(_,C),S(v,C),S(N,C),f=!0)},o(C){P(h),P(_,C),P(v,C),P(N,C),f=!1},d(C){C&&m(e),h&&h.d(),_&&_.d(C),v&&v.d(C),N&&N.d(C),c=!1,d()}}}function X_(n){let e,t;return e=new kf({}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function D9(n){let e,t;return{c(){e=T("span"),t=H(n[0]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[0]),i.forEach(m),this.h()},h(){y(e,"class","svelte-1df5w0e"),ee(e,"hidden",n[6])},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&1&&Se(t,r[0]),i&64&&ee(e,"hidden",r[6])},d(r){r&&m(e)}}}function Z_(n){let e,t;return e=new kf({}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function R9(n){let e,t;return e=new Ze({props:{icon:n[1]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.icon=r[1]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function I9(n){let e,t;return{c(){e=T("span"),t=H(n[0]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[0]),i.forEach(m),this.h()},h(){y(e,"class","svelte-1df5w0e"),ee(e,"hidden",n[6])},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&1&&Se(t,r[0]),i&64&&ee(e,"hidden",r[6])},d(r){r&&m(e)}}}function $9(n){let e,t,r,i;const s=[N9,P9],o=[];function l(a,u){return a[4]==="input"?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,[u]){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function L9(n,e,t){const r=["label","icon","id","variants","type","disabled","loading"];let i=jr(e,r),{$$slots:s={},$$scope:o}=e,{label:l=""}=e,{icon:a=null}=e,{id:u=null}=e,{variants:f=""}=e,{type:c="button"}=e,{disabled:d=!1}=e,{loading:h=!1}=e;function p(_){mt.call(this,n,_)}function g(_){mt.call(this,n,_)}return n.$$set=_=>{e=Rt(Rt({},e),Ss(_)),t(7,i=jr(e,r)),"label"in _&&t(0,l=_.label),"icon"in _&&t(1,a=_.icon),"id"in _&&t(2,u=_.id),"variants"in _&&t(3,f=_.variants),"type"in _&&t(4,c=_.type),"disabled"in _&&t(5,d=_.disabled),"loading"in _&&t(6,h=_.loading),"$$scope"in _&&t(8,o=_.$$scope)},[l,a,u,f,c,d,h,i,o,s,p,g]}class yE extends Ie{constructor(e){super(),$e(this,e,L9,$9,Le,{label:0,icon:1,id:2,variants:3,type:4,disabled:5,loading:6})}}function z9(n){const e=n.slice(),t=e[5].repo.html_url?"github":"gitlab";return e[34]=t,e}function B9(n){var i,s,o,l;const e=n.slice(),t=e[0].split("--")[1];e[34]=t;const r={github:{avatar:(i=e[2])==null?void 0:i.avatar_url,username:(s=e[2])==null?void 0:s.login},gitlab:{avatar:(o=e[3])==null?void 0:o.avatar_url,username:(l=e[3])==null?void 0:l.username}}[e[34]];return e[35]=r,e}function F9(n){const e=n.slice(),t=e[0].split("--")[1];return e[34]=t,e}function j9(n){let e,t,r,i=n[5].repo.full_name+"",s,o,l,a,u=z_(n[5].created)+"",f,c,d,h,p,g,_,b,v;function E(){return n[29](n[34])}let k=n[0]!=="ACTIVE__DEPLOYED"&&Q_(n);return{c(){e=T("div"),t=T("div"),r=T("a"),s=H(i),l=j(),a=T("span"),f=H(u),c=j(),d=T("button"),h=H("edit"),p=j(),k&&k.c(),g=ge(),this.h()},l(N){e=A(N,"DIV",{class:!0});var C=O(e);t=A(C,"DIV",{class:!0});var M=O(t);r=A(M,"A",{class:!0,href:!0,target:!0});var D=O(r);s=U(D,i),D.forEach(m),l=V(M),a=A(M,"SPAN",{class:!0});var I=O(a);f=U(I,u),I.forEach(m),M.forEach(m),c=V(C),d=A(C,"BUTTON",{class:!0});var z=O(d);h=U(z,"edit"),z.forEach(m),C.forEach(m),p=V(N),k&&k.l(N),g=ge(),this.h()},h(){y(r,"class","name svelte-1sielbc"),y(r,"href",o=n[5].repo.html_url||n[5].repo.web_url),y(r,"target","_blank"),y(a,"class","last-updated svelte-1sielbc"),y(t,"class","svelte-1sielbc"),y(d,"class","primo-link svelte-1sielbc"),y(e,"class","repo-card svelte-1sielbc")},m(N,C){$(N,e,C),w(e,t),w(t,r),w(r,s),w(t,l),w(t,a),w(a,f),w(e,c),w(e,d),w(d,h),$(N,p,C),k&&k.m(N,C),$(N,g,C),_=!0,b||(v=re(d,"click",E),b=!0)},p(N,C){n=N,(!_||C[0]&32)&&i!==(i=n[5].repo.full_name+"")&&Se(s,i),(!_||C[0]&32&&o!==(o=n[5].repo.html_url||n[5].repo.web_url))&&y(r,"href",o),(!_||C[0]&32)&&u!==(u=z_(n[5].created)+"")&&Se(f,u),n[0]!=="ACTIVE__DEPLOYED"?k?(k.p(n,C),C[0]&1&&S(k,1)):(k=Q_(n),k.c(),S(k,1),k.m(g.parentNode,g)):k&&(le(),P(k,1,1,()=>{k=null}),ae())},i(N){_||(S(k),_=!0)},o(N){P(k),_=!1},d(N){N&&m(e),N&&m(p),k&&k.d(N),N&&m(g),b=!1,v()}}}function V9(n){var z;let e,t,r,i,s,o,l,a,u=((z=n[35])==null?void 0:z.username)+"",f,c,d,h,p,g,_,b,v,E,k,N;function C(){return n[22](n[34])}const M=[G9,q9,W9],D=[];function I(R,F){return F[0]&1&&(g=null),F[0]&1&&(_=null),R[0]===`DEPLOY--${R[34]}`?0:(g==null&&(g=!!R[0].includes("USE_EXISTING")),g?1:(_==null&&(_=!!R[0].includes("CREATE_REPO")),_?2:-1))}return~(b=I(n,[-1,-1]))&&(v=D[b]=M[b](n)),{c(){e=T("div"),t=T("div"),r=T("div"),i=T("img"),l=j(),a=T("span"),f=H(u),c=j(),d=T("button"),h=H("change"),p=j(),v&&v.c(),this.h()},l(R){e=A(R,"DIV",{class:!0});var F=O(e);t=A(F,"DIV",{class:!0});var Z=O(t);r=A(Z,"DIV",{class:!0});var K=O(r);i=A(K,"IMG",{src:!0,alt:!0,class:!0}),l=V(K),a=A(K,"SPAN",{});var J=O(a);f=U(J,u),J.forEach(m),K.forEach(m),c=V(Z),d=A(Z,"BUTTON",{class:!0});var X=O(d);h=U(X,"change"),X.forEach(m),Z.forEach(m),p=V(F),v&&v.l(F),F.forEach(m),this.h()},h(){var R;zi(i.src,s=(R=n[35])==null?void 0:R.avatar)||y(i,"src",s),y(i,"alt",o=n[34]+" avatar"),y(i,"class","svelte-1sielbc"),y(r,"class","user svelte-1sielbc"),y(d,"class","primo-link svelte-1sielbc"),y(t,"class","account-card svelte-1sielbc"),y(e,"class","container svelte-1sielbc")},m(R,F){$(R,e,F),w(e,t),w(t,r),w(r,i),w(r,l),w(r,a),w(a,f),w(t,c),w(t,d),w(d,h),w(e,p),~b&&D[b].m(e,null),E=!0,k||(N=re(d,"click",C),k=!0)},p(R,F){var K,J;n=R,(!E||F[0]&13&&!zi(i.src,s=(K=n[35])==null?void 0:K.avatar))&&y(i,"src",s),(!E||F[0]&1&&o!==(o=n[34]+" avatar"))&&y(i,"alt",o),(!E||F[0]&13)&&u!==(u=((J=n[35])==null?void 0:J.username)+"")&&Se(f,u);let Z=b;b=I(n,F),b===Z?~b&&D[b].p(n,F):(v&&(le(),P(D[Z],1,1,()=>{D[Z]=null}),ae()),~b?(v=D[b],v?v.p(n,F):(v=D[b]=M[b](n),v.c()),S(v,1),v.m(e,null)):v=null)},i(R){E||(S(v),E=!0)},o(R){P(v),E=!1},d(R){R&&m(e),~b&&D[b].d(),k=!1,N()}}}function H9(n){let e,t,r,i,s=n[34]+"",o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M,D,I,z,R,F;C=new Ja({props:{placeholder:"Token"}});function Z(...K){return n[21](n[34],...K)}return{c(){e=T("div"),t=T("p"),r=H("Enter your "),i=T("span"),o=H(s),l=H(`
				API token to deploy sites to your account. See the
				`),a=T("a"),u=H("docs"),f=H(`
				for more details.`),c=j(),d=T("div"),h=T("div"),p=T("p"),g=H("Enter API Token"),_=j(),b=T("button"),v=H("change provider"),E=j(),k=T("form"),N=T("div"),W(C.$$.fragment),M=j(),D=T("button"),I=H("Connect"),this.h()},l(K){e=A(K,"DIV",{class:!0});var J=O(e);t=A(J,"P",{});var X=O(t);r=U(X,"Enter your "),i=A(X,"SPAN",{style:!0});var ie=O(i);o=U(ie,s),ie.forEach(m),l=U(X,`
				API token to deploy sites to your account. See the
				`),a=A(X,"A",{target:!0,href:!0,class:!0});var Ee=O(a);u=U(Ee,"docs"),Ee.forEach(m),f=U(X,`
				for more details.`),X.forEach(m),c=V(J),d=A(J,"DIV",{});var Q=O(d);h=A(Q,"DIV",{style:!0});var Me=O(h);p=A(Me,"P",{});var ce=O(p);g=U(ce,"Enter API Token"),ce.forEach(m),_=V(Me),b=A(Me,"BUTTON",{class:!0});var de=O(b);v=U(de,"change provider"),de.forEach(m),Me.forEach(m),E=V(Q),k=A(Q,"FORM",{class:!0});var Te=O(k);N=A(Te,"DIV",{class:!0});var Oe=O(N);Y(C.$$.fragment,Oe),M=V(Oe),D=A(Oe,"BUTTON",{class:!0});var B=O(D);I=U(B,"Connect"),B.forEach(m),Oe.forEach(m),Te.forEach(m),Q.forEach(m),J.forEach(m),this.h()},h(){Re(i,"text-decoration","capitalize"),y(a,"target","blank"),y(a,"href","https://docs.primocms.org/publishing"),y(a,"class","svelte-1sielbc"),y(b,"class","primo-link svelte-1sielbc"),Re(h,"display","flex"),Re(h,"justify-content","space-between"),y(D,"class","primo-button svelte-1sielbc"),y(N,"class","svelte-1sielbc"),y(k,"class","svelte-1sielbc"),y(e,"class","container svelte-1sielbc")},m(K,J){$(K,e,J),w(e,t),w(t,r),w(t,i),w(i,o),w(t,l),w(t,a),w(a,u),w(t,f),w(e,c),w(e,d),w(d,h),w(h,p),w(p,g),w(h,_),w(h,b),w(b,v),w(d,E),w(d,k),w(k,N),q(C,N,null),w(N,M),w(N,D),w(D,I),z=!0,R||(F=[re(b,"click",n[20]),re(k,"submit",Gi(Z))],R=!0)},p(K,J){n=K,(!z||J[0]&1)&&s!==(s=n[34]+"")&&Se(o,s)},i(K){z||(S(C.$$.fragment,K),z=!0)},o(K){P(C.$$.fragment,K),z=!1},d(K){K&&m(e),G(C),R=!1,Tt(F)}}}function U9(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N;d=new Ze({props:{icon:n[4]?"eos-icons:loading":"ic:baseline-download"}});const C=[nV,tV,eV,x9,Q9],M=[];function D(I,z){return I[1]?!I[2]&&!I[3]?1:I[2]&&!I[3]?2:!I[2]&&I[3]?3:I[2]&&I[3]?4:-1:0}return~(b=D(n))&&(v=M[b]=C[b](n)),{c(){e=T("div"),t=T("p"),r=H("To publish your website, you'll need to upload it to a web host. You can either "),i=T("a"),s=H("manually upload"),o=H(`
				your site, or
				`),l=T("a"),a=H("deploy it from a Github repo."),u=j(),f=T("div"),c=T("button"),W(d.$$.fragment),h=j(),p=T("span"),g=H("Download"),_=j(),v&&v.c(),this.h()},l(I){e=A(I,"DIV",{class:!0});var z=O(e);t=A(z,"P",{class:!0});var R=O(t);r=U(R,"To publish your website, you'll need to upload it to a web host. You can either "),i=A(R,"A",{href:!0,class:!0});var F=O(i);s=U(F,"manually upload"),F.forEach(m),o=U(R,`
				your site, or
				`),l=A(R,"A",{href:!0,class:!0});var Z=O(l);a=U(Z,"deploy it from a Github repo."),Z.forEach(m),R.forEach(m),u=V(z),f=A(z,"DIV",{class:!0});var K=O(f);c=A(K,"BUTTON",{class:!0});var J=O(c);Y(d.$$.fragment,J),h=V(J),p=A(J,"SPAN",{});var X=O(p);g=U(X,"Download"),X.forEach(m),J.forEach(m),_=V(K),v&&v.l(K),K.forEach(m),z.forEach(m),this.h()},h(){y(i,"href","https://docs.primocms.org/publishing"),y(i,"class","svelte-1sielbc"),y(l,"href","https://docs.primocms.org/publishing"),y(l,"class","svelte-1sielbc"),y(t,"class","description svelte-1sielbc"),y(c,"class","primo-button svelte-1sielbc"),y(f,"class","buttons svelte-1sielbc"),y(e,"class","container svelte-1sielbc")},m(I,z){$(I,e,z),w(e,t),w(t,r),w(t,i),w(i,s),w(t,o),w(t,l),w(l,a),w(e,u),w(e,f),w(f,c),q(d,c,null),w(c,h),w(c,p),w(p,g),w(f,_),~b&&M[b].m(f,null),E=!0,k||(N=re(c,"click",n[6]),k=!0)},p(I,z){const R={};z[0]&16&&(R.icon=I[4]?"eos-icons:loading":"ic:baseline-download"),d.$set(R);let F=b;b=D(I),b===F?~b&&M[b].p(I,z):(v&&(le(),P(M[F],1,1,()=>{M[F]=null}),ae()),~b?(v=M[b],v?v.p(I,z):(v=M[b]=C[b](I),v.c()),S(v,1),v.m(f,null)):v=null)},i(I){E||(S(d.$$.fragment,I),S(v),E=!0)},o(I){P(d.$$.fragment,I),P(v),E=!1},d(I){I&&m(e),G(d),~b&&M[b].d(),k=!1,N()}}}function Q_(n){let e,t,r;function i(){return n[30](n[34])}return t=new yE({props:{label:"Deploy",loading:n[4]}}),t.$on("click",i),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=O(e);Y(t.$$.fragment,o),o.forEach(m),this.h()},h(){y(e,"class","buttons svelte-1sielbc")},m(s,o){$(s,e,o),q(t,e,null),r=!0},p(s,o){n=s;const l={};o[0]&16&&(l.loading=n[4]),t.$set(l)},i(s){r||(S(t.$$.fragment,s),r=!0)},o(s){P(t.$$.fragment,s),r=!1},d(s){s&&m(e),G(t)}}}function W9(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M,D;function I(){return n[27](n[34])}p=new Ja({props:{placeholder:"Site"}});const z=[J9,K9],R=[];function F(K,J){return K[4]?0:1}b=F(n),v=R[b]=z[b](n);function Z(...K){return n[28](n[35],n[34],...K)}return{c(){e=T("div"),t=T("header"),r=T("h3"),i=H("Create new repo"),s=j(),o=T("button"),l=H("use existing repo instead"),a=j(),u=T("form"),f=T("p"),c=H("Enter repo name"),d=j(),h=T("div"),W(p.$$.fragment),g=j(),_=T("button"),v.c(),E=j(),k=T("footer"),N=H("This repo will be created in your account"),this.h()},l(K){e=A(K,"DIV",{class:!0});var J=O(e);t=A(J,"HEADER",{class:!0});var X=O(t);r=A(X,"H3",{});var ie=O(r);i=U(ie,"Create new repo"),ie.forEach(m),s=V(X),o=A(X,"BUTTON",{class:!0});var Ee=O(o);l=U(Ee,"use existing repo instead"),Ee.forEach(m),X.forEach(m),a=V(J),u=A(J,"FORM",{class:!0});var Q=O(u);f=A(Q,"P",{class:!0});var Me=O(f);c=U(Me,"Enter repo name"),Me.forEach(m),d=V(Q),h=A(Q,"DIV",{class:!0});var ce=O(h);Y(p.$$.fragment,ce),g=V(ce),_=A(ce,"BUTTON",{class:!0});var de=O(_);v.l(de),de.forEach(m),ce.forEach(m),Q.forEach(m),E=V(J),k=A(J,"FOOTER",{class:!0});var Te=O(k);N=U(Te,"This repo will be created in your account"),Te.forEach(m),J.forEach(m),this.h()},h(){y(o,"class","svelte-1sielbc"),y(t,"class","svelte-1sielbc"),y(f,"class","form-label svelte-1sielbc"),y(_,"class","primo-button primary svelte-1sielbc"),_.disabled=n[4],y(h,"class","svelte-1sielbc"),y(u,"class","svelte-1sielbc"),y(k,"class","svelte-1sielbc"),y(e,"class","create-repo svelte-1sielbc")},m(K,J){$(K,e,J),w(e,t),w(t,r),w(r,i),w(t,s),w(t,o),w(o,l),w(e,a),w(e,u),w(u,f),w(f,c),w(u,d),w(u,h),q(p,h,null),w(h,g),w(h,_),R[b].m(_,null),w(e,E),w(e,k),w(k,N),C=!0,M||(D=[re(o,"click",I),re(u,"submit",Gi(Z))],M=!0)},p(K,J){n=K;let X=b;b=F(n),b!==X&&(le(),P(R[X],1,1,()=>{R[X]=null}),ae(),v=R[b],v||(v=R[b]=z[b](n),v.c()),S(v,1),v.m(_,null)),(!C||J[0]&16)&&(_.disabled=n[4])},i(K){C||(S(p.$$.fragment,K),S(v),C=!0)},o(K){P(p.$$.fragment,K),P(v),C=!1},d(K){K&&m(e),G(p),R[b].d(),M=!1,Tt(D)}}}function q9(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C;function M(){return n[25](n[34])}let D={ctx:n,current:null,token:null,hasCatch:!1,pending:Z9,then:X9,catch:Y9,value:36,blocks:[,,,]};gm(p=n[9](n[34]),D),_=new yE({props:{type:"submit",label:"Deploy",loading:n[4]}});function I(...z){return n[26](n[34],...z)}return{c(){e=T("div"),t=T("header"),r=T("h3"),i=H("Deploy to existing repo"),s=j(),o=T("button"),l=H("create new repo instead"),a=j(),u=T("form"),f=T("p"),c=H("Select repo"),d=j(),h=T("div"),D.block.c(),g=j(),W(_.$$.fragment),b=j(),v=T("footer"),E=H("On deployment, your site will overwrite the contents of the repo"),this.h()},l(z){e=A(z,"DIV",{class:!0});var R=O(e);t=A(R,"HEADER",{class:!0});var F=O(t);r=A(F,"H3",{});var Z=O(r);i=U(Z,"Deploy to existing repo"),Z.forEach(m),s=V(F),o=A(F,"BUTTON",{class:!0});var K=O(o);l=U(K,"create new repo instead"),K.forEach(m),F.forEach(m),a=V(R),u=A(R,"FORM",{class:!0});var J=O(u);f=A(J,"P",{class:!0});var X=O(f);c=U(X,"Select repo"),X.forEach(m),d=V(J),h=A(J,"DIV",{class:!0});var ie=O(h);D.block.l(ie),g=V(ie),Y(_.$$.fragment,ie),ie.forEach(m),J.forEach(m),b=V(R),v=A(R,"FOOTER",{class:!0});var Ee=O(v);E=U(Ee,"On deployment, your site will overwrite the contents of the repo"),Ee.forEach(m),R.forEach(m),this.h()},h(){y(o,"class","svelte-1sielbc"),y(t,"class","svelte-1sielbc"),y(f,"class","form-label svelte-1sielbc"),y(h,"class","svelte-1sielbc"),y(u,"class","svelte-1sielbc"),y(v,"class","svelte-1sielbc"),y(e,"class","create-repo svelte-1sielbc")},m(z,R){$(z,e,R),w(e,t),w(t,r),w(r,i),w(t,s),w(t,o),w(o,l),w(e,a),w(e,u),w(u,f),w(f,c),w(u,d),w(u,h),D.block.m(h,D.anchor=null),D.mount=()=>h,D.anchor=g,w(h,g),q(_,h,null),w(e,b),w(e,v),w(v,E),k=!0,N||(C=[re(o,"click",M),re(u,"submit",Gi(I))],N=!0)},p(z,R){n=z,D.ctx=n,R[0]&1&&p!==(p=n[9](n[34]))&&gm(p,D)||uT(D,n,R);const F={};R[0]&16&&(F.loading=n[4]),_.$set(F)},i(z){k||(S(D.block),S(_.$$.fragment,z),k=!0)},o(z){for(let R=0;R<3;R+=1){const F=D.blocks[R];P(F)}P(_.$$.fragment,z),k=!1},d(z){z&&m(e),D.block.d(),D.token=null,D=null,G(_),N=!1,Tt(C)}}}function G9(n){let e,t,r,i,s,o,l,a;return{c(){e=T("div"),t=T("button"),r=H("Use existing repo"),i=j(),s=T("button"),o=H("Create new repo"),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=O(e);t=A(f,"BUTTON",{class:!0});var c=O(t);r=U(c,"Use existing repo"),c.forEach(m),i=V(f),s=A(f,"BUTTON",{class:!0});var d=O(s);o=U(d,"Create new repo"),d.forEach(m),f.forEach(m),this.h()},h(){y(t,"class","primo-button svelte-1sielbc"),y(s,"class","primo-button primary svelte-1sielbc"),y(e,"class","buttons svelte-1sielbc")},m(u,f){$(u,e,f),w(e,t),w(t,r),w(e,i),w(e,s),w(s,o),l||(a=[re(t,"click",n[23]),re(s,"click",n[24])],l=!0)},p:_e,i:_e,o:_e,d(u){u&&m(e),l=!1,Tt(a)}}}function K9(n){let e,t;return{c(){e=T("span"),t=H("Deploy")},l(r){e=A(r,"SPAN",{});var i=O(e);t=U(i,"Deploy"),i.forEach(m)},m(r,i){$(r,e,i),w(e,t)},i:_e,o:_e,d(r){r&&m(e)}}}function J9(n){let e,t;return e=new Ze({props:{icon:"eos-icons:loading"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Y9(n){return{c:_e,l:_e,m:_e,p:_e,i:_e,o:_e,d:_e}}function X9(n){let e,t;return e=new _E({props:{options:n[36]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.options=r[36]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Z9(n){let e,t;return e=new kf({}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:_e,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Q9(n){let e,t;return e=new Cf({props:{primary_button:{icon:"mdi:github",label:"Deploy to Github",onclick:n[18]},buttons:[{icon:"mdi:gitlab",label:"Deploy to Gitlab",onclick:n[19]}]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.primary_button={icon:"mdi:github",label:"Deploy to Github",onclick:r[18]}),i[0]&1&&(s.buttons=[{icon:"mdi:gitlab",label:"Deploy to Gitlab",onclick:r[19]}]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function x9(n){let e,t;return e=new Cf({props:{primary_button:{icon:"mdi:gitlab",label:"Deploy to Gitlab",onclick:n[16]},buttons:[{icon:"mdi:github",label:"Connect Github",onclick:n[17]}]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.primary_button={icon:"mdi:gitlab",label:"Deploy to Gitlab",onclick:r[16]}),i[0]&1&&(s.buttons=[{icon:"mdi:github",label:"Connect Github",onclick:r[17]}]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function eV(n){let e,t;return e=new Cf({props:{primary_button:{icon:"mdi:github",label:"Deploy to Github",onclick:n[14]},buttons:[{icon:"mdi:gitlab",label:"Connect Gitlab",onclick:n[15]}]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.primary_button={icon:"mdi:github",label:"Deploy to Github",onclick:r[14]}),i[0]&1&&(s.buttons=[{icon:"mdi:gitlab",label:"Connect Gitlab",onclick:r[15]}]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function tV(n){let e,t;return e=new Cf({props:{primary_button:{icon:"mdi:github",label:"Connect Github",onclick:n[12]},buttons:[{icon:"mdi:gitlab",label:"Connect Gitlab",onclick:n[13]}]}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.primary_button={icon:"mdi:github",label:"Connect Github",onclick:r[12]}),i[0]&1&&(s.buttons=[{icon:"mdi:gitlab",label:"Connect Gitlab",onclick:r[13]}]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function nV(n){let e,t;return e=new Ze({props:{icon:"line-md:loading-twotone-loop"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:_e,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function rV(n){let e,t,r,i,s,o,l=n[10](n[0])+"",a,u,f,c,d,h,p,g,_,b,v,E,k;i=new Ze({props:{icon:"ic:sharp-publish"}}),c=new Ze({props:{icon:"ic:baseline-close"}});const N=[U9,H9,V9,j9],C=[];function M(I,z){return z[0]&1&&(h=null),z[0]&1&&(p=null),z[0]&1&&(g=null),I[0]==="INITIAL"?0:(h==null&&(h=!!I[0].startsWith("AUTHENTICATE")),h?1:(p==null&&(p=!!I[0].startsWith("DEPLOY")),p?2:(g==null&&(g=!!I[0].startsWith("ACTIVE")),g?3:-1)))}function D(I,z){return z===1?F9(I):z===2?B9(I):z===3?z9(I):I}return~(_=M(n,[-1,-1]))&&(b=C[_]=N[_](D(n,_))),{c(){e=T("div"),t=T("header"),r=T("h2"),W(i.$$.fragment),s=j(),o=T("span"),a=H(l),u=j(),f=T("button"),W(c.$$.fragment),d=j(),b&&b.c(),this.h()},l(I){e=A(I,"DIV",{class:!0});var z=O(e);t=A(z,"HEADER",{class:!0});var R=O(t);r=A(R,"H2",{class:!0});var F=O(r);Y(i.$$.fragment,F),s=V(F),o=A(F,"SPAN",{});var Z=O(o);a=U(Z,l),Z.forEach(m),F.forEach(m),u=V(R),f=A(R,"BUTTON",{class:!0});var K=O(f);Y(c.$$.fragment,K),K.forEach(m),R.forEach(m),d=V(z),b&&b.l(z),z.forEach(m),this.h()},h(){y(r,"class","svelte-1sielbc"),y(f,"class","svelte-1sielbc"),y(t,"class","svelte-1sielbc"),y(e,"class","Deploy primo-reset svelte-1sielbc")},m(I,z){$(I,e,z),w(e,t),w(t,r),q(i,r,null),w(r,s),w(r,o),w(o,a),w(t,u),w(t,f),q(c,f,null),w(e,d),~_&&C[_].m(e,null),v=!0,E||(k=re(f,"click",n[11]),E=!0)},p(I,z){(!v||z[0]&1)&&l!==(l=I[10](I[0])+"")&&Se(a,l);let R=_;_=M(I,z),_===R?~_&&C[_].p(D(I,_),z):(b&&(le(),P(C[R],1,1,()=>{C[R]=null}),ae()),~_?(b=C[_],b?b.p(D(I,_),z):(b=C[_]=N[_](D(I,_)),b.c()),S(b,1),b.m(e,null)):b=null)},i(I){v||(S(i.$$.fragment,I),S(c.$$.fragment,I),S(b),v=!0)},o(I){P(i.$$.fragment,I),P(c.$$.fragment,I),P(b),v=!1},d(I){I&&m(e),G(i),G(c),~_&&C[_].d(),E=!1,k()}}}let kE,wE;Tr(()=>import("./jszip.min.bcb06938.js").then(n=>n.j),[],import.meta.url).then(n=>kE=n.default);Tr(()=>Promise.resolve().then(()=>YW),void 0,import.meta.url).then(n=>wE=n.saveAs);function iV(n,e,t){var ce,de,Te,Oe;let r,i,s,o;me(n,Ba,B=>t(5,r=B)),me(n,xt,B=>t(31,i=B)),me(n,Co,B=>t(32,s=B)),me(n,vi,B=>t(33,o=B));let l="INITIAL";r&&(l="ACTIVE");let a=!1,u=(de=(ce=i.active_deployment)==null?void 0:ce.repo)==null?void 0:de.owner;u?a=!0:ds.get("/api/deploy/user?provider=github").then(({data:B})=>{B&&(t(2,u=B),t(1,a=!0))}).catch(B=>{console.error({e:B}),t(1,a=!0)});let f=(Oe=(Te=i.active_deployment)==null?void 0:Te.repo)==null?void 0:Oe.owner;f||ds.get("/api/deploy/user?provider=gitlab").then(({data:B})=>{B&&(t(3,f=B),t(1,a=!0))}).catch(B=>{console.error({e:B}),t(1,a=!0)});async function c(){t(4,_=!0);const B=await bE({pages:o,symbols:s});if(!B){t(4,_=!1);return}const we=await x(B);wE(we,`${i.name}.zip`),nr.hide();async function x(te){const Ae=new kE;return te.forEach(({path:it,content:Nt})=>{Ae.file(it,Nt)}),await Ae.generateAsync({type:"blob"})}}async function d(B,we){const x=B.target[0].value;let te;if(we==="github"){const Ae=await ds.get("https://api.github.com/user",{headers:{Authorization:`Bearer ${x}`,Accept:"application/vnd.github.v3+json"}});te=Ae.data,t(2,u=Ae.data)}else if(we==="gitlab"){const Ae=await ds.get("https://gitlab.com/api/v4/user",{headers:{Authorization:`Bearer ${x}`}});te=Ae.data,t(3,f=Ae.data)}te&&(t(0,l=`DEPLOY--${we}`),await Fe({table:"config",action:"upsert",id:`${we}_token`,data:{id:`${we}_token`,value:x,options:{user:te}}}))}async function h({name:B,provider:we,create_repo:x=!1}){t(4,_=!0);const te=await T9({repo_name:B,provider:we},x);te?(Ut(Ba,r=te,r),t(0,l="ACTIVE__DEPLOYED")):alert("Could not deploy to repo"),t(4,_=!1)}async function p(B){const{data:we}=await ds.get(`/api/deploy/repos?provider=${B}`);return we}const g=B=>{const we={INITIAL:"Deploy Site","DEPLOY--github":"Deploy to Github Repo","DEPLOY--gitlab":"Deploy to Gitlab Repo","AUTHENTICATE--github":"Authenticate GitHub Account","AUTHENTICATE--gitlab":"Authenticate GitLab Account",ACTIVE:"Deploy to Repo"};return new Proxy(we,{get(te,Ae,it){const[Nt,Ft]=Object.entries(te).find(([ze])=>Ae.startsWith(ze));return Ft}})[B]};let _=!1;return[l,a,u,f,_,r,c,d,h,p,g,()=>nr.hide(),()=>t(0,l="AUTHENTICATE--github"),()=>t(0,l="AUTHENTICATE--gitlab"),()=>t(0,l="DEPLOY--github"),()=>t(0,l="DEPLOY--gitlab"),()=>t(0,l="DEPLOY--gitlab"),()=>t(0,l="AUTHENTICATE--github"),()=>t(0,l="DEPLOY--github"),()=>t(0,l="DEPLOY--gitlab"),()=>t(0,l="INITIAL"),(B,we)=>d(we,B),B=>t(0,l=`AUTHENTICATE--${B}`),()=>t(0,l=t(0,l+="--USE_EXISTING")),()=>t(0,l=t(0,l+="--CREATE_REPO")),B=>t(0,l=`DEPLOY--${B}--CREATE_REPO`),(B,{target:we})=>{h({name:we[0].value,provider:B})},B=>t(0,l=`DEPLOY--${B}--USE_EXISTING`),(B,we,{target:x})=>{h({name:`${B.username}/${x[0].value}`,create_repo:!0,provider:we})},B=>t(0,l=`DEPLOY--${B}`),B=>h({name:r.repo.full_name,provider:B})]}class sV extends Ie{constructor(e){super(),$e(this,e,iV,rV,Le,{},null,[-1,-1])}}const oV=n=>({}),x_=n=>({}),lV=n=>({}),e1=n=>({}),aV=n=>({}),t1=n=>({}),uV=n=>({}),n1=n=>({}),fV=n=>({}),r1=n=>({});function cV(n){let e,t,r,i;const s=n[24].left,o=at(s,n,n[23],e1),l=o||hV();let a=!n[5]&&i1(n);return{c(){e=T("div"),l&&l.c(),t=j(),a&&a.c(),r=ge(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=O(e);l&&l.l(f),f.forEach(m),t=V(u),a&&a.l(u),r=ge(),this.h()},h(){y(e,"class","left svelte-1fjhocu"),ee(e,"overflow-hidden",n[10]),ee(e,"transitioning",n[13])},m(u,f){$(u,e,f),l&&l.m(e,null),n[30](e),$(u,t,f),a&&a.m(u,f),$(u,r,f),i=!0},p(u,f){o&&o.p&&(!i||f[0]&8388608)&&ut(o,s,u,u[23],i?ct(s,u[23],f,lV):ft(u[23]),e1),(!i||f[0]&1024)&&ee(e,"overflow-hidden",u[10]),(!i||f[0]&8192)&&ee(e,"transitioning",u[13]),u[5]?a&&(le(),P(a,1,1,()=>{a=null}),ae()):a?(a.p(u,f),f[0]&32&&S(a,1)):(a=i1(u),a.c(),S(a,1),a.m(r.parentNode,r))},i(u){i||(S(l,u),S(a),i=!0)},o(u){P(l,u),P(a),i=!1},d(u){u&&m(e),l&&l.d(u),n[30](null),u&&m(t),a&&a.d(u),u&&m(r)}}}function dV(n){let e,t,r,i,s,o,l,a,u,f;const c=n[24].left,d=at(c,n,n[23],r1),h=d||mV(),p=n[24].center,g=at(p,n,n[23],n1),_=g||gV();let b=!n[5]&&s1(n);return{c(){e=T("div"),h&&h.c(),t=j(),r=T("div"),i=j(),s=T("div"),_&&_.c(),o=j(),b&&b.c(),l=ge(),this.h()},l(v){e=A(v,"DIV",{class:!0});var E=O(e);h&&h.l(E),E.forEach(m),t=V(v),r=A(v,"DIV",{class:!0}),O(r).forEach(m),i=V(v),s=A(v,"DIV",{class:!0});var k=O(s);_&&_.l(k),k.forEach(m),o=V(v),b&&b.l(v),l=ge(),this.h()},h(){y(e,"class","left svelte-1fjhocu"),ee(e,"overflow-hidden",n[10]),ee(e,"transitioning",n[13]),y(r,"class","separator svelte-1fjhocu"),ee(r,"dragging",n[14]),y(s,"class","center svelte-1fjhocu"),ee(s,"transitioning",n[13])},m(v,E){$(v,e,E),h&&h.m(e,null),n[25](e),$(v,t,E),$(v,r,E),n[26](r),$(v,i,E),$(v,s,E),_&&_.m(s,null),n[27](s),$(v,o,E),b&&b.m(v,E),$(v,l,E),a=!0,u||(f=[re(r,"mousedown",n[18]),re(r,"touchstart",n[18])],u=!0)},p(v,E){d&&d.p&&(!a||E[0]&8388608)&&ut(d,c,v,v[23],a?ct(c,v[23],E,fV):ft(v[23]),r1),(!a||E[0]&1024)&&ee(e,"overflow-hidden",v[10]),(!a||E[0]&8192)&&ee(e,"transitioning",v[13]),(!a||E[0]&16384)&&ee(r,"dragging",v[14]),g&&g.p&&(!a||E[0]&8388608)&&ut(g,p,v,v[23],a?ct(p,v[23],E,uV):ft(v[23]),n1),(!a||E[0]&8192)&&ee(s,"transitioning",v[13]),v[5]?b&&(le(),P(b,1,1,()=>{b=null}),ae()):b?(b.p(v,E),E[0]&32&&S(b,1)):(b=s1(v),b.c(),S(b,1),b.m(l.parentNode,l))},i(v){a||(S(h,v),S(_,v),S(b),a=!0)},o(v){P(h,v),P(_,v),P(b),a=!1},d(v){v&&m(e),h&&h.d(v),n[25](null),v&&m(t),v&&m(r),n[26](null),v&&m(i),v&&m(s),_&&_.d(v),n[27](null),v&&m(o),b&&b.d(v),v&&m(l),u=!1,Tt(f)}}}function hV(n){let e,t;return{c(){e=T("div"),t=H("Left Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Left Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","red")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function i1(n){let e,t,r,i,s,o;const l=n[24].right,a=at(l,n,n[23],x_),u=a||pV();return{c(){e=T("div"),t=j(),r=T("div"),u&&u.c(),this.h()},l(f){e=A(f,"DIV",{class:!0}),O(e).forEach(m),t=V(f),r=A(f,"DIV",{class:!0});var c=O(r);u&&u.l(c),c.forEach(m),this.h()},h(){y(e,"class","separator svelte-1fjhocu"),ee(e,"dragging",n[14]),y(r,"class","right svelte-1fjhocu"),ee(r,"transitioning",n[13])},m(f,c){$(f,e,c),n[31](e),$(f,t,c),$(f,r,c),u&&u.m(r,null),n[32](r),i=!0,s||(o=[re(e,"mousedown",n[18]),re(e,"touchstart",n[18])],s=!0)},p(f,c){(!i||c[0]&16384)&&ee(e,"dragging",f[14]),a&&a.p&&(!i||c[0]&8388608)&&ut(a,l,f,f[23],i?ct(l,f[23],c,oV):ft(f[23]),x_),(!i||c[0]&8192)&&ee(r,"transitioning",f[13])},i(f){i||(S(u,f),i=!0)},o(f){P(u,f),i=!1},d(f){f&&m(e),n[31](null),f&&m(t),f&&m(r),u&&u.d(f),n[32](null),s=!1,Tt(o)}}}function pV(n){let e,t;return{c(){e=T("div"),t=H("Right Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Right Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function mV(n){let e,t;return{c(){e=T("div"),t=H("Left Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Left Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","red")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function gV(n){let e,t;return{c(){e=T("div"),t=H("Center Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Center Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function s1(n){let e,t,r,i,s,o;const l=n[24].right,a=at(l,n,n[23],t1),u=a||_V();return{c(){e=T("div"),t=j(),r=T("div"),u&&u.c(),this.h()},l(f){e=A(f,"DIV",{class:!0}),O(e).forEach(m),t=V(f),r=A(f,"DIV",{class:!0});var c=O(r);u&&u.l(c),c.forEach(m),this.h()},h(){y(e,"class","separator svelte-1fjhocu"),ee(e,"dragging",n[14]),y(r,"class","right svelte-1fjhocu"),ee(r,"transitioning",n[13])},m(f,c){$(f,e,c),n[28](e),$(f,t,c),$(f,r,c),u&&u.m(r,null),n[29](r),i=!0,s||(o=[re(e,"mousedown",n[19]),re(e,"touchstart",n[19])],s=!0)},p(f,c){(!i||c[0]&16384)&&ee(e,"dragging",f[14]),a&&a.p&&(!i||c[0]&8388608)&&ut(a,l,f,f[23],i?ct(l,f[23],c,aV):ft(f[23]),t1),(!i||c[0]&8192)&&ee(r,"transitioning",f[13])},i(f){i||(S(u,f),i=!0)},o(f){P(u,f),i=!1},d(f){f&&m(e),n[28](null),f&&m(t),f&&m(r),u&&u.d(f),n[29](null),s=!1,Tt(o)}}}function _V(n){let e,t;return{c(){e=T("div"),t=H("Right Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Right Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function vV(n){let e,t,r,i,s;const o=[dV,cV],l=[];function a(u,f){return u[20].center?0:1}return t=a(n),r=l[t]=o[t](n),{c(){e=T("div"),r.c(),this.h()},l(u){e=A(u,"DIV",{class:!0,style:!0});var f=O(e);r.l(f),f.forEach(m),this.h()},h(){y(e,"class",i="wrapper "+n[9]+" svelte-1fjhocu"),Re(e,"--left-pane-size",n[0]),Re(e,"--min-left-pane-size",n[6]),Re(e,"--center-pane-size",n[1]),Re(e,"--min-center-pane-size",n[7]),Re(e,"--right-pane-size",n[2]),Re(e,"--min-right-pane-size",n[8]),Re(e,"--top-pane-size",n[3]),Re(e,"--bottom-pane-size",n[4])},m(u,f){$(u,e,f),l[t].m(e,null),s=!0},p(u,f){let c=t;t=a(u),t===c?l[t].p(u,f):(le(),P(l[c],1,1,()=>{l[c]=null}),ae(),r=l[t],r?r.p(u,f):(r=l[t]=o[t](u),r.c()),S(r,1),r.m(e,null)),(!s||f[0]&512&&i!==(i="wrapper "+u[9]+" svelte-1fjhocu"))&&y(e,"class",i),(!s||f[0]&1)&&Re(e,"--left-pane-size",u[0]),(!s||f[0]&64)&&Re(e,"--min-left-pane-size",u[6]),(!s||f[0]&2)&&Re(e,"--center-pane-size",u[1]),(!s||f[0]&128)&&Re(e,"--min-center-pane-size",u[7]),(!s||f[0]&4)&&Re(e,"--right-pane-size",u[2]),(!s||f[0]&256)&&Re(e,"--min-right-pane-size",u[8]),(!s||f[0]&8)&&Re(e,"--top-pane-size",u[3]),(!s||f[0]&16)&&Re(e,"--bottom-pane-size",u[4])},i(u){s||(S(r),s=!0)},o(u){P(r),s=!1},d(u){u&&m(e),l[t].d()}}}let ss=0;function bV(n,e,t){let{$$slots:r={},$$scope:i}=e;const s=cy(r),o=Ct();let l,a,u=!1,f=!1,{resetSize:c=()=>{t(13,u=!0),k?(k.removeAttribute("style"),t(2,R="33%"),t(0,M="33%"),t(1,I="33%")):(t(2,R="50%"),t(0,M="50%")),N&&N.removeAttribute("style"),l&&l.removeAttribute("style"),a&&a.removeAttribute("style"),setTimeout(()=>{t(13,u=!1)},100)}}=e,{updateCallback:d=()=>{}}=e,h;const p=B=>{t(14,f=!0),o("mousedown",B),B.preventDefault(),B.button===0&&(h={e:B,leftOffsetLeft:l.offsetLeft,leftOffsetTop:l.offsetTop,rightOffsetLeft:a?a.offsetLeft:null,rightOffsetTop:a?a.offsetTop:null,firstWidth:E.offsetWidth,centerWidth:k?k.offsetWidth:null,secondWidth:N.offsetWidth,firstHeight:E.offsetHeight,secondHeight:N.offsetHeight},window.addEventListener("mousemove",g),window.addEventListener("mouseup",v),window.addEventListener("touchmove",g),window.addEventListener("touchend",v))},g=B=>{if(B.preventDefault(),B.button===0){var we={x:B.clientX-h.e.clientX,y:B.clientY-h.e.clientY};if(s.center)if(R==="0"){const x=h.firstWidth+we.x;t(0,M=x>=ss?x+"px":0);const te=h.centerWidth-we.x;t(1,I=te>=ss?te+"px":0)}else{const x=h.firstWidth+we.x/2;t(0,M=x>=0?x+"px":0);const te=h.centerWidth+we.x/2;t(1,I=te>=ss?te+"px":0);const Ae=h.secondWidth-we.x;t(2,R=Ae>=ss?Ae+"px":0)}else{const x={top:h.firstHeight+we.y,bottom:h.secondHeight-we.y,left:h.firstWidth+we.x,right:h.secondWidth-we.x},te={top:0,left:0,right:0,bottom:37};if(J==="vertical"){if(te.top>x.top){const Ae=x.top-te.top+3;x.top=x.top-Ae+3,x.bottom=x.bottom+Ae}else if(te.bottom>x.bottom){const Ae=x.bottom-te.bottom;x.top=x.top+Ae+3,x.bottom=x.bottom-Ae+3}else x.top=x.top+3,x.bottom=x.bottom+3;t(4,K=x.bottom+"px"),t(3,Z=x.top+"px")}else if(J==="horizontal"){if(te.left>x.left){const Ae=x.left-te.left;x.left=x.left-Ae,x.right=x.right+Ae}else if(te.right>x.right){const Ae=x.right-te.right;x.left=x.left+Ae,x.right=x.right-Ae}t(0,M=x.left+"px"),t(2,R=x.right+"px")}}d()}},_=B=>{t(14,f=!0),o("mousedown",B),B.preventDefault(),B.button===0&&(h={e:B,leftOffsetLeft:l.offsetLeft,leftOffsetTop:l.offsetTop,rightOffsetLeft:a.offsetLeft,rightOffsetTop:a.offsetTop,firstWidth:E.offsetWidth,centerWidth:k.offsetWidth,secondWidth:N.offsetWidth},window.addEventListener("mousemove",b),window.addEventListener("mouseup",v),window.addEventListener("touchmove",b),window.addEventListener("touchend",v))},b=B=>{if(B.preventDefault(),B.button===0){var we={x:B.clientX-h.e.clientX,y:B.clientY-h.e.clientY};if(we.x=Math.min(Math.max(we.x,-(h.secondWidth+h.centerWidth)),h.firstWidth+h.centerWidth),s.center){const x=h.firstWidth+we.x/2;t(0,M=x>=ss?x+"px":0);const te=h.centerWidth+we.x/2;t(1,I=te>=ss?te+"px":0);const Ae=h.secondWidth-we.x;t(2,R=Ae>=ss?Ae+"px":0)}else t(0,M=h.firstWidth+we.x+"px"),t(2,R=h.secondWidth-we.x+"px");d()}},v=B=>{t(14,f=!1),!(B&&(B.preventDefault(),B.button!==0))&&(d(),window.removeEventListener("mousemove",g),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",g),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",v))};qu(()=>{}),Ml(()=>{});let E,k,N,{hideRightPanel:C=!1}=e,{leftPaneSize:M=s.center?"33%":"66%"}=e,{minLeftPaneSize:D="1.5rem"}=e,{centerPaneSize:I="33%"}=e,{minCenterPaneSize:z="1.5rem"}=e,{rightPaneSize:R=s.center?"33%":"66%"}=e,{minRightPaneSize:F="1.5rem"}=e,{topPaneSize:Z="50%"}=e,{bottomPaneSize:K="50%"}=e,{orientation:J="horizontal"}=e,{hideLeftOverflow:X=!1}=e;function ie(B){se[B?"unshift":"push"](()=>{E=B,t(15,E)})}function Ee(B){se[B?"unshift":"push"](()=>{l=B,t(11,l)})}function Q(B){se[B?"unshift":"push"](()=>{k=B,t(16,k)})}function Me(B){se[B?"unshift":"push"](()=>{a=B,t(12,a)})}function ce(B){se[B?"unshift":"push"](()=>{N=B,t(17,N)})}function de(B){se[B?"unshift":"push"](()=>{E=B,t(15,E)})}function Te(B){se[B?"unshift":"push"](()=>{l=B,t(11,l)})}function Oe(B){se[B?"unshift":"push"](()=>{N=B,t(17,N)})}return n.$$set=B=>{"resetSize"in B&&t(21,c=B.resetSize),"updateCallback"in B&&t(22,d=B.updateCallback),"hideRightPanel"in B&&t(5,C=B.hideRightPanel),"leftPaneSize"in B&&t(0,M=B.leftPaneSize),"minLeftPaneSize"in B&&t(6,D=B.minLeftPaneSize),"centerPaneSize"in B&&t(1,I=B.centerPaneSize),"minCenterPaneSize"in B&&t(7,z=B.minCenterPaneSize),"rightPaneSize"in B&&t(2,R=B.rightPaneSize),"minRightPaneSize"in B&&t(8,F=B.minRightPaneSize),"topPaneSize"in B&&t(3,Z=B.topPaneSize),"bottomPaneSize"in B&&t(4,K=B.bottomPaneSize),"orientation"in B&&t(9,J=B.orientation),"hideLeftOverflow"in B&&t(10,X=B.hideLeftOverflow),"$$scope"in B&&t(23,i=B.$$scope)},[M,I,R,Z,K,C,D,z,F,J,X,l,a,u,f,E,k,N,p,_,s,c,d,i,r,ie,Ee,Q,Me,ce,de,Te,Oe]}let Tp=class extends Ie{constructor(e){super(),$e(this,e,bV,vV,Le,{resetSize:21,updateCallback:22,hideRightPanel:5,leftPaneSize:0,minLeftPaneSize:6,centerPaneSize:1,minCenterPaneSize:7,rightPaneSize:2,minRightPaneSize:8,topPaneSize:3,bottomPaneSize:4,orientation:9,hideLeftOverflow:10},null,[-1,-1])}};const yV=n=>({}),o1=n=>({});function kV(n){let e;return{c(){e=T("div"),this.h()},l(t){e=A(t,"DIV",{class:!0});var r=O(e);r.forEach(m),this.h()},h(){y(e,"class","svg svelte-1req0mj")},m(t,r){$(t,e,r),e.innerHTML=n[2]},p(t,r){r&4&&(e.innerHTML=t[2])},i:_e,o:_e,d(t){t&&m(e)}}}function wV(n){let e,t,r;return t=new Ze({props:{icon:n[1]}}),{c(){e=T("span"),W(t.$$.fragment),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","icon svelte-1req0mj")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s&2&&(o.icon=i[1]),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function EV(n){let e,t,r,i,s,o;const l=[wV,kV],a=[];function u(f,c){return f[1]?0:f[2]?1:-1}return~(e=u(n))&&(t=a[e]=l[e](n)),{c(){t&&t.c(),r=j(),i=T("span"),s=H(n[3]),this.h()},l(f){t&&t.l(f),r=V(f),i=A(f,"SPAN",{class:!0});var c=O(i);s=U(c,n[3]),c.forEach(m),this.h()},h(){y(i,"class","modal-title svelte-1req0mj")},m(f,c){~e&&a[e].m(f,c),$(f,r,c),$(f,i,c),w(i,s),o=!0},p(f,c){let d=e;e=u(f),e===d?~e&&a[e].p(f,c):(t&&(le(),P(a[d],1,1,()=>{a[d]=null}),ae()),~e?(t=a[e],t?t.p(f,c):(t=a[e]=l[e](f),t.c()),S(t,1),t.m(r.parentNode,r)):t=null),(!o||c&8)&&Se(s,f[3])},i(f){o||(S(t),o=!0)},o(f){P(t),o=!1},d(f){~e&&a[e].d(f),f&&m(r),f&&m(i)}}}function l1(n){return{c:_e,l:_e,m:_e,d:_e}}function SV(n){let e,t,r,i=n[4].label+"",s,o,l,a,u=n[4].icon&&a1(n);return{c(){e=T("a"),u&&u.c(),t=j(),r=T("span"),s=H(i),this.h()},l(f){e=A(f,"A",{class:!0,disabled:!0,href:!0,target:!0});var c=O(e);u&&u.l(c),t=V(c),r=A(c,"SPAN",{class:!0});var d=O(r);s=U(d,i),d.forEach(m),c.forEach(m),this.h()},h(){y(r,"class","svelte-1req0mj"),y(e,"class","primo-button primary svelte-1req0mj"),y(e,"disabled",o=n[4].loading||n[4].disabled),y(e,"href",l=n[4].href),y(e,"target","blank")},m(f,c){$(f,e,c),u&&u.m(e,null),w(e,t),w(e,r),w(r,s),a=!0},p(f,c){f[4].icon?u?(u.p(f,c),c&16&&S(u,1)):(u=a1(f),u.c(),S(u,1),u.m(e,t)):u&&(le(),P(u,1,1,()=>{u=null}),ae()),(!a||c&16)&&i!==(i=f[4].label+"")&&Se(s,i),(!a||c&16&&o!==(o=f[4].loading||f[4].disabled))&&y(e,"disabled",o),(!a||c&16&&l!==(l=f[4].href))&&y(e,"href",l)},i(f){a||(S(u),a=!0)},o(f){P(u),a=!1},d(f){f&&m(e),u&&u.d()}}}function TV(n){let e,t,r,i=n[4].label+"",s,o,l,a,u,f=n[4].icon&&u1(n);return{c(){e=T("button"),f&&f.c(),t=j(),r=T("span"),s=H(i),this.h()},l(c){e=A(c,"BUTTON",{class:!0});var d=O(e);f&&f.l(d),t=V(d),r=A(d,"SPAN",{class:!0});var h=O(r);s=U(h,i),h.forEach(m),d.forEach(m),this.h()},h(){y(r,"class","svelte-1req0mj"),y(e,"class","primo-button primary svelte-1req0mj"),e.disabled=o=n[4].loading||n[4].disabled},m(c,d){$(c,e,d),f&&f.m(e,null),w(e,t),w(e,r),w(r,s),l=!0,a||(u=re(e,"click",function(){vo(n[4].onclick)&&n[4].onclick.apply(this,arguments)}),a=!0)},p(c,d){n=c,n[4].icon?f?(f.p(n,d),d&16&&S(f,1)):(f=u1(n),f.c(),S(f,1),f.m(e,t)):f&&(le(),P(f,1,1,()=>{f=null}),ae()),(!l||d&16)&&i!==(i=n[4].label+"")&&Se(s,i),(!l||d&16&&o!==(o=n[4].loading||n[4].disabled))&&(e.disabled=o)},i(c){l||(S(f),l=!0)},o(c){P(f),l=!1},d(c){c&&m(e),f&&f.d(),a=!1,u()}}}function a1(n){let e,t;return e=new Ze({props:{icon:n[4].loading?"gg:spinner":n[4].icon}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.icon=r[4].loading?"gg:spinner":r[4].icon),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function u1(n){let e,t;return e=new Ze({props:{icon:n[4].loading?"gg:spinner":n[4].icon}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&16&&(s.icon=r[4].loading?"gg:spinner":r[4].icon),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function AV(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b;const v=n[12].title,E=at(v,n,n[11],o1),k=E||EV(n),N=n[12].default,C=at(N,n,n[11],null);let M=!n[6]&&!n[7].hideLocaleSelector&&n[5]&&l1();const D=[TV,SV],I=[];function z(R,F){return R[4]&&R[4].onclick?0:R[4]&&R[4].href?1:-1}return~(d=z(n))&&(h=I[d]=D[d](n)),{c(){e=T("header"),t=T("div"),r=T("button"),i=ir("svg"),s=ir("path"),o=j(),l=T("div"),k&&k.c(),a=j(),u=T("div"),C&&C.c(),f=j(),M&&M.c(),c=j(),h&&h.c(),this.h()},l(R){e=A(R,"HEADER",{class:!0});var F=O(e);t=A(F,"DIV",{class:!0});var Z=O(t);r=A(Z,"BUTTON",{type:!0,"aria-label":!0,class:!0});var K=O(r);i=sr(K,"svg",{stroke:!0,fill:!0,viewBox:!0,class:!0});var J=O(i);s=sr(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(s).forEach(m),J.forEach(m),K.forEach(m),Z.forEach(m),o=V(F),l=A(F,"DIV",{class:!0});var X=O(l);k&&k.l(X),X.forEach(m),a=V(F),u=A(F,"DIV",{class:!0});var ie=O(u);C&&C.l(ie),f=V(ie),M&&M.l(ie),c=V(ie),h&&h.l(ie),ie.forEach(m),F.forEach(m),this.h()},h(){y(s,"stroke-linecap","round"),y(s,"stroke-linejoin","round"),y(s,"stroke-width","2"),y(s,"d","M6 18L18 6M6 6l12 12"),y(i,"stroke","currentColor"),y(i,"fill","none"),y(i,"viewBox","0 0 24 24"),y(i,"class","svelte-1req0mj"),y(r,"type","button"),y(r,"aria-label","Close modal"),y(r,"class","svelte-1req0mj"),y(t,"class","left-container svelte-1req0mj"),y(l,"class","center-container svelte-1req0mj"),y(u,"class","right-container svelte-1req0mj"),y(e,"class",p=Rn(n[0])+" svelte-1req0mj")},m(R,F){$(R,e,F),w(e,t),w(t,r),w(r,i),w(i,s),w(e,o),w(e,l),k&&k.m(l,null),w(e,a),w(e,u),C&&C.m(u,null),w(u,f),M&&M.m(u,null),w(u,c),~d&&I[d].m(u,null),g=!0,_||(b=re(r,"click",n[8]),_=!0)},p(R,[F]){E?E.p&&(!g||F&2048)&&ut(E,v,R,R[11],g?ct(v,R[11],F,yV):ft(R[11]),o1):k&&k.p&&(!g||F&14)&&k.p(R,g?F:-1),C&&C.p&&(!g||F&2048)&&ut(C,N,R,R[11],g?ct(N,R[11],F,null):ft(R[11]),null),!R[6]&&!R[7].hideLocaleSelector&&R[5]?M||(M=l1(),M.c(),M.m(u,c)):M&&(M.d(1),M=null);let Z=d;d=z(R),d===Z?~d&&I[d].p(R,F):(h&&(le(),P(I[Z],1,1,()=>{I[Z]=null}),ae()),~d?(h=I[d],h?h.p(R,F):(h=I[d]=D[d](R),h.c()),S(h,1),h.m(u,null)):h=null),(!g||F&1&&p!==(p=Rn(R[0])+" svelte-1req0mj"))&&y(e,"class",p)},i(R){g||(S(k,R),S(C,R),S(h),g=!0)},o(R){P(k,R),P(C,R),P(h),g=!1},d(R){R&&m(e),k&&k.d(R),C&&C.d(R),M&&M.d(),~d&&I[d].d(),_=!1,b()}}}function OV(n,e,t){let r,i;me(n,Cs,_=>t(6,r=_)),me(n,nr,_=>t(7,i=_));let{$$slots:s={},$$scope:o}=e,{variants:l=""}=e,{icon:a=""}=e,{svg:u=""}=e,{title:f=""}=e,{button:c=null}=e,{warn:d=()=>!0}=e,{onclose:h=()=>{}}=e,{showLocaleSelector:p=!0}=e;function g(){d()&&(h(),nr.hide())}return n.$$set=_=>{"variants"in _&&t(0,l=_.variants),"icon"in _&&t(1,a=_.icon),"svg"in _&&t(2,u=_.svg),"title"in _&&t(3,f=_.title),"button"in _&&t(4,c=_.button),"warn"in _&&t(9,d=_.warn),"onclose"in _&&t(10,h=_.onclose),"showLocaleSelector"in _&&t(5,p=_.showLocaleSelector),"$$scope"in _&&t(11,o=_.$$scope)},[l,a,u,f,c,p,r,i,g,d,h,o,s]}class Po extends Ie{constructor(e){super(),$e(this,e,OV,AV,Le,{variants:0,icon:1,svg:2,title:3,button:4,warn:9,onclose:10,showLocaleSelector:5})}}var EE={exports:{}};(function(n){(function(e,t,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},a,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function f(M,D,I){if(M.addEventListener){M.addEventListener(D,I,!1);return}M.attachEvent("on"+D,I)}function c(M){if(M.type=="keypress"){var D=String.fromCharCode(M.which);return M.shiftKey||(D=D.toLowerCase()),D}return i[M.which]?i[M.which]:s[M.which]?s[M.which]:String.fromCharCode(M.which).toLowerCase()}function d(M,D){return M.sort().join(",")===D.sort().join(",")}function h(M){var D=[];return M.shiftKey&&D.push("shift"),M.altKey&&D.push("alt"),M.ctrlKey&&D.push("ctrl"),M.metaKey&&D.push("meta"),D}function p(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function g(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function _(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function b(){if(!a){a={};for(var M in i)M>95&&M<112||i.hasOwnProperty(M)&&(a[i[M]]=M)}return a}function v(M,D,I){return I||(I=b()[M]?"keydown":"keypress"),I=="keypress"&&D.length&&(I="keydown"),I}function E(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function k(M,D){var I,z,R,F=[];for(I=E(M),R=0;R<I.length;++R)z=I[R],l[z]&&(z=l[z]),D&&D!="keypress"&&o[z]&&(z=o[z],F.push("shift")),_(z)&&F.push(z);return D=v(z,F,D),{key:z,modifiers:F,action:D}}function N(M,D){return M===null||M===t?!1:M===D?!0:N(M.parentNode,D)}function C(M){var D=this;if(M=M||t,!(D instanceof C))return new C(M);D.target=M,D._callbacks={},D._directMap={};var I={},z,R=!1,F=!1,Z=!1;function K(ce){ce=ce||{};var de=!1,Te;for(Te in I){if(ce[Te]){de=!0;continue}I[Te]=0}de||(Z=!1)}function J(ce,de,Te,Oe,B,we){var x,te,Ae=[],it=Te.type;if(!D._callbacks[ce])return[];for(it=="keyup"&&_(ce)&&(de=[ce]),x=0;x<D._callbacks[ce].length;++x)if(te=D._callbacks[ce][x],!(!Oe&&te.seq&&I[te.seq]!=te.level)&&it==te.action&&(it=="keypress"&&!Te.metaKey&&!Te.ctrlKey||d(de,te.modifiers))){var Nt=!Oe&&te.combo==B,Ft=Oe&&te.seq==Oe&&te.level==we;(Nt||Ft)&&D._callbacks[ce].splice(x,1),Ae.push(te)}return Ae}function X(ce,de,Te,Oe){D.stopCallback(de,de.target||de.srcElement,Te,Oe)||ce(de,Te)===!1&&(p(de),g(de))}D._handleKey=function(ce,de,Te){var Oe=J(ce,de,Te),B,we={},x=0,te=!1;for(B=0;B<Oe.length;++B)Oe[B].seq&&(x=Math.max(x,Oe[B].level));for(B=0;B<Oe.length;++B){if(Oe[B].seq){if(Oe[B].level!=x)continue;te=!0,we[Oe[B].seq]=1,X(Oe[B].callback,Te,Oe[B].combo,Oe[B].seq);continue}te||X(Oe[B].callback,Te,Oe[B].combo)}var Ae=Te.type=="keypress"&&F;Te.type==Z&&!_(ce)&&!Ae&&K(we),F=te&&Te.type=="keydown"};function ie(ce){typeof ce.which!="number"&&(ce.which=ce.keyCode);var de=c(ce);if(de){if(ce.type=="keyup"&&R===de){R=!1;return}D.handleKey(de,h(ce),ce)}}function Ee(){clearTimeout(z),z=setTimeout(K,1e3)}function Q(ce,de,Te,Oe){I[ce]=0;function B(it){return function(){Z=it,++I[ce],Ee()}}function we(it){X(Te,it,ce),Oe!=="keyup"&&(R=c(it)),setTimeout(K,10)}for(var x=0;x<de.length;++x){var te=x+1===de.length,Ae=te?we:B(Oe||k(de[x+1]).action);Me(de[x],Ae,Oe,ce,x)}}function Me(ce,de,Te,Oe,B){D._directMap[ce+":"+Te]=de,ce=ce.replace(/\s+/g," ");var we=ce.split(" "),x;if(we.length>1){Q(ce,we,de,Te);return}x=k(ce,Te),D._callbacks[x.key]=D._callbacks[x.key]||[],J(x.key,x.modifiers,{type:x.action},Oe,ce,B),D._callbacks[x.key][Oe?"unshift":"push"]({callback:de,modifiers:x.modifiers,action:x.action,seq:Oe,level:B,combo:ce})}D._bindMultiple=function(ce,de,Te){for(var Oe=0;Oe<ce.length;++Oe)Me(ce[Oe],de,Te)},f(M,"keypress",ie),f(M,"keydown",ie),f(M,"keyup",ie)}C.prototype.bind=function(M,D,I){var z=this;return M=M instanceof Array?M:[M],z._bindMultiple.call(z,M,D,I),z},C.prototype.unbind=function(M,D){var I=this;return I.bind.call(I,M,function(){},D)},C.prototype.trigger=function(M,D){var I=this;return I._directMap[M+":"+D]&&I._directMap[M+":"+D]({},M),I},C.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},C.prototype.stopCallback=function(M,D){var I=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||N(D,I.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var z=M.composedPath()[0];z!==M.target&&(D=z)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},C.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},C.addKeycodes=function(M){for(var D in M)M.hasOwnProperty(D)&&(i[D]=M[D]);a=null},C.init=function(){var M=C(t);for(var D in M)D.charAt(0)!=="_"&&(C[D]=function(I){return function(){return M[I].apply(M,arguments)}}(D))},C.init(),e.Mousetrap=C,n.exports&&(n.exports=C),typeof r=="function"&&r.amd&&r(function(){return C})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(EE);var xs=EE.exports;const SE=hh(xs);function CV(n){let e,t,r,i,s;function o(f){n[57](f)}function l(f){n[58](f)}function a(f){n[59](f)}let u={hideLeftOverflow:!0,$$slots:{right:[BV],center:[$V],left:[DV]},$$scope:{ctx:n}};return n[9]!==void 0&&(u.leftPaneSize=n[9]),n[8]!==void 0&&(u.centerPaneSize=n[8]),n[7]!==void 0&&(u.rightPaneSize=n[7]),e=new Tp({props:u}),se.push(()=>be(e,"leftPaneSize",o)),se.push(()=>be(e,"centerPaneSize",l)),se.push(()=>be(e,"rightPaneSize",a)),{c(){W(e.$$.fragment)},l(f){Y(e.$$.fragment,f)},m(f,c){q(e,f,c),s=!0},p(f,c){const d={};c[0]&7127|c[1]&1073741824&&(d.$$scope={dirty:c,ctx:f}),!t&&c[0]&512&&(t=!0,d.leftPaneSize=f[9],Ne(()=>t=!1)),!r&&c[0]&256&&(r=!0,d.centerPaneSize=f[8],Ne(()=>r=!1)),!i&&c[0]&128&&(i=!0,d.rightPaneSize=f[7],Ne(()=>i=!1)),e.$set(d)},i(f){s||(S(e.$$.fragment,f),s=!0)},o(f){P(e.$$.fragment,f),s=!1},d(f){G(e,f)}}}function MV(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M=n[11]&&h1(n);return{c(){e=T("div"),t=T("div"),r=T("ul"),i=T("li"),s=T("button"),o=T("span"),l=H("HTML"),a=j(),u=T("li"),f=T("button"),c=T("span"),d=H("CSS"),h=j(),p=T("li"),g=T("button"),_=T("span"),b=H("JS"),v=j(),M&&M.c(),this.h()},l(D){e=A(D,"DIV",{class:!0});var I=O(e);t=A(I,"DIV",{class:!0});var z=O(t);r=A(z,"UL",{class:!0});var R=O(r);i=A(R,"LI",{class:!0});var F=O(i);s=A(F,"BUTTON",{class:!0});var Z=O(s);o=A(Z,"SPAN",{class:!0});var K=O(o);l=U(K,"HTML"),K.forEach(m),Z.forEach(m),F.forEach(m),a=V(R),u=A(R,"LI",{class:!0});var J=O(u);f=A(J,"BUTTON",{class:!0});var X=O(f);c=A(X,"SPAN",{class:!0});var ie=O(c);d=U(ie,"CSS"),ie.forEach(m),X.forEach(m),J.forEach(m),h=V(R),p=A(R,"LI",{class:!0});var Ee=O(p);g=A(Ee,"BUTTON",{class:!0});var Q=O(g);_=A(Q,"SPAN",{class:!0});var Me=O(_);b=U(Me,"JS"),Me.forEach(m),Q.forEach(m),Ee.forEach(m),R.forEach(m),z.forEach(m),v=V(I),M&&M.l(I),I.forEach(m),this.h()},h(){y(o,"class","svelte-5mz1xg"),y(s,"class","svelte-5mz1xg"),y(i,"class","svelte-5mz1xg"),ee(i,"is-active",n[5]===0),y(c,"class","svelte-5mz1xg"),y(f,"class","svelte-5mz1xg"),y(u,"class","svelte-5mz1xg"),ee(u,"is-active",n[5]===1),y(_,"class","svelte-5mz1xg"),y(g,"class","svelte-5mz1xg"),y(p,"class","svelte-5mz1xg"),ee(p,"is-active",n[5]===2),y(r,"class","svelte-5mz1xg"),y(t,"class","tabs svelte-5mz1xg"),y(e,"class",E="mobile-tabs "+n[3]+" svelte-5mz1xg")},m(D,I){$(D,e,I),w(e,t),w(t,r),w(r,i),w(i,s),w(s,o),w(o,l),w(r,a),w(r,u),w(u,f),w(f,c),w(c,d),w(r,h),w(r,p),w(p,g),w(g,_),w(_,b),w(e,v),M&&M.m(e,null),k=!0,N||(C=[re(s,"click",n[15]),re(f,"click",n[16]),re(g,"click",n[17])],N=!0)},p(D,I){(!k||I[0]&32)&&ee(i,"is-active",D[5]===0),(!k||I[0]&32)&&ee(u,"is-active",D[5]===1),(!k||I[0]&32)&&ee(p,"is-active",D[5]===2),D[11]?M?(M.p(D,I),I[0]&2048&&S(M,1)):(M=h1(D),M.c(),S(M,1),M.m(e,null)):M&&(le(),P(M,1,1,()=>{M=null}),ae()),(!k||I[0]&8&&E!==(E="mobile-tabs "+D[3]+" svelte-5mz1xg"))&&y(e,"class",E)},i(D){k||(S(M),k=!0)},o(D){P(M),k=!1},d(D){D&&m(e),M&&M.d(),N=!1,Tt(C)}}}function PV(n){let e,t;return{c(){e=T("span"),t=H("HTML"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"HTML"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function NV(n){let e,t;return{c(){e=T("span"),t=H("⌘ 1"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"⌘ 1"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function f1(n){let e,t,r,i,s;function o(f){n[51](f)}function l(f){n[52](f)}var a=n[11];function u(f){let c={mode:"html",docs:"https://docs.primo.so/development#html",data:f[4]};return f[0]!==void 0&&(c.value=f[0]),f[6].html!==void 0&&(c.selection=f[6].html),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",n[53]),e.$on("change",n[54]),e.$on("save",n[55]),e.$on("refresh",n[56])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(c[0]&16&&(d.data=f[4]),!t&&c[0]&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),!r&&c[0]&64&&(r=!0,d.selection=f[6].html,Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",f[53]),e.$on("change",f[54]),e.$on("save",f[55]),e.$on("refresh",f[56]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function DV(n){let e,t,r,i,s,o;function l(c,d){return c[12]?NV:PV}let a=l(n),u=a(n),f=n[11]&&f1(n);return{c(){e=T("div"),t=T("button"),u.c(),r=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{slot:!0,class:!0});var d=O(e);t=A(d,"BUTTON",{class:!0});var h=O(t);u.l(h),h.forEach(m),r=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(t,"class","svelte-5mz1xg"),ee(t,"tab-hidden",n[9]<="0"),y(e,"slot","left"),y(e,"class","tabs svelte-5mz1xg")},m(c,d){$(c,e,d),w(e,t),u.m(t,null),w(e,r),f&&f.m(e,null),i=!0,s||(o=re(t,"click",n[50]),s=!0)},p(c,d){a!==(a=l(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),(!i||d[0]&512)&&ee(t,"tab-hidden",c[9]<="0"),c[11]?f?(f.p(c,d),d[0]&2048&&S(f,1)):(f=f1(c),f.c(),S(f,1),f.m(e,null)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){i||(S(f),i=!0)},o(c){P(f),i=!1},d(c){c&&m(e),u.d(),f&&f.d(),s=!1,o()}}}function RV(n){let e,t;return{c(){e=T("span"),t=H("CSS"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"CSS"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function IV(n){let e,t;return{c(){e=T("span"),t=H("⌘ 2"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"⌘ 2"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function c1(n){let e,t,r,i,s;function o(f){n[44](f)}function l(f){n[45](f)}var a=n[11];function u(f){let c={mode:"css",docs:"https://docs.primo.so/development#css"};return f[6].css!==void 0&&(c.selection=f[6].css),f[1]!==void 0&&(c.value=f[1]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[46]),e.$on("change",n[47]),e.$on("save",n[48]),e.$on("refresh",n[49])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&64&&(t=!0,d.selection=f[6].css,Ne(()=>t=!1)),!r&&c[0]&2&&(r=!0,d.value=f[1],Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[46]),e.$on("change",f[47]),e.$on("save",f[48]),e.$on("refresh",f[49]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function $V(n){let e,t,r,i,s,o;function l(c,d){return c[12]?IV:RV}let a=l(n),u=a(n),f=n[11]&&c1(n);return{c(){e=T("div"),t=T("button"),u.c(),r=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{slot:!0,class:!0});var d=O(e);t=A(d,"BUTTON",{class:!0});var h=O(t);u.l(h),h.forEach(m),r=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(t,"class","svelte-5mz1xg"),ee(t,"tab-hidden",n[8]<="0"),y(e,"slot","center"),y(e,"class","tabs svelte-5mz1xg")},m(c,d){$(c,e,d),w(e,t),u.m(t,null),w(e,r),f&&f.m(e,null),i=!0,s||(o=re(t,"click",n[43]),s=!0)},p(c,d){a!==(a=l(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),(!i||d[0]&256)&&ee(t,"tab-hidden",c[8]<="0"),c[11]?f?(f.p(c,d),d[0]&2048&&S(f,1)):(f=c1(c),f.c(),S(f,1),f.m(e,null)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){i||(S(f),i=!0)},o(c){P(f),i=!1},d(c){c&&m(e),u.d(),f&&f.d(),s=!1,o()}}}function LV(n){let e,t;return{c(){e=T("span"),t=H("JS"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"JS"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function zV(n){let e,t;return{c(){e=T("span"),t=H("⌘ 3"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"⌘ 3"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function d1(n){let e,t,r,i,s;function o(f){n[37](f)}function l(f){n[38](f)}var a=n[11];function u(f){let c={mode:"javascript",docs:"https://docs.primo.so/development#javascript"};return f[6].js!==void 0&&(c.selection=f[6].js),f[2]!==void 0&&(c.value=f[2]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[39]),e.$on("change",n[40]),e.$on("save",n[41]),e.$on("refresh",n[42])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&64&&(t=!0,d.selection=f[6].js,Ne(()=>t=!1)),!r&&c[0]&4&&(r=!0,d.value=f[2],Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[39]),e.$on("change",f[40]),e.$on("save",f[41]),e.$on("refresh",f[42]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function BV(n){let e,t,r,i,s,o;function l(c,d){return c[12]?zV:LV}let a=l(n),u=a(n),f=n[11]&&d1(n);return{c(){e=T("div"),t=T("button"),u.c(),r=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{slot:!0,class:!0});var d=O(e);t=A(d,"BUTTON",{class:!0});var h=O(t);u.l(h),h.forEach(m),r=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(t,"class","svelte-5mz1xg"),ee(t,"tab-hidden",n[7]<="0"),y(e,"slot","right"),y(e,"class","tabs svelte-5mz1xg")},m(c,d){$(c,e,d),w(e,t),u.m(t,null),w(e,r),f&&f.m(e,null),i=!0,s||(o=re(t,"click",n[36]),s=!0)},p(c,d){a!==(a=l(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),(!i||d[0]&128)&&ee(t,"tab-hidden",c[7]<="0"),c[11]?f?(f.p(c,d),d[0]&2048&&S(f,1)):(f=d1(c),f.c(),S(f,1),f.m(e,null)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){i||(S(f),i=!0)},o(c){P(f),i=!1},d(c){c&&m(e),u.d(),f&&f.d(),s=!1,o()}}}function h1(n){let e,t,r,i;const s=[VV,jV,FV],o=[];function l(a,u){return a[5]===0?0:a[5]===1?1:2}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function FV(n){let e,t,r,i,s;function o(f){n[30](f)}function l(f){n[31](f)}var a=n[11];function u(f){let c={docs:"https://docs.primo.so/development#javascript",mode:"javascript"};return f[6].js!==void 0&&(c.selection=f[6].js),f[2]!==void 0&&(c.value=f[2]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[32]),e.$on("change",n[33]),e.$on("save",n[34]),e.$on("refresh",n[35])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&64&&(t=!0,d.selection=f[6].js,Ne(()=>t=!1)),!r&&c[0]&4&&(r=!0,d.value=f[2],Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[32]),e.$on("change",f[33]),e.$on("save",f[34]),e.$on("refresh",f[35]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function jV(n){let e,t,r,i,s;function o(f){n[24](f)}function l(f){n[25](f)}var a=n[11];function u(f){let c={mode:"css",docs:"https://docs.primo.so/development#css"};return f[6].css!==void 0&&(c.selection=f[6].css),f[1]!==void 0&&(c.value=f[1]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[26]),e.$on("change",n[27]),e.$on("save",n[28]),e.$on("refresh",n[29])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&64&&(t=!0,d.selection=f[6].css,Ne(()=>t=!1)),!r&&c[0]&2&&(r=!0,d.value=f[1],Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[26]),e.$on("change",f[27]),e.$on("save",f[28]),e.$on("refresh",f[29]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function VV(n){let e,t,r,i,s;function o(f){n[18](f)}function l(f){n[19](f)}var a=n[11];function u(f){let c={mode:"html",docs:"https://docs.primo.so/development#html",data:f[4]};return f[0]!==void 0&&(c.value=f[0]),f[6].html!==void 0&&(c.selection=f[6].html),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",n[20]),e.$on("change",n[21]),e.$on("save",n[22]),e.$on("refresh",n[23])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(c[0]&16&&(d.data=f[4]),!t&&c[0]&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),!r&&c[0]&64&&(r=!0,d.selection=f[6].html,Ne(()=>r=!1)),c[0]&2048&&a!==(a=f[11])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",f[20]),e.$on("change",f[21]),e.$on("save",f[22]),e.$on("refresh",f[23]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function HV(n){let e,t,r,i;const s=[MV,CV],o=[];function l(a,u){return a[10]?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}const Ac=je("33%"),Oc=je("33%"),Cc=je("33%"),p1=je({html:!0,css:!0,js:!0}),TE=je(null);Tr(()=>import("./CodeMirror.cb546cbb.js"),["./CodeMirror.cb546cbb.js","./preload-helper.a4192956.js","./index.7ce6af5d.js","./index.ffa02d79.js","../assets/CodeMirror.f33dab8f.css"],import.meta.url).then(n=>{TE.set(n.default)});function UV(n,e,t){let r,i,s,o,l,a,u;me(n,p1,he=>t(60,r=he)),me(n,Cc,he=>t(7,i=he)),me(n,Oc,he=>t(8,s=he)),me(n,Ac,he=>t(9,o=he)),me(n,Ln,he=>t(10,l=he)),me(n,TE,he=>t(11,a=he)),me(n,Lw,he=>t(12,u=he));const f=Ct();let{variants:c=""}=e,{data:d={}}=e,{html:h=""}=e,{css:p=""}=e,{js:g=""}=e;xs.bind(["mod+1"],()=>v(0)),xs.bind(["mod+2"],()=>v(1)),xs.bind(["mod+3"],()=>v(2));let _=0,b={html:0,css:0,js:0};function v(he){const Mt={0:"html",1:"css",2:"js"}[he];Ut(p1,r={...r,[Mt]:!r[Mt]},r);const qt=Object.values(r).filter(Boolean).length;if(!qt)return;const vr=100/qt;Ut(Ac,o=r.html?`${vr}%`:"0",o),Ut(Oc,s=r.css?`${vr}%`:"0",s),Ut(Cc,i=r.js?`${vr}%`:"0",i)}!p&&r.css&&v(1),!g&&r.js&&v(2);const E=()=>t(5,_=0),k=()=>t(5,_=1),N=()=>t(5,_=2);function C(he){h=he,t(0,h)}function M(he){n.$$.not_equal(b.html,he)&&(b.html=he,t(6,b))}const D=()=>v(0),I=()=>f("htmlChange");function z(he){mt.call(this,n,he)}function R(he){mt.call(this,n,he)}function F(he){n.$$.not_equal(b.css,he)&&(b.css=he,t(6,b))}function Z(he){p=he,t(1,p)}const K=()=>v(1),J=()=>f("cssChange");function X(he){mt.call(this,n,he)}function ie(he){mt.call(this,n,he)}function Ee(he){n.$$.not_equal(b.js,he)&&(b.js=he,t(6,b))}function Q(he){g=he,t(2,g)}const Me=()=>v(2),ce=()=>f("jsChange");function de(he){mt.call(this,n,he)}function Te(he){mt.call(this,n,he)}const Oe=()=>v(2);function B(he){n.$$.not_equal(b.js,he)&&(b.js=he,t(6,b))}function we(he){g=he,t(2,g)}const x=({detail:he})=>v(he),te=()=>f("jsChange");function Ae(he){mt.call(this,n,he)}function it(he){mt.call(this,n,he)}const Nt=()=>v(1);function Ft(he){n.$$.not_equal(b.css,he)&&(b.css=he,t(6,b))}function ze(he){p=he,t(1,p)}const bt=({detail:he})=>v(he),ve=()=>f("cssChange");function ke(he){mt.call(this,n,he)}function ue(he){mt.call(this,n,he)}const nt=()=>v(0);function Qe(he){h=he,t(0,h)}function pe(he){n.$$.not_equal(b.html,he)&&(b.html=he,t(6,b))}const fe=({detail:he})=>v(he),Ue=()=>f("htmlChange");function Je(he){mt.call(this,n,he)}function qe(he){mt.call(this,n,he)}function ne(he){o=he,Ac.set(o)}function Ge(he){s=he,Oc.set(s)}function Xe(he){i=he,Cc.set(i)}return n.$$set=he=>{"variants"in he&&t(3,c=he.variants),"data"in he&&t(4,d=he.data),"html"in he&&t(0,h=he.html),"css"in he&&t(1,p=he.css),"js"in he&&t(2,g=he.js)},[h,p,g,c,d,_,b,i,s,o,l,a,u,f,v,E,k,N,C,M,D,I,z,R,F,Z,K,J,X,ie,Ee,Q,Me,ce,de,Te,Oe,B,we,x,te,Ae,it,Nt,Ft,ze,bt,ve,ke,ue,nt,Qe,pe,fe,Ue,Je,qe,ne,Ge,Xe]}let AE=class extends Ie{constructor(e){super(),$e(this,e,UV,HV,Le,{variants:3,data:4,html:0,css:1,js:2},null,[-1,-1])}};function WV(n){let e,t,r,i=n[0].type+"",s,o;return{c(){e=T("p"),t=H("The "),r=T("strong"),s=H(i),o=H(`
	field doesn't exist. Consider updating Primo.`),this.h()},l(l){e=A(l,"P",{class:!0});var a=O(e);t=U(a,"The "),r=A(a,"STRONG",{});var u=O(r);s=U(u,i),u.forEach(m),o=U(a,`
	field doesn't exist. Consider updating Primo.`),a.forEach(m),this.h()},h(){y(e,"class","svelte-1dm09zz")},m(l,a){$(l,e,a),w(e,t),w(e,r),w(r,s),w(e,o)},p(l,[a]){a&1&&i!==(i=l[0].type+"")&&Se(s,i)},i:_e,o:_e,d(l){l&&m(e)}}}function qV(n,e,t){let{field:r}=e;return n.$$set=i=>{"field"in i&&t(0,r=i.field)},[r]}class OE extends Ie{constructor(e){super(),$e(this,e,qV,WV,Le,{field:0})}}var ls,aa,Xo=typeof Map=="function"?new Map:(ls=[],aa=[],{has:function(n){return ls.indexOf(n)>-1},get:function(n){return aa[ls.indexOf(n)]},set:function(n,e){ls.indexOf(n)===-1&&(ls.push(n),aa.push(e))},delete:function(n){var e=ls.indexOf(n);e>-1&&(ls.splice(e,1),aa.splice(e,1))}}),CE=function(n){return new Event(n,{bubbles:!0})};try{new Event("test")}catch{CE=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function GV(n){var e=Xo.get(n);e&&e.destroy()}function KV(n){var e=Xo.get(n);e&&e.update()}var Uo=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((Uo=function(n){return n}).destroy=function(n){return n},Uo.update=function(n){return n}):((Uo=function(n,e){return n&&Array.prototype.forEach.call(n.length?n:[n],function(t){return function(r){if(r&&r.nodeName&&r.nodeName==="TEXTAREA"&&!Xo.has(r)){var i,s=null,o=null,l=null,a=function(){r.clientWidth!==o&&d()},u=(function(h){window.removeEventListener("resize",a,!1),r.removeEventListener("input",d,!1),r.removeEventListener("keyup",d,!1),r.removeEventListener("autosize:destroy",u,!1),r.removeEventListener("autosize:update",d,!1),Object.keys(h).forEach(function(p){r.style[p]=h[p]}),Xo.delete(r)}).bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",u,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),r.addEventListener("input",d,!1),r.addEventListener("autosize:update",d,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",Xo.set(r,{destroy:u,update:d}),(i=window.getComputedStyle(r,null)).resize==="vertical"?r.style.resize="none":i.resize==="both"&&(r.style.resize="horizontal"),s=i.boxSizing==="content-box"?-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),isNaN(s)&&(s=0),d()}function f(h){var p=r.style.width;r.style.width="0px",r.style.width=p,r.style.overflowY=h}function c(){if(r.scrollHeight!==0){var h=function(p){for(var g=[];p&&p.parentNode&&p.parentNode instanceof Element;)p.parentNode.scrollTop&&(p.parentNode.style.scrollBehavior="auto",g.push([p.parentNode,p.parentNode.scrollTop])),p=p.parentNode;return function(){return g.forEach(function(_){var b=_[0];b.scrollTop=_[1],b.style.scrollBehavior=null})}}(r);r.style.height="",r.style.height=r.scrollHeight+s+"px",o=r.clientWidth,h()}}function d(){c();var h=Math.round(parseFloat(r.style.height)),p=window.getComputedStyle(r,null),g=p.boxSizing==="content-box"?Math.round(parseFloat(p.height)):r.offsetHeight;if(g<h?p.overflowY==="hidden"&&(f("scroll"),c(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):p.overflowY!=="hidden"&&(f("hidden"),c(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),l!==g){l=g;var _=CE("autosize:resized");try{r.dispatchEvent(_)}catch{}}}}(t)}),n}).destroy=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],GV),n},Uo.update=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],KV),n});var ME=Uo;const JV=n=>({label:n&2,button:n&1}),m1=n=>({label:n[1],button:n[0]});function YV(n){let e;const t=n[6].default,r=at(t,n,n[5],m1);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,[s]){r&&r.p&&(!e||s&35)&&ut(r,t,i,i[5],e?ct(t,i[5],s,JV):ft(i[5]),m1)},i(i){e||(S(r,i),e=!0)},o(i){P(r,i),e=!1},d(i){r&&r.d(i)}}}function XV(n,e,t){let r,i;const s=["id","toggled","disabled"];let o=jr(e,s),{$$slots:l={},$$scope:a}=e,{id:u="toggle"+Math.random().toString(36)}=e,{toggled:f=!0}=e,{disabled:c=!1}=e;return n.$$set=d=>{e=Rt(Rt({},e),Ss(d)),t(7,o=jr(e,s)),"id"in d&&t(2,u=d.id),"toggled"in d&&t(3,f=d.toggled),"disabled"in d&&t(4,c=d.disabled),"$$scope"in d&&t(5,a=d.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&t(1,r={for:u}),t(0,i={...o,id:u,disabled:c,"aria-checked":f,type:"button",role:"switch"})},[i,r,u,f,c,a,l]}class ZV extends Ie{constructor(e){super(),$e(this,e,XV,YV,Le,{id:2,toggled:3,disabled:4})}}const QV=ZV;const xV=n=>({toggled:n&1}),g1=n=>({toggled:n[0]});function _1(n){let e,t=(n[0]?n[5]:n[6])+"",r;return{c(){e=T("span"),r=H(t),this.h()},l(i){e=A(i,"SPAN",{class:!0});var s=O(e);r=U(s,t),s.forEach(m),this.h()},h(){y(e,"class","svelte-8jq8hp")},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&97&&t!==(t=(i[0]?i[5]:i[6])+"")&&Se(r,t)},d(i){i&&m(e)}}}function eH(n){let e,t=n[5]&&n[6]&&_1(n);return{c(){t&&t.c(),e=ge()},l(r){t&&t.l(r),e=ge()},m(r,i){t&&t.m(r,i),$(r,e,i)},p(r,i){r[5]&&r[6]?t?t.p(r,i):(t=_1(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&m(e)}}}function tH(n){let e,t,r,i,s,o,l,a,u,f,c=[n[19]],d={};for(let v=0;v<c.length;v+=1)d=Rt(d,c[v]);let h=[n[10],n[20],{style:o="color: "+n[7]+"; background-color: "+(n[0]?n[8]:n[9])+"; "+n[10].style},{disabled:n[4]}],p={};for(let v=0;v<h.length;v+=1)p=Rt(p,h[v]);const g=n[11].default,_=at(g,n,n[17],g1),b=_||eH(n);return{c(){e=T("label"),t=H(n[1]),r=j(),i=T("div"),s=T("button"),l=j(),b&&b.c(),this.h()},l(v){e=A(v,"LABEL",{});var E=O(e);t=U(E,n[1]),E.forEach(m),r=V(v),i=A(v,"DIV",{class:!0});var k=O(i);s=A(k,"BUTTON",{style:!0}),O(s).forEach(m),l=V(k),b&&b.l(k),k.forEach(m),this.h()},h(){$r(e,d),ee(e,"hideLabel",n[2]),ee(e,"svelte-8jq8hp",!0),$r(s,p),ee(s,"small",n[3]),ee(s,"svelte-8jq8hp",!0),y(i,"class","svelte-8jq8hp")},m(v,E){$(v,e,E),w(e,t),$(v,r,E),$(v,i,E),w(i,s),s.autofocus&&s.focus(),w(i,l),b&&b.m(i,null),a=!0,u||(f=[re(s,"click",n[12]),re(s,"click",n[15]),re(s,"focus",n[13]),re(s,"blur",n[14])],u=!0)},p(v,E){(!a||E&2)&&fT(t,v[1],d.contenteditable),$r(e,d=jn(c,[E&524288&&v[19]])),ee(e,"hideLabel",v[2]),ee(e,"svelte-8jq8hp",!0),$r(s,p=jn(h,[E&1024&&v[10],E&1048576&&v[20],(!a||E&1921&&o!==(o="color: "+v[7]+"; background-color: "+(v[0]?v[8]:v[9])+"; "+v[10].style))&&{style:o},(!a||E&16)&&{disabled:v[4]}])),ee(s,"small",v[3]),ee(s,"svelte-8jq8hp",!0),_?_.p&&(!a||E&131073)&&ut(_,g,v,v[17],a?ct(g,v[17],E,xV):ft(v[17]),g1):b&&b.p&&(!a||E&97)&&b.p(v,a?E:-1)},i(v){a||(S(b,v),a=!0)},o(v){P(b,v),a=!1},d(v){v&&m(e),v&&m(r),v&&m(i),b&&b.d(v),u=!1,Tt(f)}}}function nH(n){let e,t,r;function i(o){n[16](o)}let s={$$slots:{default:[tH,({label:o,button:l})=>({19:o,20:l}),({label:o,button:l})=>(o?524288:0)|(l?1048576:0)]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.toggled=n[0]),e=new QV({props:s}),se.push(()=>be(e,"toggled",i)),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,[l]){const a={};l&1705983&&(a.$$scope={dirty:l,ctx:o}),!t&&l&1&&(t=!0,a.toggled=o[0],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function rH(n,e,t){const r=["toggled","label","hideLabel","small","disabled","on","off","switchColor","toggledColor","untoggledColor"];let i=jr(e,r),{$$slots:s={},$$scope:o}=e,{toggled:l=!0}=e,{label:a="Label"}=e,{hideLabel:u=!1}=e,{small:f=!1}=e,{disabled:c=!1}=e,{on:d=void 0}=e,{off:h=void 0}=e,{switchColor:p="#fff"}=e,{toggledColor:g="#0f62fe"}=e,{untoggledColor:_="#8d8d8d"}=e;const b=Ct();function v(M){mt.call(this,n,M)}function E(M){mt.call(this,n,M)}function k(M){mt.call(this,n,M)}const N=()=>t(0,l=!l);function C(M){l=M,t(0,l)}return n.$$set=M=>{e=Rt(Rt({},e),Ss(M)),t(10,i=jr(e,r)),"toggled"in M&&t(0,l=M.toggled),"label"in M&&t(1,a=M.label),"hideLabel"in M&&t(2,u=M.hideLabel),"small"in M&&t(3,f=M.small),"disabled"in M&&t(4,c=M.disabled),"on"in M&&t(5,d=M.on),"off"in M&&t(6,h=M.off),"switchColor"in M&&t(7,p=M.switchColor),"toggledColor"in M&&t(8,g=M.toggledColor),"untoggledColor"in M&&t(9,_=M.untoggledColor),"$$scope"in M&&t(17,o=M.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&b("toggle",l)},[l,a,u,f,c,d,h,p,g,_,i,s,v,E,k,N,C,o]}class iH extends Ie{constructor(e){super(),$e(this,e,rH,nH,Le,{toggled:0,label:1,hideLabel:2,small:3,disabled:4,on:5,off:6,switchColor:7,toggledColor:8,untoggledColor:9})}}const sH=iH;function v1(n,e,t){const r=n.slice();return r[18]=e[t],r}function b1(n,e,t){const r=n.slice();return r[11]=e[t].on_click,r[1]=e[t].icon,r[12]=e[t].label,r[13]=e[t].submenu,r}function oH(n){const e=n.slice(),t=e[3];return e[16]=t.title,e[0]=t.options,e[17]=t.button,e}function y1(n){let e,t,r,i,s;const o=[aH,lH],l=[];function a(f,c){return f[3]?f[3]?1:-1:0}function u(f,c){return c===1?oH(f):f}return~(t=a(n))&&(r=l[t]=o[t](u(n,t))),{c(){e=T("div"),r&&r.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var c=O(e);r&&r.l(c),c.forEach(m),this.h()},h(){y(e,"class","popup svelte-7d6bmh")},m(f,c){$(f,e,c),~t&&l[t].m(e,null),s=!0},p(f,c){let d=t;t=a(f),t===d?~t&&l[t].p(u(f,t),c):(r&&(le(),P(l[d],1,1,()=>{l[d]=null}),ae()),~t?(r=l[t],r?r.p(u(f,t),c):(r=l[t]=o[t](u(f,t)),r.c()),S(r,1),r.m(e,null)):r=null)},i(f){s||(S(r),i||Yt(()=>{i=qr(e,Gr,{duration:100}),i.start()}),s=!0)},o(f){P(r),s=!1},d(f){f&&m(e),~t&&l[t].d()}}}function lH(n){let e,t,r,i=n[16]+"",s,o,l,a,u,f,c,d,h,p,g;a=new Ze({props:{icon:"carbon:close"}});let _=n[0],b=[];for(let E=0;E<_.length;E+=1)b[E]=k1(v1(n,_,E));let v=n[17]&&w1(n);return{c(){e=T("div"),t=T("header"),r=T("span"),s=H(i),o=j(),l=T("button"),W(a.$$.fragment),u=j(),f=T("div");for(let E=0;E<b.length;E+=1)b[E].c();c=j(),v&&v.c(),this.h()},l(E){e=A(E,"DIV",{class:!0});var k=O(e);t=A(k,"HEADER",{class:!0});var N=O(t);r=A(N,"SPAN",{class:!0});var C=O(r);s=U(C,i),C.forEach(m),o=V(N),l=A(N,"BUTTON",{class:!0});var M=O(l);Y(a.$$.fragment,M),M.forEach(m),N.forEach(m),u=V(k),f=A(k,"DIV",{class:!0});var D=O(f);for(let I=0;I<b.length;I+=1)b[I].l(D);D.forEach(m),c=V(k),v&&v.l(k),k.forEach(m),this.h()},h(){y(r,"class","svelte-7d6bmh"),y(l,"class","svelte-7d6bmh"),y(t,"class","svelte-7d6bmh"),y(f,"class","suboptions"),y(e,"class","submenu svelte-7d6bmh")},m(E,k){$(E,e,k),w(e,t),w(t,r),w(r,s),w(t,o),w(t,l),q(a,l,null),w(e,u),w(e,f);for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(f,null);w(e,c),v&&v.m(e,null),h=!0,p||(g=re(l,"click",n[7]),p=!0)},p(E,k){if((!h||k&8)&&i!==(i=E[16]+"")&&Se(s,i),k&24){_=E[0];let N;for(N=0;N<_.length;N+=1){const C=v1(E,_,N);b[N]?b[N].p(C,k):(b[N]=k1(C),b[N].c(),b[N].m(f,null))}for(;N<b.length;N+=1)b[N].d(1);b.length=_.length}E[17]?v?v.p(E,k):(v=w1(E),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(E){h||(S(a.$$.fragment,E),d||Yt(()=>{d=qr(e,Gr,{duration:100}),d.start()}),h=!0)},o(E){P(a.$$.fragment,E),h=!1},d(E){E&&m(e),G(a),Kt(b,E),v&&v.d(),p=!1,g()}}}function aH(n){let e,t,r=n[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=E1(b1(n,r,o));const s=o=>P(i[o],1,1,()=>{i[o]=null});return{c(){e=T("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var l=O(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(m),this.h()},h(){y(e,"class","options")},m(o,l){$(o,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,l){if(l&13){r=o[0];let a;for(a=0;a<r.length;a+=1){const u=b1(o,r,a);i[a]?(i[a].p(u,l),S(i[a],1)):(i[a]=E1(u),i[a].c(),S(i[a],1),i[a].m(e,null))}for(le(),a=r.length;a<i.length;a+=1)s(a);ae()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)S(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)P(i[l]);t=!1},d(o){o&&m(e),Kt(i,o)}}}function k1(n){let e,t=n[18].label+"",r,i,s,o;function l(){return n[8](n[18])}return{c(){e=T("button"),r=H(t),i=j(),this.h()},l(a){e=A(a,"BUTTON",{class:!0});var u=O(e);r=U(u,t),i=V(u),u.forEach(m),this.h()},h(){var a;y(e,"class","svelte-7d6bmh"),ee(e,"selected",((a=n[4])==null?void 0:a.id)===n[18].id)},m(a,u){$(a,e,u),w(e,r),w(e,i),s||(o=re(e,"click",l),s=!0)},p(a,u){var f;n=a,u&8&&t!==(t=n[18].label+"")&&Se(r,t),u&24&&ee(e,"selected",((f=n[4])==null?void 0:f.id)===n[18].id)},d(a){a&&m(e),s=!1,o()}}}function w1(n){let e,t,r=n[17].label+"",i,s,o,l;function a(){return n[9](n[17])}return{c(){e=T("footer"),t=T("button"),i=H(r),this.h()},l(u){e=A(u,"FOOTER",{class:!0});var f=O(e);t=A(f,"BUTTON",{class:!0});var c=O(t);i=U(c,r),c.forEach(m),f.forEach(m),this.h()},h(){t.disabled=s=!n[4],y(t,"class","svelte-7d6bmh"),y(e,"class","svelte-7d6bmh")},m(u,f){$(u,e,f),w(e,t),w(t,i),o||(l=re(t,"click",a),o=!0)},p(u,f){n=u,f&8&&r!==(r=n[17].label+"")&&Se(i,r),f&16&&s!==(s=!n[4])&&(t.disabled=s)},d(u){u&&m(e),o=!1,l()}}}function uH(n){let e,t,r,i,s=n[12]+"",o,l,a,u,f;t=new Ze({props:{icon:n[1]}});function c(...d){return n[6](n[11],n[13],...d)}return{c(){e=T("button"),W(t.$$.fragment),r=j(),i=T("span"),o=H(s),l=j(),this.h()},l(d){e=A(d,"BUTTON",{class:!0});var h=O(e);Y(t.$$.fragment,h),r=V(h),i=A(h,"SPAN",{});var p=O(i);o=U(p,s),p.forEach(m),l=V(h),h.forEach(m),this.h()},h(){y(e,"class","svelte-7d6bmh")},m(d,h){$(d,e,h),q(t,e,null),w(e,r),w(e,i),w(i,o),w(e,l),a=!0,u||(f=re(e,"click",c),u=!0)},p(d,h){n=d;const p={};h&1&&(p.icon=n[1]),t.$set(p),(!a||h&1)&&s!==(s=n[12]+"")&&Se(o,s)},i(d){a||(S(t.$$.fragment,d),a=!0)},o(d){P(t.$$.fragment,d),a=!1},d(d){d&&m(e),G(t),u=!1,f()}}}function fH(n){let e;return{c(){e=T("hr"),this.h()},l(t){e=A(t,"HR",{class:!0}),this.h()},h(){y(e,"class","svelte-7d6bmh")},m(t,r){$(t,e,r)},p:_e,i:_e,o:_e,d(t){t&&m(e)}}}function E1(n){let e,t,r,i;const s=[fH,uH],o=[];function l(a,u){return a[12]==="DIVIDER"?0:a[12]?1:-1}return~(e=l(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=ge()},l(a){t&&t.l(a),r=ge()},m(a,u){~e&&o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?~e&&o[e].p(a,u):(t&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){~e&&o[e].d(a),a&&m(r)}}}function cH(n){let e,t,r,i,s,o;t=new _T({props:{icon:n[1]}}),t.$on("click",n[5]);let l=n[2]&&y1(n);return{c(){e=T("div"),W(t.$$.fragment),r=j(),l&&l.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var u=O(e);Y(t.$$.fragment,u),r=V(u),l&&l.l(u),u.forEach(m),this.h()},h(){y(e,"class","MenuPopup svelte-7d6bmh")},m(a,u){$(a,e,u),q(t,e,null),w(e,r),l&&l.m(e,null),i=!0,s||(o=[Gu(v6.call(null,e)),re(e,"click_outside",n[10])],s=!0)},p(a,[u]){const f={};u&2&&(f.icon=a[1]),t.$set(f),a[2]?l?(l.p(a,u),u&4&&S(l,1)):(l=y1(a),l.c(),S(l,1),l.m(e,null)):l&&(le(),P(l,1,1,()=>{l=null}),ae())},i(a){i||(S(t.$$.fragment,a),S(l),i=!0)},o(a){P(t.$$.fragment,a),P(l),i=!1},d(a){a&&m(e),G(t),l&&l.d(),s=!1,Tt(o)}}}function dH(n,e,t){let{options:r=[]}=e,{icon:i="carbon:overflow-menu-vertical"}=e,s=!1,o=null,l=null;const a=()=>t(2,s=!s),u=(p,g,_)=>{p?(t(2,s=!1),p(_)):g&&t(3,o=g)},f=()=>{t(3,o=null),t(4,l=null)},c=p=>t(4,l=p),d=p=>{p.on_click(l),t(2,s=!1),t(4,l=null)},h=()=>t(2,s=!1);return n.$$set=p=>{"options"in p&&t(0,r=p.options),"icon"in p&&t(1,i=p.icon)},[r,i,s,o,l,a,u,f,c,d,h]}class hH extends Ie{constructor(e){super(),$e(this,e,dH,cH,Le,{options:0,icon:1})}}const pH=n=>({}),S1=n=>({}),mH=n=>({}),T1=n=>({}),gH=n=>({}),A1=n=>({}),_H=n=>({}),O1=n=>({}),vH=n=>({}),C1=n=>({});function bH(n){let e,t,r,i,s,o,l,a,u,f,c;const d=n[10].label,h=at(d,n,n[9],A1),p=n[10].key,g=at(p,n,n[9],T1);return{c(){e=T("label"),t=T("span"),r=H("Label"),i=j(),h&&h.c(),s=j(),o=T("div"),l=T("label"),a=T("span"),u=H("Key"),f=j(),g&&g.c(),this.h()},l(_){e=A(_,"LABEL",{class:!0});var b=O(e);t=A(b,"SPAN",{class:!0});var v=O(t);r=U(v,"Label"),v.forEach(m),i=V(b),h&&h.l(b),b.forEach(m),s=V(_),o=A(_,"DIV",{class:!0});var E=O(o);l=A(E,"LABEL",{class:!0});var k=O(l);a=A(k,"SPAN",{class:!0});var N=O(a);u=U(N,"Key"),N.forEach(m),f=V(k),g&&g.l(k),k.forEach(m),E.forEach(m),this.h()},h(){y(t,"class","svelte-150rbs5"),y(e,"class","label svelte-150rbs5"),y(a,"class","svelte-150rbs5"),y(l,"class","svelte-150rbs5"),y(o,"class","field svelte-150rbs5")},m(_,b){$(_,e,b),w(e,t),w(t,r),w(e,i),h&&h.m(e,null),$(_,s,b),$(_,o,b),w(o,l),w(l,a),w(a,u),w(l,f),g&&g.m(l,null),c=!0},p(_,b){h&&h.p&&(!c||b&512)&&ut(h,d,_,_[9],c?ct(d,_[9],b,gH):ft(_[9]),A1),g&&g.p&&(!c||b&512)&&ut(g,p,_,_[9],c?ct(p,_[9],b,mH):ft(_[9]),T1)},i(_){c||(S(h,_),S(g,_),c=!0)},o(_){P(h,_),P(g,_),c=!1},d(_){_&&m(e),h&&h.d(_),_&&m(s),_&&m(o),g&&g.d(_)}}}function yH(n){let e,t,r,i,s;const o=n[10].main,l=at(o,n,n[9],O1);return{c(){e=T("label"),t=T("span"),r=H("Information"),i=j(),l&&l.c(),this.h()},l(a){e=A(a,"LABEL",{class:!0});var u=O(e);t=A(u,"SPAN",{class:!0});var f=O(t);r=U(f,"Information"),f.forEach(m),i=V(u),l&&l.l(u),u.forEach(m),this.h()},h(){y(t,"class","svelte-150rbs5"),y(e,"class","main svelte-150rbs5")},m(a,u){$(a,e,u),w(e,t),w(t,r),w(e,i),l&&l.m(e,null),s=!0},p(a,u){l&&l.p&&(!s||u&512)&&ut(l,o,a,a[9],s?ct(o,a[9],u,_H):ft(a[9]),O1)},i(a){s||(S(l,a),s=!0)},o(a){P(l,a),s=!1},d(a){a&&m(e),l&&l.d(a)}}}function M1(n){let e,t;const r=n[10].toggle,i=at(r,n,n[9],S1);return{c(){e=T("div"),i&&i.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=O(e);i&&i.l(o),o.forEach(m),this.h()},h(){y(e,"class","toggle svelte-150rbs5")},m(s,o){$(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o&512)&&ut(i,r,s,s[9],t?ct(r,s[9],o,pH):ft(s[9]),S1)},i(s){t||(S(i,s),t=!0)},o(s){P(i,s),t=!1},d(s){s&&m(e),i&&i.d(s)}}}function P1(n){let e,t=`${n[0]+1}rem`,r;const i=n[10].default,s=at(i,n,n[9],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{class:!0});var l=O(e);s&&s.l(l),l.forEach(m),this.h()},h(){y(e,"class","children-container svelte-150rbs5"),Re(e,"padding-left",t)},m(o,l){$(o,e,l),s&&s.m(e,null),r=!0},p(o,l){s&&s.p&&(!r||l&512)&&ut(s,i,o,o[9],r?ct(i,o[9],l,null):ft(o[9]),null),l&1&&t!==(t=`${o[0]+1}rem`)&&Re(e,"padding-left",t)},i(o){r||(S(s,o),r=!0)},o(o){P(s,o),r=!1},d(o){o&&m(e),s&&s.d(o)}}}function kH(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v;const E=n[10].type,k=at(E,n,n[9],C1),N=[yH,bH],C=[];function M(z,R){return z[2]?0:1}f=M(n),c=C[f]=N[f](n);let D=n[4]&&!n[2]&&M1(n);g=new hH({props:{icon:"carbon:overflow-menu-vertical",options:[{label:"Move up",icon:"material-symbols:arrow-circle-up-outline",on_click:n[11]},{label:"Move down",icon:"material-symbols:arrow-circle-down-outline",on_click:n[12]},{label:"Duplicate",icon:"bxs:duplicate",on_click:n[13]},{label:"Delete",icon:"ic:outline-delete",on_click:n[14]}]}});let I=n[5]&&P1(n);return{c(){e=T("div"),t=T("div"),r=T("div"),i=j(),s=T("label"),o=T("span"),l=H("Type"),a=j(),k&&k.c(),u=j(),c.c(),d=j(),D&&D.c(),h=j(),p=T("div"),W(g.$$.fragment),b=j(),I&&I.c(),this.h()},l(z){e=A(z,"DIV",{class:!0});var R=O(e);t=A(R,"DIV",{class:!0});var F=O(t);r=A(F,"DIV",{class:!0});var Z=O(r);Z.forEach(m),i=V(F),s=A(F,"LABEL",{class:!0});var K=O(s);o=A(K,"SPAN",{class:!0});var J=O(o);l=U(J,"Type"),J.forEach(m),a=V(K),k&&k.l(K),K.forEach(m),u=V(F),c.l(F),d=V(F),D&&D.l(F),h=V(F),p=A(F,"DIV",{class:!0});var X=O(p);Y(g.$$.fragment,X),X.forEach(m),F.forEach(m),b=V(R),I&&I.l(R),R.forEach(m),this.h()},h(){y(r,"class","top-left svelte-150rbs5"),y(o,"class","svelte-150rbs5"),y(s,"class","type svelte-150rbs5"),y(p,"class","top-right svelte-150rbs5"),ee(p,"subfield",!n[4]),y(t,"class","field-container svelte-150rbs5"),Yt(()=>n[15].call(t)),ee(t,"has-visibility-options",n[3]),ee(t,"child",n[1]),ee(t,"minimal",n[2]),ee(t,"collapsed",n[7]),y(e,"class","top-container svelte-150rbs5"),ee(e,"top_level",n[4])},m(z,R){$(z,e,R),w(e,t),w(t,r),w(t,i),w(t,s),w(s,o),w(o,l),w(s,a),k&&k.m(s,null),w(t,u),C[f].m(t,null),w(t,d),D&&D.m(t,null),w(t,h),w(t,p),q(g,p,null),_=fy(t,n[15].bind(t)),w(e,b),I&&I.m(e,null),v=!0},p(z,[R]){k&&k.p&&(!v||R&512)&&ut(k,E,z,z[9],v?ct(E,z[9],R,vH):ft(z[9]),C1);let F=f;f=M(z),f===F?C[f].p(z,R):(le(),P(C[F],1,1,()=>{C[F]=null}),ae(),c=C[f],c?c.p(z,R):(c=C[f]=N[f](z),c.c()),S(c,1),c.m(t,d)),z[4]&&!z[2]?D?(D.p(z,R),R&20&&S(D,1)):(D=M1(z),D.c(),S(D,1),D.m(t,h)):D&&(le(),P(D,1,1,()=>{D=null}),ae()),(!v||R&16)&&ee(p,"subfield",!z[4]),(!v||R&8)&&ee(t,"has-visibility-options",z[3]),(!v||R&2)&&ee(t,"child",z[1]),(!v||R&4)&&ee(t,"minimal",z[2]),(!v||R&128)&&ee(t,"collapsed",z[7]),z[5]?I?(I.p(z,R),R&32&&S(I,1)):(I=P1(z),I.c(),S(I,1),I.m(e,null)):I&&(le(),P(I,1,1,()=>{I=null}),ae()),(!v||R&16)&&ee(e,"top_level",z[4])},i(z){v||(S(k,z),S(c),S(D),S(g.$$.fragment,z),S(I),v=!0)},o(z){P(k,z),P(c),P(D),P(g.$$.fragment,z),P(I),v=!1},d(z){z&&m(e),k&&k.d(z),C[f].d(),D&&D.d(),G(g),_(),I&&I.d()}}}function wH(n,e,t){let r,{$$slots:i={},$$scope:s}=e,{level:o}=e,{child:l=!1}=e,{minimal:a=!1}=e,{showVisibilityOptions:u=!1}=e,{top_level:f=!0}=e,{has_subfields:c=!1}=e;const d=Ct();let h;const p=()=>d("move","up"),g=()=>d("move","down"),_=()=>d("duplicate"),b=()=>d("delete");function v(){h=this.clientWidth,t(6,h)}return n.$$set=E=>{"level"in E&&t(0,o=E.level),"child"in E&&t(1,l=E.child),"minimal"in E&&t(2,a=E.minimal),"showVisibilityOptions"in E&&t(3,u=E.showVisibilityOptions),"top_level"in E&&t(4,f=E.top_level),"has_subfields"in E&&t(5,c=E.has_subfields),"$$scope"in E&&t(9,s=E.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&t(7,r=h<560)},[o,l,a,u,f,c,h,r,d,s,i,p,g,_,b,v]}class EH extends Ie{constructor(e){super(),$e(this,e,wH,kH,Le,{level:0,child:1,minimal:2,showVisibilityOptions:3,top_level:4,has_subfields:5})}}function N1(n){let e,t;return{c(){e=T("span"),t=H(n[1]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[1]),i.forEach(m),this.h()},h(){y(e,"class","svelte-9wc88j")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&2&&Se(t,r[1])},d(r){r&&m(e)}}}function SH(n){let e,t,r,i,s,o,l,a,u=n[1]&&N1(n),f=[{class:"input"},{value:n[0]},{type:n[2]},{disabled:n[3]},n[7]],c={};for(let p=0;p<f.length;p+=1)c=Rt(c,f[p]);const d=n[9].default,h=at(d,n,n[8],null);return{c(){e=T("label"),u&&u.c(),t=j(),r=T("input"),i=j(),h&&h.c(),this.h()},l(p){e=A(p,"LABEL",{class:!0});var g=O(e);u&&u.l(g),t=V(g),r=A(g,"INPUT",{class:!0,type:!0}),i=V(g),h&&h.l(g),g.forEach(m),this.h()},h(){$r(r,c),ee(r,"svelte-9wc88j",!0),y(e,"class",s=n[5]+" "+n[4]+" svelte-9wc88j")},m(p,g){$(p,e,g),u&&u.m(e,null),w(e,t),w(e,r),"value"in c&&(r.value=c.value),r.autofocus&&r.focus(),w(e,i),h&&h.m(e,null),o=!0,l||(a=re(r,"input",n[6]),l=!0)},p(p,[g]){p[1]?u?u.p(p,g):(u=N1(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),$r(r,c=jn(f,[{class:"input"},(!o||g&1&&r.value!==p[0])&&{value:p[0]},(!o||g&4)&&{type:p[2]},(!o||g&8)&&{disabled:p[3]},g&128&&p[7]])),"value"in c&&(r.value=c.value),ee(r,"svelte-9wc88j",!0),h&&h.p&&(!o||g&256)&&ut(h,d,p,p[8],o?ct(d,p[8],g,null):ft(p[8]),null),(!o||g&48&&s!==(s=p[5]+" "+p[4]+" svelte-9wc88j"))&&y(e,"class",s)},i(p){o||(S(h,p),o=!0)},o(p){P(h,p),o=!1},d(p){p&&m(e),u&&u.d(),h&&h.d(p),l=!1,a()}}}function TH(n,e,t){const r=["label","value","type","disabled","variants","size"];let i=jr(e,r),{$$slots:s={},$$scope:o}=e;const l=Ct();let{label:a}=e,{value:u}=e,{type:f="text"}=e,{disabled:c=!1}=e,{variants:d=""}=e,{size:h="medium"}=e;function p({target:g}){const{value:_}=g;["text","number","range","password","url"].includes(f)?t(0,u=_):console.log("Value not saved:",_),l("input")}return n.$$set=g=>{e=Rt(Rt({},e),Ss(g)),t(7,i=jr(e,r)),"label"in g&&t(1,a=g.label),"value"in g&&t(0,u=g.value),"type"in g&&t(2,f=g.type),"disabled"in g&&t(3,c=g.disabled),"variants"in g&&t(4,d=g.variants),"size"in g&&t(5,h=g.size),"$$scope"in g&&t(8,o=g.$$scope)},[u,a,f,c,d,h,p,i,o,s]}class PE extends Ie{constructor(e){super(),$e(this,e,TH,SH,Le,{label:1,value:0,type:2,disabled:3,variants:4,size:5})}}function AH(n){let e,t,r,i;const s=[n[0],{type:"number"}];function o(a){n[1](a)}let l={};for(let a=0;a<s.length;a+=1)l=Rt(l,s[a]);return n[0].value!==void 0&&(l.value=n[0].value),t=new PE({props:l}),se.push(()=>be(t,"value",o)),t.$on("input",n[2]),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"class","svelte-j8eaq1")},m(a,u){$(a,e,u),q(t,e,null),i=!0},p(a,[u]){const f=u&1?jn(s,[qi(a[0]),s[1]]):{};!r&&u&1&&(r=!0,f.value=a[0].value,Ne(()=>r=!1)),t.$set(f)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t)}}}function OH(n,e,t){let{field:r}=e;function i(o){n.$$.not_equal(r.value,o)&&(r.value=o,t(0,r))}function s(o){mt.call(this,n,o)}return n.$$set=o=>{"field"in o&&t(0,r=o.field)},[r,i,s]}let CH=class extends Ie{constructor(e){super(),$e(this,e,OH,AH,Le,{field:0})}};function Mc(n){const e=n.slice(),t=e[0].options.type===e[0].options.original_type;e[18]=t;const r=e[0].options.type==="webp";return e[19]=r,e}function MH(n){let e,t,r,i,s,o,l,a,u,f,c=n[0].options.size&&D1(n),d=n[0].value.url&&R1(n);i=new Ze({props:{icon:"uil:image-upload"}});let h=!n[0].value.url&&I1();return{c(){c&&c.c(),e=j(),d&&d.c(),t=j(),r=T("label"),W(i.$$.fragment),s=j(),h&&h.c(),o=j(),l=T("input"),this.h()},l(p){c&&c.l(p),e=V(p),d&&d.l(p),t=V(p),r=A(p,"LABEL",{class:!0});var g=O(r);Y(i.$$.fragment,g),s=V(g),h&&h.l(g),o=V(g),l=A(g,"INPUT",{type:!0,accept:!0,class:!0}),g.forEach(m),this.h()},h(){y(l,"type","file"),y(l,"accept","image/*"),y(l,"class","svelte-t4ce1l"),y(r,"class","image-upload svelte-t4ce1l")},m(p,g){c&&c.m(p,g),$(p,e,g),d&&d.m(p,g),$(p,t,g),$(p,r,g),q(i,r,null),w(r,s),h&&h.m(r,null),w(r,o),w(r,l),a=!0,u||(f=re(l,"change",n[9]),u=!0)},p(p,g){p[0].options.size?c?c.p(p,g):(c=D1(p),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),p[0].value.url?d?d.p(p,g):(d=R1(p),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),p[0].value.url?h&&(h.d(1),h=null):h||(h=I1(),h.c(),h.m(r,o))},i(p){a||(S(i.$$.fragment,p),a=!0)},o(p){P(i.$$.fragment,p),a=!1},d(p){c&&c.d(p),p&&m(e),d&&d.d(p),p&&m(t),p&&m(r),G(i),h&&h.d(),u=!1,f()}}}function PH(n){let e,t,r;return t=new kf({}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","spinner-container svelte-t4ce1l")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p:_e,i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function D1(n){let e,t=n[0].options.size+"",r,i;return{c(){e=T("span"),r=H(t),i=H("KB"),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),i=U(o,"KB"),o.forEach(m),this.h()},h(){y(e,"class","field-size svelte-t4ce1l")},m(s,o){$(s,e,o),w(e,r),w(e,i)},p(s,o){o&1&&t!==(t=s[0].options.size+"")&&Se(r,t)},d(s){s&&m(e)}}}function R1(n){let e,t;return{c(){e=T("img"),this.h()},l(r){e=A(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){zi(e.src,t=n[1])||y(e,"src",t),y(e,"alt","Preview"),y(e,"class","svelte-t4ce1l")},m(r,i){$(r,e,i)},p(r,i){i&2&&!zi(e.src,t=r[1])&&y(e,"src",t)},d(r){r&&m(e)}}}function I1(n){let e,t;return{c(){e=T("span"),t=H("Upload"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"Upload"),i.forEach(m),this.h()},h(){y(e,"class","svelte-t4ce1l")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function $1(n){var d;let e,t,r=((d=n[0].options.original_type)==null?void 0:d.toUpperCase())+"",i,s,o,l,a,u,f,c;return{c(){e=T("div"),t=T("button"),i=H(r),o=j(),l=T("button"),a=H("WEBP"),this.h()},l(h){e=A(h,"DIV",{class:!0});var p=O(e);t=A(p,"BUTTON",{class:!0});var g=O(t);i=U(g,r),g.forEach(m),o=V(p),l=A(p,"BUTTON",{class:!0});var _=O(l);a=U(_,"WEBP"),_.forEach(m),p.forEach(m),this.h()},h(){t.disabled=s=n[18],y(t,"class","svelte-t4ce1l"),ee(t,"active",n[18]),l.disabled=u=n[19],y(l,"class","svelte-t4ce1l"),ee(l,"active",n[19]),y(e,"class","image-type-buttons svelte-t4ce1l")},m(h,p){$(h,e,p),w(e,t),w(t,i),w(e,o),w(e,l),w(l,a),f||(c=[re(t,"click",n[13]),re(l,"click",n[14])],f=!0)},p(h,p){var g;p&1&&r!==(r=((g=h[0].options.original_type)==null?void 0:g.toUpperCase())+"")&&Se(i,r),p&1&&s!==(s=h[18])&&(t.disabled=s),p&1&&ee(t,"active",h[18]),p&1&&u!==(u=h[19])&&(l.disabled=u),p&1&&ee(l,"active",h[19])},d(h){h&&m(e),f=!1,Tt(c)}}}function NH(n){let e,t,r=n[0].label+"",i,s,o,l,a,u,f,c,d,h,p,g,_,b,v;const E=[PH,MH],k=[];function N(R,F){return R[2]?0:1}a=N(n),u=k[a]=E[a](n);function C(R){n[10](R)}let M={label:"Description"};n[0].value.alt!==void 0&&(M.value=n[0].value.alt),d=new Ja({props:M}),se.push(()=>be(d,"value",C)),d.$on("input",n[11]),g=new Ja({props:{value:n[0].value.url,label:"URL"}}),g.$on("input",n[12]);let D=n[0].options.type&&n[0].options.type!=="svg+xml"&&$1(Mc(n));const I=n[8].default,z=at(I,n,n[7],null);return{c(){e=T("div"),t=T("span"),i=H(r),s=j(),o=T("div"),l=T("div"),u.c(),f=j(),c=T("div"),W(d.$$.fragment),p=j(),W(g.$$.fragment),_=j(),D&&D.c(),b=j(),z&&z.c(),this.h()},l(R){e=A(R,"DIV",{class:!0});var F=O(e);t=A(F,"SPAN",{class:!0});var Z=O(t);i=U(Z,r),Z.forEach(m),s=V(F),o=A(F,"DIV",{class:!0});var K=O(o);l=A(K,"DIV",{class:!0});var J=O(l);u.l(J),J.forEach(m),f=V(K),c=A(K,"DIV",{class:!0});var X=O(c);Y(d.$$.fragment,X),p=V(X),Y(g.$$.fragment,X),_=V(X),D&&D.l(X),X.forEach(m),K.forEach(m),F.forEach(m),b=V(R),z&&z.l(R),this.h()},h(){y(t,"class","field-label svelte-t4ce1l"),y(l,"class","image-preview svelte-t4ce1l"),y(c,"class","inputs svelte-t4ce1l"),y(o,"class","image-info svelte-t4ce1l"),y(e,"class","image-field svelte-t4ce1l")},m(R,F){$(R,e,F),w(e,t),w(t,i),w(e,s),w(e,o),w(o,l),k[a].m(l,null),w(o,f),w(o,c),q(d,c,null),w(c,p),q(g,c,null),w(c,_),D&&D.m(c,null),$(R,b,F),z&&z.m(R,F),v=!0},p(R,[F]){(!v||F&1)&&r!==(r=R[0].label+"")&&Se(i,r);let Z=a;a=N(R),a===Z?k[a].p(R,F):(le(),P(k[Z],1,1,()=>{k[Z]=null}),ae(),u=k[a],u?u.p(R,F):(u=k[a]=E[a](R),u.c()),S(u,1),u.m(l,null));const K={};!h&&F&1&&(h=!0,K.value=R[0].value.alt,Ne(()=>h=!1)),d.$set(K);const J={};F&1&&(J.value=R[0].value.url),g.$set(J),R[0].options.type&&R[0].options.type!=="svg+xml"?D?D.p(Mc(R),F):(D=$1(Mc(R)),D.c(),D.m(c,null)):D&&(D.d(1),D=null),z&&z.p&&(!v||F&128)&&ut(z,I,R,R[7],v?ct(I,R[7],F,null):ft(R[7]),null)},i(R){v||(S(u),S(d.$$.fragment,R),S(g.$$.fragment,R),S(z,R),v=!0)},o(R){P(u),P(d.$$.fragment,R),P(g.$$.fragment,R),P(z,R),v=!1},d(R){R&&m(e),k[a].d(),G(d),G(g),D&&D.d(),R&&m(b),z&&z.d(R)}}}function DH(n,e,t){let r;me(n,xt,N=>t(15,r=N));let{$$slots:i={},$$scope:s}=e;const o=Ct(),l={alt:"",url:""};let{field:a={value:l,options:{size:null,type:null}}}=e;(typeof a.value=="string"||!a.value)&&(a.value=l);function u(N){t(0,a.value={url:N,alt:a.value.alt},a)}function f(N){t(0,a.options={...a.options,...N},a)}async function c(N,C){const D=await(await fetch(N)).blob(),I=new Image;I.crossOrigin="anonymous",I.src=URL.createObjectURL(D),I.onload=()=>{const z=document.createElement("canvas");z.width=I.naturalWidth,z.height=I.naturalHeight,z.getContext("2d").drawImage(I,0,0),z.toBlob(R=>{const F=new File([R],`${R.name}.${C}`,{type:R.type});d(F)},`image/${C}`)}}async function d(N){t(2,p=!0);const C=`${r.id}/${N.lastModified+N.name}`,M=await pp({bucket:"images",action:"upload",key:C,file:N});M&&(t(1,h=M),u(M),f({original_type:a.options.original_type||N.type.replace("image/",""),type:N.type.replace("image/",""),size:Math.round(N.size/1e3)}),o("input",a)),t(2,p=!1)}let h=a.value.url||"",p=!1;const g=({target:N})=>{const{files:C}=N;if(C.length>0){const M=C[0];d(M)}};function _(N){n.$$.not_equal(a.value.alt,N)&&(a.value.alt=N,t(0,a))}function b(N){mt.call(this,n,N)}const v=({detail:N})=>{t(1,h=N),u(N),o("input",a)},E=()=>c(a.value.url,a.options.original_type),k=()=>c(a.value.url,"webp");return n.$$set=N=>{"field"in N&&t(0,a=N.field),"$$scope"in N&&t(7,s=N.$$scope)},[a,h,p,o,u,c,d,s,i,g,_,b,v,E,k]}class RH extends Ie{constructor(e){super(),$e(this,e,DH,NH,Le,{field:0})}}function IH(n){let e,t,r=n[0].label+"",i,s,o,l,a,u,f;return{c(){e=T("label"),t=T("span"),i=H(r),s=j(),o=T("textarea"),this.h()},l(c){e=A(c,"LABEL",{for:!0,class:!0});var d=O(e);t=A(d,"SPAN",{class:!0});var h=O(t);i=U(h,r),h.forEach(m),s=V(d),o=A(d,"TEXTAREA",{id:!0,class:!0}),O(o).forEach(m),d.forEach(m),this.h()},h(){y(t,"class","svelte-1dpese"),y(o,"id",l=n[0].id),o.value=n[2],y(o,"class","svelte-1dpese"),y(e,"for",a=n[0].id),y(e,"class","svelte-1dpese")},m(c,d){$(c,e,d),w(e,t),w(t,i),w(e,s),w(e,o),n[7](o),u||(f=[re(o,"focus",n[3]),re(o,"keydown",n[5]),re(o,"input",n[6])],u=!0)},p(c,[d]){d&1&&r!==(r=c[0].label+"")&&Se(i,r),d&1&&l!==(l=c[0].id)&&y(o,"id",l),d&4&&(o.value=c[2]),d&1&&a!==(a=c[0].id)&&y(e,"for",a)},i:_e,o:_e,d(c){c&&m(e),n[7](null),u=!1,Tt(f)}}}function $H(n,e,t){var d;let r;const i=Ct();let{field:s}=e;typeof s.value=="string"?s.value={markdown:s.value,html:s.value}:(typeof s.value!="object"||!((d=s.value)!=null&&d.hasOwnProperty("markdown")))&&(s.value={markdown:"",html:""});let o;function l({target:h}){s.default===s.value.markdown&&h.select()}async function a(h){t(0,s.value.html=await Kw(h),s),t(0,s.value.markdown=h,s),i("input")}function u({metaKey:h,key:p}){h&&p==="s"&&i("save")}const f=({target:h})=>a(h.value);function c(h){se[h?"unshift":"push"](()=>{o=h,t(1,o)})}return n.$$set=h=>{"field"in h&&t(0,s=h.field)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=s.value.markdown),n.$$.dirty&4&&a(r),n.$$.dirty&2&&o&&ME(o)},[s,o,r,l,a,u,f,c]}class LH extends Ie{constructor(e){super(),$e(this,e,$H,IH,Le,{field:0})}}function zH(n){let e,t,r,i=n[0].label+"",s,o,l,a,u,f,c,d,h,p,g,_;return{c(){e=T("div"),t=T("label"),r=T("span"),s=H(i),l=j(),a=T("div"),u=T("input"),d=j(),h=T("span"),this.h()},l(b){e=A(b,"DIV",{class:!0});var v=O(e);t=A(v,"LABEL",{for:!0,class:!0});var E=O(t);r=A(E,"SPAN",{class:!0,for:!0});var k=O(r);s=U(k,i),k.forEach(m),l=V(E),a=A(E,"DIV",{class:!0});var N=O(a);u=A(N,"INPUT",{type:!0,id:!0,class:!0}),d=V(N),h=A(N,"SPAN",{class:!0}),O(h).forEach(m),N.forEach(m),E.forEach(m),v.forEach(m),this.h()},h(){y(r,"class","switch-label svelte-1w8s32g"),y(r,"for",o=n[0].key),y(u,"type","checkbox"),y(u,"id",f=n[0].key),u.checked=c=n[0].value,y(u,"class","svelte-1w8s32g"),y(h,"class","svelte-1w8s32g"),y(a,"class","switch-container svelte-1w8s32g"),y(t,"for",p=n[0].key),y(t,"class","svelte-1w8s32g"),y(e,"class","label-container svelte-1w8s32g")},m(b,v){$(b,e,v),w(e,t),w(t,r),w(r,s),w(t,l),w(t,a),w(a,u),w(a,d),w(a,h),g||(_=re(u,"input",n[1]),g=!0)},p(b,[v]){v&1&&i!==(i=b[0].label+"")&&Se(s,i),v&1&&o!==(o=b[0].key)&&y(r,"for",o),v&1&&f!==(f=b[0].key)&&y(u,"id",f),v&1&&c!==(c=b[0].value)&&(u.checked=c),v&1&&p!==(p=b[0].key)&&y(t,"for",p)},i:_e,o:_e,d(b){b&&m(e),g=!1,_()}}}function BH(n,e,t){const r=Ct();let{field:i}=e;function s(){t(0,i.value=!i.value,i),r("input")}return n.$$set=o=>{"field"in o&&t(0,i=o.field)},[i,s]}class FH extends Ie{constructor(e){super(),$e(this,e,BH,zH,Le,{field:0})}}function jH(n){let e,t,r,i;const s=[n[0],{type:"url"}];function o(a){n[1](a)}let l={};for(let a=0;a<s.length;a+=1)l=Rt(l,s[a]);return n[0].value!==void 0&&(l.value=n[0].value),t=new PE({props:l}),se.push(()=>be(t,"value",o)),t.$on("input",n[2]),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"class","svelte-j8eaq1")},m(a,u){$(a,e,u),q(t,e,null),i=!0},p(a,[u]){const f=u&1?jn(s,[qi(a[0]),s[1]]):{};!r&&u&1&&(r=!0,f.value=a[0].value,Ne(()=>r=!1)),t.$set(f)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t)}}}function VH(n,e,t){let{field:r}=e;function i(o){n.$$.not_equal(r.value,o)&&(r.value=o,t(0,r))}function s(o){mt.call(this,n,o)}return n.$$set=o=>{"field"in o&&t(0,r=o.field)},[r,i,s]}let HH=class extends Ie{constructor(e){super(),$e(this,e,VH,jH,Le,{field:0})}};function L1(n,e,t){const r=n.slice();return r[6]=e[t],r[8]=t,r}function z1(n){let e,t;return e=new Ze({props:{icon:n[6].icon,width:"14px"}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.icon=r[6].icon),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function B1(n){let e,t,r,i=(n[6].label||n[6].id)+"",s,o,l,a,u,f=n[6].icon&&z1(n);function c(){return n[4](n[8],n[6])}return{c(){e=T("button"),f&&f.c(),t=j(),r=T("span"),s=H(i),o=j(),this.h()},l(d){e=A(d,"BUTTON",{type:!0,class:!0});var h=O(e);f&&f.l(h),t=V(h),r=A(h,"SPAN",{});var p=O(r);s=U(p,i),p.forEach(m),o=V(h),h.forEach(m),this.h()},h(){y(e,"type","button"),y(e,"class","svelte-12a9uro"),ee(e,"active",n[3]===n[8])},m(d,h){$(d,e,h),f&&f.m(e,null),w(e,t),w(e,r),w(r,s),w(e,o),l=!0,a||(u=re(e,"click",c),a=!0)},p(d,h){n=d,n[6].icon?f?(f.p(n,h),h&2&&S(f,1)):(f=z1(n),f.c(),S(f,1),f.m(e,t)):f&&(le(),P(f,1,1,()=>{f=null}),ae()),(!l||h&2)&&i!==(i=(n[6].label||n[6].id)+"")&&Se(s,i),(!l||h&8)&&ee(e,"active",n[3]===n[8])},i(d){l||(S(f),l=!0)},o(d){P(f),l=!1},d(d){d&&m(e),f&&f.d(),a=!1,u()}}}function UH(n){let e,t,r=n[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=B1(L1(n,r,o));const s=o=>P(i[o],1,1,()=>{i[o]=null});return{c(){e=T("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var l=O(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(m),this.h()},h(){y(e,"class","toggle svelte-12a9uro")},m(o,l){$(o,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n[5](e),t=!0},p(o,[l]){if(l&11){r=o[1];let a;for(a=0;a<r.length;a+=1){const u=L1(o,r,a);i[a]?(i[a].p(u,l),S(i[a],1)):(i[a]=B1(u),i[a].c(),S(i[a],1),i[a].m(e,null))}for(le(),a=r.length;a<i.length;a+=1)s(a);ae()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)S(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)P(i[l]);t=!1},d(o){o&&m(e),Kt(i,o),n[5](null)}}}function WH(n,e,t){let{buttons:r=[{id:"PLACEHOLDER"}]}=e,{selected:i}=e,s,o=qh(r,["id",i])||0;const l=(u,f)=>{t(3,o=u),t(0,i=f.id)};function a(u){se[u?"unshift":"push"](()=>{s=u,t(2,s)})}return n.$$set=u=>{"buttons"in u&&t(1,r=u.buttons),"selected"in u&&t(0,i=u.selected)},[i,r,s,o,l,a]}class qH extends Ie{constructor(e){super(),$e(this,e,WH,UH,Le,{buttons:1,selected:0})}}function F1(n){let e,t;return{c(){e=T("span"),t=H(n[2]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[2]),i.forEach(m),this.h()},h(){y(e,"class","label svelte-1n9wbvi")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&4&&Se(t,r[2])},d(r){r&&m(e)}}}function j1(n){let e,t;return{c(){e=T("span"),t=H(n[3]),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,n[3]),i.forEach(m),this.h()},h(){y(e,"class","prefix svelte-1n9wbvi")},m(r,i){$(r,e,i),w(e,t)},p(r,i){i&8&&Se(t,r[3])},d(r){r&&m(e)}}}function GH(n){let e,t,r,i,s,o,l,a,u=n[2]&&F1(n),f=n[3]&&j1(n);return{c(){e=T("label"),u&&u.c(),t=j(),r=T("div"),f&&f.c(),i=j(),s=T("input"),this.h()},l(c){e=A(c,"LABEL",{class:!0,id:!0});var d=O(e);u&&u.l(d),t=V(d),r=A(d,"DIV",{class:!0});var h=O(r);f&&f.l(h),i=V(h),s=A(h,"INPUT",{type:!0,placeholder:!0,class:!0}),h.forEach(m),d.forEach(m),this.h()},h(){s.value=n[0],y(s,"type",n[6]),y(s,"placeholder",n[4]),s.autofocus=n[7],y(s,"class","svelte-1n9wbvi"),y(r,"class","input-container svelte-1n9wbvi"),y(e,"class",o=Rn(n[5])+" svelte-1n9wbvi"),y(e,"id",n[1])},m(c,d){$(c,e,d),u&&u.m(e,null),w(e,t),w(e,r),f&&f.m(r,null),w(r,i),w(r,s),n[7]&&s.focus(),l||(a=re(s,"input",n[9]),l=!0)},p(c,[d]){c[2]?u?u.p(c,d):(u=F1(c),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c[3]?f?f.p(c,d):(f=j1(c),f.c(),f.m(r,i)):f&&(f.d(1),f=null),d&1&&s.value!==c[0]&&(s.value=c[0]),d&64&&y(s,"type",c[6]),d&16&&y(s,"placeholder",c[4]),d&128&&(s.autofocus=c[7]),d&32&&o!==(o=Rn(c[5])+" svelte-1n9wbvi")&&y(e,"class",o),d&2&&y(e,"id",c[1])},i:_e,o:_e,d(c){c&&m(e),u&&u.d(),f&&f.d(),l=!1,a()}}}function KH(n,e,t){const r=Ct();let{id:i=null}=e,{label:s=null}=e,{prefix:o=""}=e,{value:l=""}=e,{placeholder:a=""}=e,{variants:u=""}=e,{type:f="text"}=e,{autofocus:c=!1}=e;const d=({target:h})=>{t(0,l=h.value),r("input",l)};return n.$$set=h=>{"id"in h&&t(1,i=h.id),"label"in h&&t(2,s=h.label),"prefix"in h&&t(3,o=h.prefix),"value"in h&&t(0,l=h.value),"placeholder"in h&&t(4,a=h.placeholder),"variants"in h&&t(5,u=h.variants),"type"in h&&t(6,f=h.type),"autofocus"in h&&t(7,c=h.autofocus)},[l,i,s,o,a,u,f,c,r,d]}class gl extends Ie{constructor(e){super(),$e(this,e,KH,GH,Le,{id:1,label:2,prefix:3,value:0,placeholder:4,variants:5,type:6,autofocus:7})}}function V1(n,e,t){const r=n.slice();r[15]=e[t];const i=QH(r[15],r[3],r[2]);return r[16]=i,r}function JH(n){let e,t,r;function i(o){n[12](o)}let s={type:"url",placeholder:"https://primocms.org"};return n[0].value.url!==void 0&&(s.value=n[0].value.url),e=new gl({props:s}),se.push(()=>be(e,"value",i)),e.$on("input",n[13]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l&1&&(t=!0,a.value=o[0].value.url,Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function YH(n){let e,t,r,i=n[2],s=[];for(let o=0;o<i.length;o+=1)s[o]=H1(V1(n,i,o));return{c(){e=T("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=A(o,"SELECT",{class:!0});var l=O(e);for(let a=0;a<s.length;a+=1)s[a].l(l);l.forEach(m),this.h()},h(){y(e,"class","svelte-16ceo33"),n[0].value.url===void 0&&Yt(()=>n[10].call(e))},m(o,l){$(o,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);tr(e,n[0].value.url,!0),t||(r=[re(e,"change",n[10]),re(e,"change",n[11])],t=!0)},p(o,l){if(l&12){i=o[2];let a;for(a=0;a<i.length;a+=1){const u=V1(o,i,a);s[a]?s[a].p(u,l):(s[a]=H1(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}l&13&&tr(e,o[0].value.url)},i:_e,o:_e,d(o){o&&m(e),Kt(s,o),t=!1,Tt(r)}}}function H1(n){let e,t=n[15].name+"",r,i,s,o,l=n[16]+"",a,u,f,c;return{c(){e=T("option"),r=H(t),i=j(),s=T("pre"),o=H("("),a=H(l),u=H(")"),f=j(),this.h()},l(d){e=A(d,"OPTION",{});var h=O(e);r=U(h,t),i=V(h),s=A(h,"PRE",{});var p=O(s);o=U(p,"("),a=U(p,l),u=U(p,")"),p.forEach(m),f=V(h),h.forEach(m),this.h()},h(){e.__value=c=n[16],e.value=e.__value},m(d,h){$(d,e,h),w(e,r),w(e,i),w(e,s),w(s,o),w(s,a),w(s,u),w(e,f)},p(d,h){h&4&&t!==(t=d[15].name+"")&&Se(r,t),h&12&&l!==(l=d[16]+"")&&Se(a,l),h&12&&c!==(c=d[16])&&(e.__value=c,e.value=e.__value)},d(d){d&&m(e)}}}function XH(n){let e,t,r=n[0].label+"",i,s,o,l,a,u,f,c,d,h,p,g,_,b;function v(R){n[7](R)}let E={id:"page-label",label:"Label",placeholder:"About Us"};n[0].value.label!==void 0&&(E.value=n[0].value.label),l=new gl({props:E}),se.push(()=>be(l,"value",v)),l.$on("input",n[8]);function k(R){n[9](R)}let N={buttons:[{id:"Page",icon:"fa-solid:clone"},{id:"URL",icon:"akar-icons:link-chain"}]};n[1]!==void 0&&(N.selected=n[1]),c=new qH({props:N}),se.push(()=>be(c,"selected",k));const C=[YH,JH],M=[];function D(R,F){return R[1]==="Page"?0:1}p=D(n),g=M[p]=C[p](n);const I=n[6].default,z=at(I,n,n[5],null);return{c(){e=T("div"),t=T("span"),i=H(r),s=j(),o=T("div"),W(l.$$.fragment),u=j(),f=T("div"),W(c.$$.fragment),h=j(),g.c(),_=j(),z&&z.c(),this.h()},l(R){e=A(R,"DIV",{class:!0});var F=O(e);t=A(F,"SPAN",{class:!0});var Z=O(t);i=U(Z,r),Z.forEach(m),s=V(F),o=A(F,"DIV",{class:!0});var K=O(o);Y(l.$$.fragment,K),u=V(K),f=A(K,"DIV",{class:!0});var J=O(f);Y(c.$$.fragment,J),h=V(J),g.l(J),J.forEach(m),K.forEach(m),F.forEach(m),_=V(R),z&&z.l(R),this.h()},h(){y(t,"class","svelte-16ceo33"),y(f,"class","url-select svelte-16ceo33"),y(o,"class","inputs svelte-16ceo33"),y(e,"class","primo-link svelte-16ceo33")},m(R,F){$(R,e,F),w(e,t),w(t,i),w(e,s),w(e,o),q(l,o,null),w(o,u),w(o,f),q(c,f,null),w(f,h),M[p].m(f,null),$(R,_,F),z&&z.m(R,F),b=!0},p(R,[F]){(!b||F&1)&&r!==(r=R[0].label+"")&&Se(i,r);const Z={};!a&&F&1&&(a=!0,Z.value=R[0].value.label,Ne(()=>a=!1)),l.$set(Z);const K={};!d&&F&2&&(d=!0,K.selected=R[1],Ne(()=>d=!1)),c.$set(K);let J=p;p=D(R),p===J?M[p].p(R,F):(le(),P(M[J],1,1,()=>{M[J]=null}),ae(),g=M[p],g?g.p(R,F):(g=M[p]=C[p](R),g.c()),S(g,1),g.m(f,null)),z&&z.p&&(!b||F&32)&&ut(z,I,R,R[5],b?ct(I,R[5],F,null):ft(R[5]),null)},i(R){b||(S(l.$$.fragment,R),S(c.$$.fragment,R),S(g),S(z,R),b=!0)},o(R){P(l.$$.fragment,R),P(c.$$.fragment,R),P(g),P(z,R),b=!1},d(R){R&&m(e),G(l),G(c),M[p].d(),R&&m(_),z&&z.d(R)}}}function ZH(n){return n&&n.startsWith("/")?"Page":"URL"}function QH(n,e,t){const r=e==="en"?"/":`/${e}/`;if(n.url==="index")return r;{let i=[];if(n.parent){let s=!1,o=t.find(l=>l.id===n.parent);for(i.push(o.url);!s;)o=t.find(l=>l.id===o.parent),o?i.unshift(o.url):s=!0}return i.length?r+i.join("/")+"/"+n.url:r+n.url}}function xH(n,e,t){let r,i;me(n,vi,v=>t(2,r=v)),me(n,gr,v=>t(3,i=v));let{$$slots:s={},$$scope:o}=e;const l=Ct(),a={label:"",url:"",active:!1};let{field:u={value:a}}=e;(!u.value||!u.value.label)&&(u.value=a);let f=ZH(u.value.url);function c(v){n.$$.not_equal(u.value.label,v)&&(u.value.label=v,t(0,u))}const d=()=>l("input",u);function h(v){f=v,t(1,f)}function p(){u.value.url=dh(this),t(0,u)}const g=()=>l("input");function _(v){n.$$.not_equal(u.value.url,v)&&(u.value.url=v,t(0,u))}const b=()=>l("input",u);return n.$$set=v=>{"field"in v&&t(0,u=v.field),"$$scope"in v&&t(5,o=v.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&(typeof u.value=="string"||!u.value?t(0,u.value={label:"",url:"",active:!1},u):u.value.title&&!u.value.label&&t(0,u.value={...u.value,label:u.value.title},u))},[u,f,r,i,l,o,s,c,d,h,p,g,_,b]}let e7=class extends Ie{constructor(e){super(),$e(this,e,xH,XH,Le,{field:0})}};function t7(n){let e,t,r,i,s;return{c(){e=T("div"),t=ir("svg"),r=ir("path"),i=j(),s=new fh(!1),this.h()},l(o){e=A(o,"DIV",{class:!0});var l=O(e);t=sr(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=O(t);r=sr(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),O(r).forEach(m),a.forEach(m),i=V(l),s=ch(l,!1),l.forEach(m),this.h()},h(){y(r,"fill-rule","evenodd"),y(r,"d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"),y(r,"clip-rule","evenodd"),y(t,"xmlns","http://www.w3.org/2000/svg"),y(t,"viewBox","0 0 20 20"),y(t,"fill","currentColor"),y(t,"class","svelte-1n802qr"),s.a=null,y(e,"class","main info-field svelte-1n802qr")},m(o,l){$(o,e,l),w(e,t),w(t,r),w(e,i),s.m(n[0],e)},p(o,[l]){l&1&&s.p(o[0])},i:_e,o:_e,d(o){o&&m(e)}}}function n7(n,e,t){let{field:r={options:{info:""}}}=e,i="";return Kw(r.options.info).then(s=>{t(0,i=s)}),n.$$set=s=>{"field"in s&&t(1,r=s.field)},[i,r]}class r7 extends Ie{constructor(e){super(),$e(this,e,n7,t7,Le,{field:1})}}function U1(n,e,t){const r=n.slice();return r[4]=e[t],r}function i7(n){let e,t;return{c(){e=T("span"),t=H("This field doesn't have any options"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"This field doesn't have any options"),i.forEach(m),this.h()},h(){y(e,"class","svelte-1sgk2p5")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function s7(n){let e,t,r,i=n[0].options.options,s=[];for(let o=0;o<i.length;o+=1)s[o]=W1(U1(n,i,o));return{c(){e=T("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=A(o,"SELECT",{class:!0});var l=O(e);for(let a=0;a<s.length;a+=1)s[a].l(l);l.forEach(m),this.h()},h(){y(e,"class","svelte-1sgk2p5"),n[0].value===void 0&&Yt(()=>n[2].call(e))},m(o,l){$(o,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);tr(e,n[0].value,!0),t||(r=[re(e,"change",n[2]),re(e,"change",n[3])],t=!0)},p(o,l){if(l&1){i=o[0].options.options;let a;for(a=0;a<i.length;a+=1){const u=U1(o,i,a);s[a]?s[a].p(u,l):(s[a]=W1(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}l&1&&tr(e,o[0].value)},d(o){o&&m(e),Kt(s,o),t=!1,Tt(r)}}}function W1(n){let e,t=n[4].label+"",r,i;return{c(){e=T("option"),r=H(t),this.h()},l(s){e=A(s,"OPTION",{});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){e.__value=i=n[4].value,e.value=e.__value},m(s,o){$(s,e,o),w(e,r)},p(s,o){o&1&&t!==(t=s[4].label+"")&&Se(r,t),o&1&&i!==(i=s[4].value)&&(e.__value=i,e.value=e.__value)},d(s){s&&m(e)}}}function o7(n){let e,t,r,i=n[0].label+"",s,o,l;function a(c,d){return c[0].options.options.length>0?s7:i7}let u=a(n),f=u(n);return{c(){e=T("div"),t=T("label"),r=T("span"),s=H(i),o=j(),f.c(),this.h()},l(c){e=A(c,"DIV",{class:!0});var d=O(e);t=A(d,"LABEL",{for:!0,class:!0});var h=O(t);r=A(h,"SPAN",{class:!0});var p=O(r);s=U(p,i),p.forEach(m),o=V(h),f.l(h),h.forEach(m),d.forEach(m),this.h()},h(){y(r,"class","svelte-1sgk2p5"),y(t,"for",l=n[0].key),y(t,"class","svelte-1sgk2p5"),y(e,"class","label-container svelte-1sgk2p5")},m(c,d){$(c,e,d),w(e,t),w(t,r),w(r,s),w(t,o),f.m(t,null)},p(c,[d]){d&1&&i!==(i=c[0].label+"")&&Se(s,i),u===(u=a(c))&&f?f.p(c,d):(f.d(1),f=u(c),f&&(f.c(),f.m(t,null))),d&1&&l!==(l=c[0].key)&&y(t,"for",l)},i:_e,o:_e,d(c){c&&m(e),f.d()}}}function l7(n,e,t){var l;const r=Ct();let{field:i}=e;(l=i==null?void 0:i.options)!=null&&l.options||(i.options={options:[]});function s(){i.value=dh(this),t(0,i)}const o=()=>r("input");return n.$$set=a=>{"field"in a&&t(0,i=a.field)},[i,r,s,o]}class a7 extends Ie{constructor(e){super(),$e(this,e,l7,o7,Le,{field:0})}}function q1(n,e,t){const r=n.slice();r[22]=e[t],r[27]=t;const i=`${r[0].key}-${r[27]}`;r[23]=i;const s=p7(r[22],r[0]);r[24]=s;const o=r[11](r[22],r[0]);return r[25]=o,r}function G1(n,e,t){const r=n.slice();return r[28]=e[t],r}function u7(n){let e,t=n[25]+"",r;return{c(){e=T("span"),r=H(t)},l(i){e=A(i,"SPAN",{});var s=O(e);r=U(s,t),s.forEach(m)},m(i,s){$(i,e,s),w(e,r)},p(i,s){s&5&&t!==(t=i[25]+"")&&Se(r,t)},d(i){i&&m(e)}}}function f7(n){let e,t,r;return{c(){e=T("img"),this.h()},l(i){e=A(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){zi(e.src,t=n[24])||y(e,"src",t),y(e,"alt",r=n[25]||`Preview for item ${n[27]} in ${n[0].label}`),y(e,"class","svelte-n1iays")},m(i,s){$(i,e,s)},p(i,s){s&5&&!zi(e.src,t=i[24])&&y(e,"src",t),s&5&&r!==(r=i[25]||`Preview for item ${i[27]} in ${i[0].label}`)&&y(e,"alt",r)},d(i){i&&m(e)}}}function K1(n){let e,t,r,i,s,o;t=new Ze({props:{icon:"mdi:arrow-up"}});function l(){return n[14](n[27])}return{c(){e=T("button"),W(t.$$.fragment),this.h()},l(a){e=A(a,"BUTTON",{title:!0,class:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"title",r="Move "+n[5]+" up"),y(e,"class","svelte-n1iays")},m(a,u){$(a,e,u),q(t,e,null),i=!0,s||(o=re(e,"click",l),s=!0)},p(a,u){n=a,(!i||u&32&&r!==(r="Move "+n[5]+" up"))&&y(e,"title",r)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t),s=!1,o()}}}function J1(n){let e,t,r,i,s,o;t=new Ze({props:{icon:"mdi:arrow-down"}});function l(){return n[15](n[27])}return{c(){e=T("button"),W(t.$$.fragment),this.h()},l(a){e=A(a,"BUTTON",{title:!0,class:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"title",r="Move "+n[5]+" down"),y(e,"class","svelte-n1iays")},m(a,u){$(a,e,u),q(t,e,null),i=!0,s||(o=re(e,"click",l),s=!0)},p(a,u){n=a,(!i||u&32&&r!==(r="Move "+n[5]+" down"))&&y(e,"title",r)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t),s=!1,o()}}}function Y1(n){let e,t=[],r=new Map,i,s=n[22];const o=l=>l[22]._key+l[28].key;for(let l=0;l<s.length;l+=1){let a=G1(n,s,l),u=o(a);r.set(u,t[l]=X1(u,a))}return{c(){e=T("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var a=O(e);for(let u=0;u<t.length;u+=1)t[u].l(a);a.forEach(m),this.h()},h(){y(e,"class","field-values svelte-n1iays")},m(l,a){$(l,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);i=!0},p(l,a){a&1543&&(s=l[22],le(),t=Ku(t,a,o,1,l,s,r,e,Ju,X1,null,G1),ae())},i(l){if(!i){for(let a=0;a<s.length;a+=1)S(t[a]);i=!0}},o(l){for(let a=0;a<t.length;a+=1)P(t[a]);i=!1},d(l){l&&m(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function c7(n){let e,t,r;var i=n[10](n[28]);function s(o){return{props:{field:o[28],level:o[1]+1}}}return i&&(e=kt(i,s(n)),e.$on("input",n[9])),{c(){e&&W(e.$$.fragment),t=ge()},l(o){e&&Y(e.$$.fragment,o),t=ge()},m(o,l){e&&q(e,o,l),$(o,t,l),r=!0},p(o,l){const a={};if(l&4&&(a.field=o[28]),l&2&&(a.level=o[1]+1),l&4&&i!==(i=o[10](o[28]))){if(e){le();const u=e;P(u.$$.fragment,1,0,()=>{G(u,1)}),ae()}i?(e=kt(i,s(o)),e.$on("input",o[9]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(a)},i(o){r||(e&&S(e.$$.fragment,o),r=!0)},o(o){e&&P(e.$$.fragment,o),r=!1},d(o){o&&m(t),e&&G(e,o)}}}function d7(n){let e,t=n[28].label+"",r,i,s,o;return s=new DE({props:{field:n[28],level:n[1]+1,visible:!0}}),s.$on("input",n[9]),{c(){e=T("span"),r=H(t),i=j(),W(s.$$.fragment),this.h()},l(l){e=A(l,"SPAN",{class:!0});var a=O(e);r=U(a,t),a.forEach(m),i=V(l),Y(s.$$.fragment,l),this.h()},h(){y(e,"class","repeater-label svelte-n1iays")},m(l,a){$(l,e,a),w(e,r),$(l,i,a),q(s,l,a),o=!0},p(l,a){(!o||a&4)&&t!==(t=l[28].label+"")&&Se(r,t);const u={};a&4&&(u.field=l[28]),a&2&&(u.level=l[1]+1),s.$set(u)},i(l){o||(S(s.$$.fragment,l),o=!0)},o(l){P(s.$$.fragment,l),o=!1},d(l){l&&m(e),l&&m(i),G(s,l)}}}function X1(n,e){let t,r,i,s,o;const l=[d7,c7],a=[];function u(f,c){return f[28].type==="repeater"?0:1}return r=u(e),i=a[r]=l[r](e),{key:n,first:null,c(){t=T("div"),i.c(),this.h()},l(f){t=A(f,"DIV",{class:!0,id:!0});var c=O(t);i.l(c),c.forEach(m),this.h()},h(){y(t,"class","repeater-item-field svelte-n1iays"),y(t,"id",s="repeater-"+e[0].key+"-"+e[27]+"-"+e[28].key),this.first=t},m(f,c){$(f,t,c),a[r].m(t,null),o=!0},p(f,c){e=f;let d=r;r=u(e),r===d?a[r].p(e,c):(le(),P(a[d],1,1,()=>{a[d]=null}),ae(),i=a[r],i?i.p(e,c):(i=a[r]=l[r](e),i.c()),S(i,1),i.m(t,null)),(!o||c&5&&s!==(s="repeater-"+e[0].key+"-"+e[27]+"-"+e[28].key))&&y(t,"id",s)},i(f){o||(S(i),o=!0)},o(f){P(i),o=!1},d(f){f&&m(t),a[r].d()}}}function Z1(n,e){let t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v;function E(R,F){return R[24]?f7:u7}let k=E(e),N=k(e);o=new Ze({props:{icon:e[4][e[23]]?"ph:caret-up-bold":"ph:caret-down-bold"}});function C(){return e[13](e[23])}let M=e[27]!==0&&K1(e),D=e[27]!==e[2].length-1&&J1(e);d=new Ze({props:{icon:"ion:trash"}});function I(){return e[16](e[27])}let z=e[4][e[23]]&&Y1(e);return{key:n,first:null,c(){t=T("div"),r=T("div"),i=T("button"),N.c(),s=j(),W(o.$$.fragment),l=j(),a=T("div"),M&&M.c(),u=j(),D&&D.c(),f=j(),c=T("button"),W(d.$$.fragment),p=j(),z&&z.c(),this.h()},l(R){t=A(R,"DIV",{class:!0,id:!0});var F=O(t);r=A(F,"DIV",{class:!0});var Z=O(r);i=A(Z,"BUTTON",{class:!0});var K=O(i);N.l(K),s=V(K),Y(o.$$.fragment,K),K.forEach(m),l=V(Z),a=A(Z,"DIV",{class:!0});var J=O(a);M&&M.l(J),u=V(J),D&&D.l(J),f=V(J),c=A(J,"BUTTON",{title:!0,class:!0});var X=O(c);Y(d.$$.fragment,X),X.forEach(m),J.forEach(m),Z.forEach(m),p=V(F),z&&z.l(F),F.forEach(m),this.h()},h(){y(i,"class","title svelte-n1iays"),y(c,"title",h="Delete "+e[5]+" item"),y(c,"class","svelte-n1iays"),y(a,"class","primo-buttons svelte-n1iays"),y(r,"class","item-options svelte-n1iays"),y(t,"class","repeater-item svelte-n1iays"),y(t,"id",g="repeater-"+e[0].key+"-"+e[27]),this.first=t},m(R,F){$(R,t,F),w(t,r),w(r,i),N.m(i,null),w(i,s),q(o,i,null),w(r,l),w(r,a),M&&M.m(a,null),w(a,u),D&&D.m(a,null),w(a,f),w(a,c),q(d,c,null),w(t,p),z&&z.m(t,null),_=!0,b||(v=[re(i,"click",C),re(c,"click",I)],b=!0)},p(R,F){e=R,k===(k=E(e))&&N?N.p(e,F):(N.d(1),N=k(e),N&&(N.c(),N.m(i,s)));const Z={};F&21&&(Z.icon=e[4][e[23]]?"ph:caret-up-bold":"ph:caret-down-bold"),o.$set(Z),e[27]!==0?M?(M.p(e,F),F&4&&S(M,1)):(M=K1(e),M.c(),S(M,1),M.m(a,u)):M&&(le(),P(M,1,1,()=>{M=null}),ae()),e[27]!==e[2].length-1?D?(D.p(e,F),F&4&&S(D,1)):(D=J1(e),D.c(),S(D,1),D.m(a,f)):D&&(le(),P(D,1,1,()=>{D=null}),ae()),(!_||F&32&&h!==(h="Delete "+e[5]+" item"))&&y(c,"title",h),e[4][e[23]]?z?(z.p(e,F),F&21&&S(z,1)):(z=Y1(e),z.c(),S(z,1),z.m(t,null)):z&&(le(),P(z,1,1,()=>{z=null}),ae()),(!_||F&5&&g!==(g="repeater-"+e[0].key+"-"+e[27]))&&y(t,"id",g)},i(R){_||(S(o.$$.fragment,R),S(M),S(D),S(d.$$.fragment,R),S(z),_=!0)},o(R){P(o.$$.fragment,R),P(M),P(D),P(d.$$.fragment,R),P(z),_=!1},d(R){R&&m(t),N.d(),G(o),M&&M.d(),D&&D.d(),G(d),z&&z.d(),b=!1,Tt(v)}}}function h7(n){let e,t,r=[],i=new Map,s,o,l,a,u,f,c=(n[3]?n[3].singular(n[0].label):n[0].label)+"",d,h,p,g,_,b=n[2];const v=E=>E[22]._key;for(let E=0;E<b.length;E+=1){let k=q1(n,b,E),N=v(k);i.set(N,r[E]=Z1(N,k))}return l=new Ze({props:{icon:"akar-icons:plus"}}),{c(){e=T("div"),t=T("div");for(let E=0;E<r.length;E+=1)r[E].c();s=j(),o=T("button"),W(l.$$.fragment),a=j(),u=T("span"),f=H("Add "),d=H(c),this.h()},l(E){e=A(E,"DIV",{class:!0});var k=O(e);t=A(k,"DIV",{class:!0});var N=O(t);for(let D=0;D<r.length;D+=1)r[D].l(N);s=V(N),o=A(N,"BUTTON",{class:!0});var C=O(o);Y(l.$$.fragment,C),a=V(C),u=A(C,"SPAN",{});var M=O(u);f=U(M,"Add "),d=U(M,c),M.forEach(m),C.forEach(m),N.forEach(m),k.forEach(m),this.h()},h(){y(o,"class","field-button svelte-n1iays"),y(t,"class","fields svelte-n1iays"),y(e,"class",h="repeater-level-"+n[1]+" svelte-n1iays")},m(E,k){$(E,e,k),w(e,t);for(let N=0;N<r.length;N+=1)r[N]&&r[N].m(t,null);w(t,s),w(t,o),q(l,o,null),w(o,a),w(o,u),w(u,f),w(u,d),p=!0,g||(_=re(o,"click",n[6]),g=!0)},p(E,[k]){k&4023&&(b=E[2],le(),r=Ku(r,k,v,1,E,b,i,t,Ju,Z1,s,q1),ae()),(!p||k&9)&&c!==(c=(E[3]?E[3].singular(E[0].label):E[0].label)+"")&&Se(d,c),(!p||k&2&&h!==(h="repeater-level-"+E[1]+" svelte-n1iays"))&&y(e,"class",h)},i(E){if(!p){for(let k=0;k<b.length;k+=1)S(r[k]);S(l.$$.fragment,E),p=!0}},o(E){for(let k=0;k<r.length;k+=1)P(r[k]);P(l.$$.fragment,E),p=!1},d(E){E&&m(e);for(let k=0;k<r.length;k+=1)r[k].d();G(l),g=!1,_()}}}const NE=je(null);Tr(()=>import("./index.d0fe1c09.js"),[],import.meta.url).then(n=>NE.set(n.default));function p7(n){const[e]=n;return e&&e.type==="image"?e.value.url:null}function m7(n,e,t){let r,i,s,o;me(n,NE,I=>t(3,i=I)),me(n,Mf,I=>t(17,s=I)),me(n,gr,I=>t(12,o=I));const l=Ct();let{field:a}=e,{level:u=0}=e;Array.isArray(a.value)||(a.value=[]);function f(){const I=h();t(4,k[`${a.key}-${p.length}`]=!0,k),t(2,p=[...p,I]),b()}function c(I){t(2,p=p.filter((z,R)=>R!==I)),b()}function d(I,z){const R=p[I],F=p.filter((Z,K)=>K!==I);z==="up"?t(2,p=[...F.slice(0,I-1),R,...F.slice(I-1)]):z==="down"?t(2,p=[...F.slice(0,I+1),R,...F.slice(I+1)]):console.error("Direction must be up or down"),b()}function h(){return a.fields.map(I=>({...I,id:Ed(),value:pn(I)}))}let p=[];g().then(I=>t(2,p=I));async function g(){return await Li(),a.value.map(I=>a.fields.map(z=>({...z,fields:gt(z.fields.map(R=>{var F;return{...R,value:(F=I[z.key])==null?void 0:F[R.key]}})),value:I[z.key]})))}function _(I){t(2,p=I.map(z=>(z._key=z._key||Ed(),z)))}function b(){t(0,a.value=p.map((I,z)=>Yr(I).keyBy("key").mapValues("value").value()),a),l("input",a)}function v(I){const z=Er(s,["id",I.type]);return z?z.component:OE}function E(I){const z=I.find(R=>["text","link","number"].includes(R.type));if(z){let{value:R}=I[0];return z.type==="link"?R==null?void 0:R.label:z.type==="markdown"?R==null?void 0:R.markdown:R}else return r}let k={};vp(a.id).then(I=>{I&&t(4,k=I)}),Ml(()=>{bp(a.id,gt(k))});const N=I=>t(4,k[I]=!k[I],k),C=I=>d(I,"up"),M=I=>d(I,"down"),D=I=>c(I);return n.$$set=I=>{"field"in I&&t(0,a=I.field),"level"in I&&t(1,u=I.level)},n.$$.update=()=>{n.$$.dirty&4096&&g().then(I=>t(2,p=I)),n.$$.dirty&4&&_(p),n.$$.dirty&9&&t(5,r=i&&i.singular(a.label))},[a,u,p,i,k,r,f,c,d,b,v,E,o,N,C,M,D]}class DE extends Ie{constructor(e){super(),$e(this,e,m7,h7,Le,{field:0,level:1})}}function Q1(n,e,t){const r=n.slice();return r[13]=e[t],r}function x1(n){let e,t,r=n[0].label+"",i,s,o,l,a,u;return o=new Ze({props:{icon:n[3]?"ph:caret-up-bold":"ph:caret-down-bold"}}),{c(){e=T("button"),t=T("span"),i=H(r),s=j(),W(o.$$.fragment),this.h()},l(f){e=A(f,"BUTTON",{class:!0});var c=O(e);t=A(c,"SPAN",{class:!0});var d=O(t);i=U(d,r),d.forEach(m),s=V(c),Y(o.$$.fragment,c),c.forEach(m),this.h()},h(){y(t,"class","svelte-90tw9c"),y(e,"class","svelte-90tw9c")},m(f,c){$(f,e,c),w(e,t),w(t,i),w(e,s),q(o,e,null),l=!0,a||(u=re(e,"click",n[7]),a=!0)},p(f,c){(!l||c&1)&&r!==(r=f[0].label+"")&&Se(i,r);const d={};c&8&&(d.icon=f[3]?"ph:caret-up-bold":"ph:caret-down-bold"),o.$set(d)},i(f){l||(S(o.$$.fragment,f),l=!0)},o(f){P(o.$$.fragment,f),l=!1},d(f){f&&m(e),G(o),a=!1,u()}}}function ev(n){let e,t,r,i=n[2],s=[];for(let l=0;l<i.length;l+=1)s[l]=nv(Q1(n,i,l));const o=l=>P(s[l],1,1,()=>{s[l]=null});return{c(){e=T("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var a=O(e);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(m),this.h()},h(){y(e,"class","group-entries svelte-90tw9c")},m(l,a){$(l,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);r=!0},p(l,a){if(a&118){i=l[2];let u;for(u=0;u<i.length;u+=1){const f=Q1(l,i,u);s[u]?(s[u].p(f,a),S(s[u],1)):(s[u]=nv(f),s[u].c(),S(s[u],1),s[u].m(e,null))}for(le(),u=i.length;u<s.length;u+=1)o(u);ae()}},i(l){if(!r){for(let a=0;a<i.length;a+=1)S(s[a]);Yt(()=>{r&&(t||(t=$i(e,Bi,{duration:100},!0)),t.run(1))}),r=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)P(s[a]);t||(t=$i(e,Bi,{duration:100},!1)),t.run(0),r=!1},d(l){l&&m(e),Kt(s,l),l&&t&&t.end()}}}function tv(n){let e,t,r,i;var s=n[6](n[13]);function o(l){return{props:{field:l[13],level:l[1]+1}}}return s&&(t=kt(s,o(n)),t.$on("input",n[5])),{c(){e=T("div"),t&&W(t.$$.fragment),r=j(),this.h()},l(l){e=A(l,"DIV",{class:!0});var a=O(e);t&&Y(t.$$.fragment,a),r=V(a),a.forEach(m),this.h()},h(){y(e,"class","group-item svelte-90tw9c")},m(l,a){$(l,e,a),t&&q(t,e,null),w(e,r),i=!0},p(l,a){const u={};if(a&4&&(u.field=l[13]),a&2&&(u.level=l[1]+1),a&4&&s!==(s=l[6](l[13]))){if(t){le();const f=t;P(f.$$.fragment,1,0,()=>{G(f,1)}),ae()}s?(t=kt(s,o(l)),t.$on("input",l[5]),W(t.$$.fragment),S(t.$$.fragment,1),q(t,e,r)):t=null}else s&&t.$set(u)},i(l){i||(t&&S(t.$$.fragment,l),i=!0)},o(l){t&&P(t.$$.fragment,l),i=!1},d(l){l&&m(e),t&&G(t)}}}function nv(n){let e,t,r=(n[13].options.hidden==="__show"||n[13].options.hidden===n[4]||!n[13].options.hidden)&&tv(n);return{c(){r&&r.c(),e=ge()},l(i){r&&r.l(i),e=ge()},m(i,s){r&&r.m(i,s),$(i,e,s),t=!0},p(i,s){i[13].options.hidden==="__show"||i[13].options.hidden===i[4]||!i[13].options.hidden?r?(r.p(i,s),s&20&&S(r,1)):(r=tv(i),r.c(),S(r,1),r.m(e.parentNode,e)):r&&(le(),P(r,1,1,()=>{r=null}),ae())},i(i){t||(S(r),t=!0)},o(i){P(r),t=!1},d(i){r&&r.d(i),i&&m(e)}}}function g7(n){let e,t,r,i,s=n[1]>0&&x1(n),o=!n[3]&&ev(n);return{c(){e=T("div"),s&&s.c(),t=j(),o&&o.c(),this.h()},l(l){e=A(l,"DIV",{class:!0});var a=O(e);s&&s.l(a),t=V(a),o&&o.l(a),a.forEach(m),this.h()},h(){y(e,"class",r="group-field group-level-"+n[1]+" svelte-90tw9c")},m(l,a){$(l,e,a),s&&s.m(e,null),w(e,t),o&&o.m(e,null),i=!0},p(l,[a]){l[1]>0?s?(s.p(l,a),a&2&&S(s,1)):(s=x1(l),s.c(),S(s,1),s.m(e,t)):s&&(le(),P(s,1,1,()=>{s=null}),ae()),l[3]?o&&(le(),P(o,1,1,()=>{o=null}),ae()):o?(o.p(l,a),a&8&&S(o,1)):(o=ev(l),o.c(),S(o,1),o.m(e,null)),(!i||a&2&&r!==(r="group-field group-level-"+l[1]+" svelte-90tw9c"))&&y(e,"class",r)},i(l){i||(S(s),S(o),i=!0)},o(l){P(s),P(o),i=!1},d(l){l&&m(e),s&&s.d(),o&&o.d()}}}function _7(n,e,t){let r,i;me(n,Mf,_=>t(8,i=_));const s=Ct();let{field:o}=e,{level:l=0}=e;function a(){t(0,o.value=Yr(r).keyBy("key").mapValues("value").value(),o)}function u(){t(0,o.fields=r.map(_=>_),o)}function f(){p(),a(),u(),s("input")}function c(_){const b=Er(i,["id",_.type]);return b?b.component:null}let d=!1,h=null;function p(){var _;t(4,h=((_=r.filter(b=>b.type==="select")[0])==null?void 0:_.value)||null)}const g=()=>t(3,d=!d);return n.$$set=_=>{"field"in _&&t(0,o=_.field),"level"in _&&t(1,l=_.level)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=o.fields.map(_=>({..._,value:o.value?o.value[_.key]:null}))),n.$$.dirty&4&&p()},[o,l,r,d,h,f,c,g]}class v7 extends Ie{constructor(e){super(),$e(this,e,_7,g7,Le,{field:0,level:1})}}function b7(n){let e,t,r,i=n[0].label+"",s,o,l,a,u,f,c,d=n[0].is_static&&rv();return{c(){e=T("label"),t=T("div"),r=T("span"),s=H(i),o=j(),d&&d.c(),l=j(),a=T("input"),this.h()},l(h){e=A(h,"LABEL",{class:!0});var p=O(e);t=A(p,"DIV",{class:!0});var g=O(t);r=A(g,"SPAN",{});var _=O(r);s=U(_,i),_.forEach(m),o=V(g),d&&d.l(g),g.forEach(m),l=V(p),a=A(p,"INPUT",{class:!0,title:!0,type:!0}),p.forEach(m),this.h()},h(){y(t,"class","svelte-mru8kn"),y(a,"class","input svelte-mru8kn"),y(a,"title",n[4]),a.disabled=n[3],y(a,"type","text"),y(e,"class",u=Rn(n[5])+" svelte-mru8kn")},m(h,p){$(h,e,p),w(e,t),w(t,r),w(r,s),w(t,o),d&&d.m(t,null),w(e,l),w(e,a),mn(a,n[0].value),f||(c=[re(a,"keydown",n[8]),re(a,"focus",n[7]),re(a,"input",n[11]),re(a,"input",n[12])],f=!0)},p(h,p){p&1&&i!==(i=h[0].label+"")&&Se(s,i),h[0].is_static?d||(d=rv(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),p&16&&y(a,"title",h[4]),p&8&&(a.disabled=h[3]),p&1&&a.value!==h[0].value&&mn(a,h[0].value),p&32&&u!==(u=Rn(h[5])+" svelte-mru8kn")&&y(e,"class",u)},d(h){h&&m(e),d&&d.d(),f=!1,Tt(c)}}}function y7(n){let e,t,r,i=n[0].label+"",s,o,l,a,u,f,c,d=n[0].is_static&&iv();return{c(){e=T("label"),t=T("div"),r=T("span"),s=H(i),o=j(),d&&d.c(),l=j(),a=T("input"),this.h()},l(h){e=A(h,"LABEL",{class:!0});var p=O(e);t=A(p,"DIV",{class:!0});var g=O(t);r=A(g,"SPAN",{});var _=O(r);s=U(_,i),_.forEach(m),o=V(g),d&&d.l(g),g.forEach(m),l=V(p),a=A(p,"INPUT",{class:!0,title:!0,type:!0}),p.forEach(m),this.h()},h(){y(t,"class","svelte-mru8kn"),y(a,"class","input svelte-mru8kn"),y(a,"title",n[4]),a.disabled=n[3],y(a,"type","text"),y(e,"class",u=Rn(n[5])+" svelte-mru8kn")},m(h,p){$(h,e,p),w(e,t),w(t,r),w(r,s),w(t,o),d&&d.m(t,null),w(e,l),w(e,a),mn(a,n[1]),f||(c=[re(a,"keydown",n[8]),re(a,"focus",n[7]),re(a,"input",n[9]),re(a,"input",n[10])],f=!0)},p(h,p){p&1&&i!==(i=h[0].label+"")&&Se(s,i),h[0].is_static?d||(d=iv(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),p&16&&y(a,"title",h[4]),p&8&&(a.disabled=h[3]),p&2&&a.value!==h[1]&&mn(a,h[1]),p&32&&u!==(u=Rn(h[5])+" svelte-mru8kn")&&y(e,"class",u)},d(h){h&&m(e),d&&d.d(),f=!1,Tt(c)}}}function rv(n){let e,t;return{c(){e=T("span"),t=H("Static"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"Static"),i.forEach(m),this.h()},h(){y(e,"class","pill svelte-mru8kn")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function iv(n){let e,t;return{c(){e=T("span"),t=H("Static"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"Static"),i.forEach(m),this.h()},h(){y(e,"class","pill svelte-mru8kn")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function k7(n){let e;function t(s,o){return s[1]?y7:b7}let r=t(n),i=r(n);return{c(){i.c(),e=ge()},l(s){i.l(s),e=ge()},m(s,o){i.m(s,o),$(s,e,o)},p(s,[o]){r===(r=t(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:_e,o:_e,d(s){i.d(s),s&&m(e)}}}function w7(n,e,t){const r=Ct();let{field:i}=e,{onChange:s=()=>{}}=e,{value:o=null}=e,{disabled:l=!1}=e,{title:a=null}=e,{variants:u=""}=e;function f({target:_}){i.default===i.value&&_.select()}function c({metaKey:_,key:b}){_&&b==="s"&&r("save")}function d(){o=this.value,t(1,o)}const h=()=>{s(i),r("input",i)};function p(){i.value=this.value,t(0,i)}const g=()=>r("input",i);return n.$$set=_=>{"field"in _&&t(0,i=_.field),"onChange"in _&&t(2,s=_.onChange),"value"in _&&t(1,o=_.value),"disabled"in _&&t(3,l=_.disabled),"title"in _&&t(4,a=_.title),"variants"in _&&t(5,u=_.variants)},[i,o,s,l,a,u,r,f,c,d,h,p,g]}class E7 extends Ie{constructor(e){super(),$e(this,e,w7,k7,Le,{field:0,onChange:2,value:1,disabled:3,title:4,variants:5})}}function sv(n,e,t){const r=n.slice();return r[9]=e[t],r}function ov(n){let e,t,r;return t=new Ze({props:{icon:n[0].value}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","icon-preview svelte-h3aj8g")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s&1&&(o.icon=i[0].value),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function lv(n){let e,t,r,i=n[3],s=[];for(let a=0;a<i.length;a+=1)s[a]=uv(sv(n,i,a));const o=a=>P(s[a],1,1,()=>{s[a]=null});let l=null;return i.length||(l=av()),{c(){e=T("div");for(let a=0;a<s.length;a+=1)s[a].c();l&&l.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var u=O(e);for(let f=0;f<s.length;f+=1)s[f].l(u);l&&l.l(u),u.forEach(m),this.h()},h(){y(e,"class","icons svelte-h3aj8g")},m(a,u){$(a,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);l&&l.m(e,null),r=!0},p(a,u){if(u&41){i=a[3];let f;for(f=0;f<i.length;f+=1){const c=sv(a,i,f);s[f]?(s[f].p(c,u),S(s[f],1)):(s[f]=uv(c),s[f].c(),S(s[f],1),s[f].m(e,null))}for(le(),f=i.length;f<s.length;f+=1)o(f);ae(),!i.length&&l?l.p(a,u):i.length?l&&(l.d(1),l=null):(l=av(),l.c(),l.m(e,null))}},i(a){if(!r){for(let u=0;u<i.length;u+=1)S(s[u]);t||Yt(()=>{t=qr(e,Gr,{}),t.start()}),r=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)P(s[u]);r=!1},d(a){a&&m(e),Kt(s,a),l&&l.d()}}}function av(n){let e,t;return{c(){e=T("span"),t=H(`No icons found
				`),this.h()},l(r){e=A(r,"SPAN",{style:!0});var i=O(e);t=U(i,`No icons found
				`),i.forEach(m),this.h()},h(){Re(e,"grid-column","1 / -1"),Re(e,"padding","0.5rem"),Re(e,"font-size","0.875rem"),Re(e,"border-left","3px solid red")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function uv(n){let e,t,r,i,s,o;t=new Ze({props:{icon:n[9],width:"50px"}});function l(){return n[7](n[9])}return{c(){e=T("button"),W(t.$$.fragment),r=j(),this.h()},l(a){e=A(a,"BUTTON",{class:!0});var u=O(e);Y(t.$$.fragment,u),r=V(u),u.forEach(m),this.h()},h(){y(e,"class","svelte-h3aj8g"),ee(e,"active",n[0].value===n[9])},m(a,u){$(a,e,u),q(t,e,null),w(e,r),i=!0,s||(o=re(e,"click",l),s=!0)},p(a,u){n=a;const f={};u&8&&(f.icon=n[9]),t.$set(f),(!i||u&9)&&ee(e,"active",n[0].value===n[9])},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t),s=!1,o()}}}function S7(n){let e,t,r=n[0].label+"",i,s,o,l,a,u,f,c,d,h,p,g=n[0].value&&ov(n);function _(E){n[6](E)}let b={prefix_icon:"tabler:search",label:"Search icons",button:{label:"Search",type:"submit"}};n[1]!==void 0&&(b.value=n[1]),u=new gl({props:b}),se.push(()=>be(u,"value",_));let v=n[2]&&lv(n);return{c(){e=T("div"),t=T("p"),i=H(r),s=j(),o=T("div"),g&&g.c(),l=j(),a=T("form"),W(u.$$.fragment),c=j(),v&&v.c(),this.h()},l(E){e=A(E,"DIV",{});var k=O(e);t=A(k,"P",{class:!0});var N=O(t);i=U(N,r),N.forEach(m),s=V(k),o=A(k,"DIV",{class:!0});var C=O(o);g&&g.l(C),l=V(C),a=A(C,"FORM",{class:!0});var M=O(a);Y(u.$$.fragment,M),M.forEach(m),C.forEach(m),c=V(k),v&&v.l(k),k.forEach(m),this.h()},h(){y(t,"class","label svelte-h3aj8g"),y(a,"class","svelte-h3aj8g"),y(o,"class","container svelte-h3aj8g")},m(E,k){$(E,e,k),w(e,t),w(t,i),w(e,s),w(e,o),g&&g.m(o,null),w(o,l),w(o,a),q(u,a,null),w(e,c),v&&v.m(e,null),d=!0,h||(p=re(a,"submit",Gi(n[4])),h=!0)},p(E,[k]){(!d||k&1)&&r!==(r=E[0].label+"")&&Se(i,r),E[0].value?g?(g.p(E,k),k&1&&S(g,1)):(g=ov(E),g.c(),S(g,1),g.m(o,l)):g&&(le(),P(g,1,1,()=>{g=null}),ae());const N={};!f&&k&2&&(f=!0,N.value=E[1],Ne(()=>f=!1)),u.$set(N),E[2]?v?(v.p(E,k),k&4&&S(v,1)):(v=lv(E),v.c(),S(v,1),v.m(e,null)):v&&(le(),P(v,1,1,()=>{v=null}),ae())},i(E){d||(S(g),S(u.$$.fragment,E),S(v),d=!0)},o(E){P(g),P(u.$$.fragment,E),P(v),d=!1},d(E){E&&m(e),g&&g.d(),G(u),v&&v.d(),h=!1,p()}}}function T7(n,e,t){const r=Ct();let{field:i}=e,s="",o=!1,l=[];async function a(){ds.get(`https://api.iconify.design/search?query=${encodeURIComponent(s.trim())}&limit=32`).then(({data:d})=>{t(3,l=d.icons),t(2,o=!0)})}function u(d){t(0,i.value=d,i),r("input")}function f(d){s=d,t(1,s)}const c=d=>u(d);return n.$$set=d=>{"field"in d&&t(0,i=d.field)},n.$$.update=()=>{n.$$.dirty&2&&s===""&&t(2,o=!1)},[i,s,o,l,a,u,f,c]}class A7 extends Ie{constructor(e){super(),$e(this,e,T7,S7,Le,{field:0})}}const O7=[{id:"repeater",label:"Repeater",component:DE},{id:"group",label:"Group",component:v7},{id:"text",label:"Text",component:E7},{id:"markdown",label:"Markdown",component:LH},{id:"image",label:"Image",component:RH},{id:"number",label:"Number",component:CH},{id:"switch",label:"Switch",component:FH},{id:"url",label:"URL",component:HH},{id:"link",label:"Link",component:e7},{id:"select",label:"Select",component:a7},{id:"icon",label:"Icon",component:A7},{id:"info",label:"Info",component:r7}],Pc=je(O7),Mf={register:n=>{Pc.update(e=>[...e,...n])},set:Pc.set,subscribe:Pc.subscribe};function fv(n,e,t){const r=n.slice();return r[14]=e[t],r[15]=e,r[16]=t,r}function cv(n){let e,t,r=n[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=hv(fv(n,r,o));const s=o=>P(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ge()},l(o){for(let l=0;l<i.length;l+=1)i[l].l(o);e=ge()},m(o,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,l);$(o,e,l),t=!0},p(o,l){if(l&61){r=o[2];let a;for(a=0;a<r.length;a+=1){const u=fv(o,r,a);i[a]?(i[a].p(u,l),S(i[a],1)):(i[a]=hv(u),i[a].c(),S(i[a],1),i[a].m(e.parentNode,e))}for(le(),a=r.length;a<i.length;a+=1)s(a);ae()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)S(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)P(i[l]);t=!1},d(o){Kt(i,o),o&&m(e)}}}function C7(n){let e,t,r,i,s,o;t=new Ze({props:{icon:"fa-solid:arrow-up"}});function l(){return n[10](n[16])}return{c(){e=T("button"),W(t.$$.fragment),this.h()},l(a){e=A(a,"BUTTON",{title:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"title",r="Move "+n[0].label+" up")},m(a,u){$(a,e,u),q(t,e,null),i=!0,s||(o=re(e,"click",l),s=!0)},p(a,u){n=a,(!i||u&1&&r!==(r="Move "+n[0].label+" up"))&&y(e,"title",r)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t),s=!1,o()}}}function dv(n){let e,t,r,i,s,o;t=new Ze({props:{icon:"fa-solid:arrow-down"}});function l(){return n[11](n[16])}return{c(){e=T("button"),W(t.$$.fragment),this.h()},l(a){e=A(a,"BUTTON",{title:!0});var u=O(e);Y(t.$$.fragment,u),u.forEach(m),this.h()},h(){y(e,"title",r="Move "+n[0].label+" down")},m(a,u){$(a,e,u),q(t,e,null),i=!0,s||(o=re(e,"click",l),s=!0)},p(a,u){n=a,(!i||u&1&&r!==(r="Move "+n[0].label+" down"))&&y(e,"title",r)},i(a){i||(S(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&m(e),G(t),s=!1,o()}}}function hv(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M,D,I;function z(){n[7].call(o,n[15],n[16])}function R(){n[8].call(d,n[15],n[16])}function F(){return n[9](n[14],n[15],n[16])}let Z=n[16]!==0&&C7(n),K=n[16]!==n[2].length-1&&dv(n);E=new Ze({props:{icon:"fa-solid:trash"}});function J(){return n[12](n[16])}return{c(){e=T("div"),t=T("label"),r=T("span"),i=H("Label"),s=j(),o=T("input"),l=j(),a=T("label"),u=T("span"),f=H("Value"),c=j(),d=T("input"),h=j(),p=T("div"),g=T("div"),Z&&Z.c(),_=j(),K&&K.c(),b=j(),v=T("button"),W(E.$$.fragment),C=j(),this.h()},l(X){e=A(X,"DIV",{class:!0});var ie=O(e);t=A(ie,"LABEL",{class:!0});var Ee=O(t);r=A(Ee,"SPAN",{class:!0});var Q=O(r);i=U(Q,"Label"),Q.forEach(m),s=V(Ee),o=A(Ee,"INPUT",{class:!0,type:!0}),Ee.forEach(m),l=V(ie),a=A(ie,"LABEL",{class:!0});var Me=O(a);u=A(Me,"SPAN",{class:!0});var ce=O(u);f=U(ce,"Value"),ce.forEach(m),c=V(Me),d=A(Me,"INPUT",{class:!0,type:!0}),Me.forEach(m),h=V(ie),p=A(ie,"DIV",{class:!0,id:!0});var de=O(p);g=A(de,"DIV",{class:!0});var Te=O(g);Z&&Z.l(Te),_=V(Te),K&&K.l(Te),b=V(Te),v=A(Te,"BUTTON",{title:!0});var Oe=O(v);Y(E.$$.fragment,Oe),Oe.forEach(m),Te.forEach(m),de.forEach(m),C=V(ie),ie.forEach(m),this.h()},h(){y(r,"class","svelte-c97gl"),y(o,"class","input label-input svelte-c97gl"),y(o,"type","text"),y(t,"class","svelte-c97gl"),y(u,"class","svelte-c97gl"),y(d,"class","input key-input svelte-c97gl"),y(d,"type","text"),y(a,"class","svelte-c97gl"),y(v,"title",k="Delete "+n[0].label+" item"),y(g,"class","item-options svelte-c97gl"),y(p,"class","primo-buttons svelte-c97gl"),y(p,"id",N="repeater-"+n[0].key+"-"+n[16]),y(e,"class","select-field svelte-c97gl")},m(X,ie){$(X,e,ie),w(e,t),w(t,r),w(r,i),w(t,s),w(t,o),mn(o,n[14].label),w(e,l),w(e,a),w(a,u),w(u,f),w(a,c),w(a,d),mn(d,n[14].value),w(e,h),w(e,p),w(p,g),Z&&Z.m(g,null),w(g,_),K&&K.m(g,null),w(g,b),w(g,v),q(E,v,null),w(e,C),M=!0,D||(I=[re(o,"input",z),re(o,"input",n[6]),re(d,"input",R),re(d,"input",F),re(v,"click",J)],D=!0)},p(X,ie){n=X,ie&4&&o.value!==n[14].label&&mn(o,n[14].label),ie&4&&d.value!==n[14].value&&mn(d,n[14].value),n[16]!==0&&Z.p(n,ie),n[16]!==n[2].length-1?K?(K.p(n,ie),ie&4&&S(K,1)):(K=dv(n),K.c(),S(K,1),K.m(g,b)):K&&(le(),P(K,1,1,()=>{K=null}),ae()),(!M||ie&1&&k!==(k="Delete "+n[0].label+" item"))&&y(v,"title",k),(!M||ie&1&&N!==(N="repeater-"+n[0].key+"-"+n[16]))&&y(p,"id",N)},i(X){M||(S(Z),S(K),S(E.$$.fragment,X),M=!0)},o(X){P(Z),P(K),P(E.$$.fragment,X),M=!1},d(X){X&&m(e),Z&&Z.d(),K&&K.d(),G(E),D=!1,Tt(I)}}}function M7(n){let e,t,r,i,s,o,l,a,u=n[2]&&cv(n);return{c(){e=T("div"),u&&u.c(),t=j(),r=T("button"),i=T("i"),s=H(`
		Add Option`),this.h()},l(f){e=A(f,"DIV",{class:!0,style:!0});var c=O(e);u&&u.l(c),t=V(c),r=A(c,"BUTTON",{class:!0});var d=O(r);i=A(d,"I",{class:!0}),O(i).forEach(m),s=U(d,`
		Add Option`),d.forEach(m),c.forEach(m),this.h()},h(){y(i,"class","fas fa-plus svelte-c97gl"),y(r,"class","field-button subfield-button svelte-c97gl"),y(e,"class","main"),Re(e,"margin-left",1.5+n[1]+"rem")},m(f,c){$(f,e,c),u&&u.m(e,null),w(e,t),w(e,r),w(r,i),w(r,s),o=!0,l||(a=re(r,"click",n[13]),l=!0)},p(f,[c]){f[2]?u?(u.p(f,c),c&4&&S(u,1)):(u=cv(f),u.c(),S(u,1),u.m(e,t)):u&&(le(),P(u,1,1,()=>{u=null}),ae()),(!o||c&2)&&Re(e,"margin-left",1.5+f[1]+"rem")},i(f){o||(S(u),o=!0)},o(f){P(u),o=!1},d(f){f&&m(e),u&&u.d(),l=!1,a()}}}function P7(n){return n.replace(/-/g,"_").replace(/ /g,"_").toLowerCase()}function N7(n,e,t){let r;const i=Ct();let{field:s}=e,{level:o}=e;function l(b,v){const E=r[b],k=r.filter((N,C)=>C!==b);v==="up"?t(0,s.options.options=[...k.slice(0,b-1),E,...k.slice(b-1)],s):v==="down"?t(0,s.options.options=[...k.slice(0,b+1),E,...k.slice(b+1)],s):console.error("Direction must be up or down"),i("input")}function a(b){t(0,s.options.options=s.options.options.filter((v,E)=>E!==b),s),i("input")}function u(b){mt.call(this,n,b)}function f(b,v){b[v].label=this.value,t(2,r),t(0,s)}function c(b,v){b[v].value=this.value,t(2,r),t(0,s)}const d=(b,v,E)=>{t(2,v[E].value=P7(b.value),r),i("input")},h=b=>l(b,"up"),p=b=>l(b,"down"),g=b=>a(b),_=()=>{var b;(b=s.options)!=null&&b.options?t(0,s.options.options=[...s.options.options,{label:"",value:""}],s):t(0,s.options={options:[{label:"",value:""}]},s),i("input")};return n.$$set=b=>{"field"in b&&t(0,s=b.field),"level"in b&&t(1,o=b.level)},n.$$.update=()=>{var b;n.$$.dirty&1&&t(2,r=(b=s.options)==null?void 0:b.options)},[s,o,r,i,l,a,u,f,c,d,h,p,g,_]}class D7 extends Ie{constructor(e){super(),$e(this,e,N7,M7,Le,{field:0,level:1})}}function pv(n,e,t){const r=n.slice();return r[40]=e[t],r[42]=t,r}function mv(n,e,t){const r=n.slice();return r[0]=e[t],r}function gv(n,e,t){const r=n.slice();return r[32]=e[t],r}function _v(n,e,t){const r=n.slice();return r[35]=e[t],r}function vv(n,e){let t,r,i;return r=new RE({props:{field:gt(e[40]),isFirst:e[42]===0,isLast:e[42]===e[0].fields.length-1,options:e[8],top_level:!1,level:e[1]+1}}),r.$on("delete",e[21]),r.$on("move",e[22]),r.$on("createsubfield",e[23]),r.$on("input",e[24]),{key:n,first:null,c(){t=ge(),W(r.$$.fragment),this.h()},l(s){t=ge(),Y(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,o){$(s,t,o),q(r,s,o),i=!0},p(s,o){e=s;const l={};o[0]&1&&(l.field=gt(e[40])),o[0]&1&&(l.isFirst=e[42]===0),o[0]&1&&(l.isLast=e[42]===e[0].fields.length-1),o[0]&256&&(l.options=e[8]),o[0]&2&&(l.level=e[1]+1),r.$set(l)},i(s){i||(S(r.$$.fragment,s),i=!0)},o(s){P(r.$$.fragment,s),i=!1},d(s){s&&m(t),G(r,s)}}}function bv(n){let e,t,r,i;return{c(){e=T("button"),t=H("Create Subfield"),this.h()},l(s){e=A(s,"BUTTON",{class:!0,"data-level":!0});var o=O(e);t=U(o,"Create Subfield"),o.forEach(m),this.h()},h(){y(e,"class","subfield-button svelte-d3w76c"),y(e,"data-level",n[1])},m(s,o){$(s,e,o),w(e,t),r||(i=re(e,"click",n[25]),r=!0)},p(s,o){o[0]&2&&y(e,"data-level",s[1])},d(s){s&&m(e),r=!1,i()}}}function R7(n){let e=[],t=new Map,r,i,s,o=n[0].fields;const l=u=>u[40].id;for(let u=0;u<o.length;u+=1){let f=pv(n,o,u),c=l(f);t.set(c,e[u]=vv(c,f))}let a=(n[0].type==="repeater"||n[0].type==="group")&&bv(n);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();r=j(),a&&a.c(),i=ge()},l(u){for(let f=0;f<e.length;f+=1)e[f].l(u);r=V(u),a&&a.l(u),i=ge()},m(u,f){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(u,f);$(u,r,f),a&&a.m(u,f),$(u,i,f),s=!0},p(u,f){f[0]&2307&&(o=u[0].fields,le(),e=Ku(e,f,l,1,u,o,t,r.parentNode,Ju,vv,r,pv),ae()),u[0].type==="repeater"||u[0].type==="group"?a?a.p(u,f):(a=bv(u),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(u){if(!s){for(let f=0;f<o.length;f+=1)S(e[f]);s=!0}},o(u){for(let f=0;f<e.length;f+=1)P(e[f]);s=!1},d(u){for(let f=0;f<e.length;f+=1)e[f].d(u);u&&m(r),a&&a.d(u),u&&m(i)}}}function yv(n){let e,t=n[0].label+"",r,i;return{c(){e=T("option"),r=H(t),this.h()},l(s){e=A(s,"OPTION",{});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){e.__value=i=n[0].id,e.value=e.__value},m(s,o){$(s,e,o),w(e,r)},p(s,o){o[0]&512&&t!==(t=s[0].label+"")&&Se(r,t),o[0]&512&&i!==(i=s[0].id)&&(e.__value=i,e.value=e.__value)},d(s){s&&m(e)}}}function I7(n){let e,t,r,i,s=n[9],o=[];for(let l=0;l<s.length;l+=1)o[l]=yv(mv(n,s,l));return{c(){e=T("select");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=A(l,"SELECT",{slot:!0,class:!0});var a=O(e);for(let u=0;u<o.length;u+=1)o[u].l(a);a.forEach(m),this.h()},h(){y(e,"slot","type"),y(e,"class","svelte-d3w76c")},m(l,a){$(l,e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);tr(e,n[0].type),r||(i=re(e,"change",n[20]),r=!0)},p(l,a){if(a[0]&512){s=l[9];let u;for(u=0;u<s.length;u+=1){const f=mv(l,s,u);o[u]?o[u].p(f,a):(o[u]=yv(f),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}a[0]&513&&t!==(t=l[0].type)&&tr(e,l[0].type)},d(l){l&&m(e),Kt(o,l),r=!1,i()}}}function $7(n){let e,t,r,i;return{c(){e=T("textarea"),this.h()},l(s){e=A(s,"TEXTAREA",{slot:!0,class:!0}),O(e).forEach(m),this.h()},h(){y(e,"slot","main"),y(e,"class","info svelte-d3w76c"),e.value=t=n[0].options.info||""},m(s,o){$(s,e,o),n[18](e),r||(i=re(e,"input",n[19]),r=!0)},p(s,o){o[0]&513&&t!==(t=s[0].options.info||"")&&(e.value=t)},d(s){s&&m(e),n[18](null),r=!1,i()}}}function L7(n){let e,t,r;return{c(){e=T("input"),this.h()},l(i){e=A(i,"INPUT",{class:!0,type:!0,placeholder:!0,slot:!0}),this.h()},h(){y(e,"class","input label-input svelte-d3w76c"),y(e,"type","text"),y(e,"placeholder","Heading"),y(e,"slot","label")},m(i,s){$(i,e,s),mn(e,n[0].label),t||(r=[re(e,"input",n[16]),re(e,"input",n[17])],t=!0)},p(i,s){s[0]&513&&e.value!==i[0].label&&mn(e,i[0].label)},d(i){i&&m(e),t=!1,Tt(r)}}}function z7(n){let e,t,r,i;return{c(){e=T("input"),this.h()},l(s){e=A(s,"INPUT",{class:!0,type:!0,placeholder:!0,slot:!0}),this.h()},h(){y(e,"class","input key-input svelte-d3w76c"),y(e,"type","text"),y(e,"placeholder","heading"),e.value=t=n[0].key,y(e,"slot","key")},m(s,o){$(s,e,o),r||(i=re(e,"input",n[15]),r=!0)},p(s,o){o[0]&513&&t!==(t=s[0].key)&&e.value!==t&&(e.value=t)},d(s){s&&m(e),r=!1,i()}}}function B7(n){let e,t,r,i;return{c(){e=T("input"),this.h()},l(s){e=A(s,"INPUT",{class:!0,type:!0,placeholder:!0,slot:!0}),this.h()},h(){y(e,"class","input key-input svelte-d3w76c"),y(e,"type","text"),y(e,"placeholder","Lorem ipsum"),e.value=t=n[0].default,y(e,"slot","default-value")},m(s,o){$(s,e,o),r||(i=re(e,"input",n[14]),r=!0)},p(s,o){o[0]&513&&t!==(t=s[0].default)&&e.value!==t&&(e.value=t)},d(s){s&&m(e),r=!1,i()}}}function kv(n){let e,t=n[35].label+"",r,i;return{c(){e=T("option"),r=H(t),this.h()},l(s){e=A(s,"OPTION",{});var o=O(e);r=U(o,t),o.forEach(m),this.h()},h(){e.__value=i=n[35].value,e.value=e.__value},m(s,o){$(s,e,o),w(e,r)},p(s,o){o[0]&16&&t!==(t=s[35].label+"")&&Se(r,t),o[0]&16&&i!==(i=s[35].value)&&(e.__value=i,e.value=e.__value)},d(s){s&&m(e)}}}function wv(n){let e,t,r=n[32].options,i=[];for(let s=0;s<r.length;s+=1)i[s]=kv(_v(n,r,s));return{c(){e=T("optgroup");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=A(s,"OPTGROUP",{label:!0});var o=O(e);for(let l=0;l<i.length;l+=1)i[l].l(o);o.forEach(m),this.h()},h(){y(e,"label",t=n[32].label)},m(s,o){$(s,e,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(s,o){if(o[0]&16){r=s[32].options;let l;for(l=0;l<r.length;l+=1){const a=_v(s,r,l);i[l]?i[l].p(a,o):(i[l]=kv(a),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}o[0]&16&&t!==(t=s[32].label)&&y(e,"label",t)},d(s){s&&m(e),Kt(i,s)}}}function F7(n){let e,t,r,i,s,o,l=n[4],a=[];for(let u=0;u<l.length;u+=1)a[u]=wv(gv(n,l,u));return{c(){e=T("select"),t=T("option"),r=H("Always");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=A(u,"SELECT",{slot:!0,class:!0});var f=O(e);t=A(f,"OPTION",{});var c=O(t);r=U(c,"Always"),c.forEach(m);for(let d=0;d<a.length;d+=1)a[d].l(f);f.forEach(m),this.h()},h(){t.__value="__show",t.value=t.__value,y(e,"slot","hide"),y(e,"class","svelte-d3w76c")},m(u,f){$(u,e,f),w(e,t),w(t,r);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);tr(e,n[0].options.hidden||"__show"),s||(o=re(e,"change",n[13]),s=!0)},p(u,f){if(f[0]&16){l=u[4];let c;for(c=0;c<l.length;c+=1){const d=gv(u,l,c);a[c]?a[c].p(d,f):(a[c]=wv(d),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}f[0]&513&&i!==(i=u[0].options.hidden||"__show")&&tr(e,u[0].options.hidden||"__show")},d(u){u&&m(e),Kt(a,u),s=!1,o()}}}function j7(n){let e,t;return e=new sH({props:{label:"Static",toggled:n[0].is_static}}),e.$on("toggle",n[12]),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.toggled=r[0].is_static),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function V7(n){let e,t=Jo("show_static_field"),r,i=t&&j7(n);return{c(){e=T("div"),i&&i.c(),this.h()},l(s){e=A(s,"DIV",{slot:!0});var o=O(e);i&&i.l(o),o.forEach(m),this.h()},h(){y(e,"slot","toggle")},m(s,o){$(s,e,o),i&&i.m(e,null),r=!0},p(s,o){t&&i.p(s,o)},i(s){r||(S(i),r=!0)},o(s){P(i),r=!1},d(s){s&&m(e),i&&i.d()}}}function Ev(n){let e,t;return e=new D7({props:{field:n[0],level:n[1]}}),e.$on("input",n[11]),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.field=r[0]),i[0]&2&&(s.level=r[1]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function H7(n){let e,t,r,i;e=new EH({props:{level:n[1],isFirst:n[2],isLast:n[3],top_level:n[5],has_subfields:n[0].type==="group"||n[0].type==="repeater",minimal:n[0].type==="info",showDefaultValue:["content","number","url","select","text"].includes(n[0].type),showVisibilityOptions:n[0].type!=="select"&&n[4].length>0?n[4]:!1,$$slots:{toggle:[V7],hide:[F7],"default-value":[B7],key:[z7],label:[L7],main:[$7],type:[I7],default:[R7]},$$scope:{ctx:n}}}),e.$on("duplicate",n[26]),e.$on("delete",n[27]),e.$on("move",n[28]);let s=n[0].type==="select"&&Ev(n);return{c(){W(e.$$.fragment),t=j(),s&&s.c(),r=ge()},l(o){Y(e.$$.fragment,o),t=V(o),s&&s.l(o),r=ge()},m(o,l){q(e,o,l),$(o,t,l),s&&s.m(o,l),$(o,r,l),i=!0},p(o,l){const a={};l[0]&2&&(a.level=o[1]),l[0]&4&&(a.isFirst=o[2]),l[0]&8&&(a.isLast=o[3]),l[0]&32&&(a.top_level=o[5]),l[0]&1&&(a.has_subfields=o[0].type==="group"||o[0].type==="repeater"),l[0]&1&&(a.minimal=o[0].type==="info"),l[0]&1&&(a.showDefaultValue=["content","number","url","select","text"].includes(o[0].type)),l[0]&17&&(a.showVisibilityOptions=o[0].type!=="select"&&o[4].length>0?o[4]:!1),l[0]&979|l[1]&4096&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),o[0].type==="select"?s?(s.p(o,l),l[0]&1&&S(s,1)):(s=Ev(o),s.c(),S(s,1),s.m(r.parentNode,r)):s&&(le(),P(s,1,1,()=>{s=null}),ae())},i(o){i||(S(e.$$.fragment,o),S(s),i=!0)},o(o){P(e.$$.fragment,o),P(s),i=!1},d(o){G(e,o),o&&m(t),s&&s.d(o),o&&m(r)}}}function Sv(n){return n.replace(/-/g,"_").replace(/ /g,"_").toLowerCase()}function Bo(n,e){return e===void 0?!1:n==="repeater"?Array.isArray(e):n==="group"?typeof e=="object"&&!Array.isArray(e):n==="image"?typeof e=="object"&&"url"in e&&"alt"in e:n==="link"?typeof e=="object"&&"url"in e&&"label"in e:n==="markdown"?typeof e=="object"&&"markdown"in e&&"html"in e:n==="text"||n==="url"?typeof e=="string":n==="number"?typeof e=="number":n==="switch"?typeof e=="boolean":(console.warn("Unhandled field type",n,e),!0)}function U7(n,e,t){let r,i;me(n,Mf,Q=>t(9,i=Q));const s=Ct();let{level:o=0}=e,{field:l}=e,{isFirst:a}=e,{isLast:u}=e,{options:f=[]}=e,{top_level:c=!0}=e;function d(){const Q=gt(l);Q.value=g(Q),s("input",Q)}function h(Q){if(!Bo(Q.type,Q.value))return pn(Q);const ce=L.cloneDeep(Q.value);for(let de of Q.fields)if(de.type==="repeater")ce[de.key]=p(de);else if(de.type==="group")ce[de.key]=h(de);else{const Te=ce[de.key];Bo(de.type,Te)||(ce[de.key]=pn(de))}return ce}function p(Q){return Bo(Q.type,Q.value)?L.cloneDeep(Q.value).map(ce=>{for(let de of Q.fields)if(de.type==="repeater")ce[de.key]=p(de);else if(de.type==="group")ce[de.key]=h(de);else{const Te=ce[de.key];Bo(de.type,Te)||(ce[de.key]=pn(de))}return ce}):pn(Q)}function g(Q){return Q.type==="repeater"?p(Q):Q.type==="group"?h(Q):Bo(Q.type,Q.value)?Q.value:pn(Q)}let _=!1,b;const v=({detail:Q})=>{t(0,l.is_static=Q,l)},E=({target:Q})=>{t(0,l={...l,options:{...l.options,hidden:Q.value}}),d()},k=({target:Q})=>{t(0,l.default=Q.value,l),d()},N=({target:Q})=>{t(7,_=!0),t(0,l.key=Sv(Q.value),l),d()};function C(){l.label=this.value,t(0,l)}const M=({target:Q})=>{_||t(0,l.key=Sv(Q.value),l),d()};function D(Q){se[Q?"unshift":"push"](()=>{b=Q,t(6,b)})}const I=({target:Q})=>{t(0,l.options.info=Q.value,l),d()},z=({target:Q})=>{t(0,l={...l,type:Q.value}),d()};function R(Q){mt.call(this,n,Q)}function F(Q){mt.call(this,n,Q)}function Z(Q){mt.call(this,n,Q)}const K=({detail:Q})=>{t(0,l.fields=l.fields.map(Me=>Me.id===Q.id?Q:Me),l),d()},J=()=>s("createsubfield",l),X=()=>s("duplicate",l),ie=()=>s("delete",l),Ee=({detail:Q})=>s("move",{field:l,direction:Q});return n.$$set=Q=>{"level"in Q&&t(1,o=Q.level),"field"in Q&&t(0,l=Q.field),"isFirst"in Q&&t(2,a=Q.isFirst),"isLast"in Q&&t(3,u=Q.isLast),"options"in Q&&t(4,f=Q.options),"top_level"in Q&&t(5,c=Q.top_level)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(8,r=l.fields.filter(Q=>Q.type==="select").map(Q=>({label:Q.label,key:Q.key,options:Q.options.options||[]}))),n.$$.dirty[0]&64&&b&&ME(b)},[l,o,a,u,f,c,b,_,r,i,s,d,v,E,k,N,C,M,D,I,z,R,F,Z,K,J,X,ie,Ee]}class RE extends Ie{constructor(e){super(),$e(this,e,U7,H7,Le,{level:1,field:0,isFirst:2,isLast:3,options:4,top_level:5},null,[-1,-1])}}function Tv(n,e,t){const r=n.slice();r[15]=e[t];const i=(r[15].key||r[15].type==="info")&&r[7](r[15]);r[18]=i;const s=r[15].fields.length>0;return r[19]=s,r}function Av(n,e,t){const r=n.slice();return r[15]=e[t],r[16]=e,r[17]=t,r}function W7(n){let e,t,r=n[0],i=[];for(let l=0;l<r.length;l+=1)i[l]=Cv(Tv(n,r,l));const s=l=>P(i[l],1,1,()=>{i[l]=null});let o=null;return r.length||(o=Ov(n)),{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge(),o&&o.c()},l(l){for(let a=0;a<i.length;a+=1)i[a].l(l);e=ge(),o&&o.l(l)},m(l,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(l,a);$(l,e,a),o&&o.m(l,a),t=!0},p(l,a){if(a&133){r=l[0];let u;for(u=0;u<r.length;u+=1){const f=Tv(l,r,u);i[u]?(i[u].p(f,a),S(i[u],1)):(i[u]=Cv(f),i[u].c(),S(i[u],1),i[u].m(e.parentNode,e))}for(le(),u=r.length;u<i.length;u+=1)s(u);ae(),!r.length&&o?o.p(l,a):r.length?o&&(o.d(1),o=null):(o=Ov(l),o.c(),o.m(e.parentNode,e))}},i(l){if(!t){for(let a=0;a<r.length;a+=1)S(i[a]);t=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)P(i[a]);t=!1},d(l){Kt(i,l),l&&m(e),o&&o.d(l)}}}function q7(n){let e=[],t=new Map,r,i,s,o,l,a,u,f,c,d=n[0];const h=p=>p[15].id;for(let p=0;p<d.length;p+=1){let g=Av(n,d,p),_=h(g);t.set(_,e[p]=Mv(_,g))}return s=new Ze({props:{icon:"fa-solid:plus"}}),{c(){for(let p=0;p<e.length;p+=1)e[p].c();r=j(),i=T("button"),W(s.$$.fragment),o=j(),l=T("span"),a=H("Add a Field"),this.h()},l(p){for(let b=0;b<e.length;b+=1)e[b].l(p);r=V(p),i=A(p,"BUTTON",{class:!0});var g=O(i);Y(s.$$.fragment,g),o=V(g),l=A(g,"SPAN",{});var _=O(l);a=U(_,"Add a Field"),_.forEach(m),g.forEach(m),this.h()},h(){y(i,"class","field-button svelte-5eb8hp"),i.disabled=Q7},m(p,g){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(p,g);$(p,r,g),$(p,i,g),q(s,i,null),w(i,o),w(i,l),w(l,a),u=!0,f||(c=re(i,"click",n[4]),f=!0)},p(p,g){g&873&&(d=p[0],le(),e=Ku(e,g,h,1,p,d,t,r.parentNode,Ju,Mv,r,Av),ae())},i(p){if(!u){for(let g=0;g<d.length;g+=1)S(e[g]);S(s.$$.fragment,p),u=!0}},o(p){for(let g=0;g<e.length;g+=1)P(e[g]);P(s.$$.fragment,p),u=!1},d(p){for(let g=0;g<e.length;g+=1)e[g].d(p);p&&m(r),p&&m(i),G(s),f=!1,c()}}}function Ov(n){let e,t;function r(o,l){return o[2]==="DEV"?K7:G7}let i=r(n),s=i(n);return{c(){e=T("p"),s.c(),t=j(),this.h()},l(o){e=A(o,"P",{class:!0});var l=O(e);s.l(l),t=V(l),l.forEach(m),this.h()},h(){y(e,"class","empty-description svelte-5eb8hp")},m(o,l){$(o,e,l),s.m(e,null),w(e,t)},p(o,l){i!==(i=r(o))&&(s.d(1),s=i(o),s&&(s.c(),s.m(e,t)))},d(o){o&&m(e),s.d()}}}function G7(n){let e;return{c(){e=H("When the site developer creates fields, they'll be editable from here")},l(t){e=U(t,"When the site developer creates fields, they'll be editable from here")},m(t,r){$(t,e,r)},d(t){t&&m(e)}}}function K7(n){let e;return{c(){e=H("When you create fields, they'll be editable from here")},l(t){e=U(t,"When you create fields, they'll be editable from here")},m(t,r){$(t,e,r)},d(t){t&&m(e)}}}function J7(n){let e,t;return{c(){e=T("p"),t=H("Field requires an Key"),this.h()},l(r){e=A(r,"P",{class:!0});var i=O(e);t=U(i,"Field requires an Key"),i.forEach(m),this.h()},h(){y(e,"class","empty-description svelte-5eb8hp")},m(r,i){$(r,e,i),w(e,t)},p:_e,i:_e,o:_e,d(r){r&&m(e)}}}function Y7(n){let e,t;return e=new D6({props:{title:n[19]?n[15].label:null,pill:n[15].is_static?"Static":null,$$slots:{default:[X7]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.title=r[19]?r[15].label:null),i&1&&(s.pill=r[15].is_static?"Static":null),i&4194305&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function X7(n){let e,t,r,i,s;function o(...u){return n[11](n[15],...u)}var l=n[7](n[15]);function a(u){return{props:{field:u[15],fields:u[0].filter(o)}}}return l&&(t=kt(l,a(n)),t.$on("save",n[12]),t.$on("input",n[13])),{c(){e=T("div"),t&&W(t.$$.fragment),i=j(),this.h()},l(u){e=A(u,"DIV",{class:!0,id:!0});var f=O(e);t&&Y(t.$$.fragment,f),f.forEach(m),i=V(u),this.h()},h(){y(e,"class","field-item"),y(e,"id",r="field-"+n[15].key),ee(e,"repeater",n[15].key==="repeater")},m(u,f){$(u,e,f),t&&q(t,e,null),$(u,i,f),s=!0},p(u,f){n=u;const c={};if(f&1&&(c.field=n[15]),f&1&&(c.fields=n[0].filter(o)),f&1&&l!==(l=n[7](n[15]))){if(t){le();const d=t;P(d.$$.fragment,1,0,()=>{G(d,1)}),ae()}l?(t=kt(l,a(n)),t.$on("save",n[12]),t.$on("input",n[13]),W(t.$$.fragment),S(t.$$.fragment,1),q(t,e,null)):t=null}else l&&t.$set(c);(!s||f&1&&r!==(r="field-"+n[15].key))&&y(e,"id",r),(!s||f&1)&&ee(e,"repeater",n[15].key==="repeater")},i(u){s||(t&&S(t.$$.fragment,u),s=!0)},o(u){t&&P(t.$$.fragment,u),s=!1},d(u){u&&m(e),t&&G(t),u&&m(i)}}}function Cv(n){let e,t,r,i;const s=[Y7,J7],o=[];function l(a,u){return a[18]?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}function Mv(n,e){let t,r,i;function s(...o){return e[10](e[15],e[16],e[17],...o)}return r=new RE({props:{field:e[15],isFirst:e[17]===0,isLast:e[17]===e[0].length-1}}),r.$on("duplicate",e[8]),r.$on("delete",e[6]),r.$on("move",e[9]),r.$on("createsubfield",e[5]),r.$on("input",s),{key:n,first:null,c(){t=ge(),W(r.$$.fragment),this.h()},l(o){t=ge(),Y(r.$$.fragment,o),this.h()},h(){this.first=t},m(o,l){$(o,t,l),q(r,o,l),i=!0},p(o,l){e=o;const a={};l&1&&(a.field=e[15]),l&1&&(a.isFirst=e[17]===0),l&1&&(a.isLast=e[17]===e[0].length-1),r.$set(a)},i(o){i||(S(r.$$.fragment,o),i=!0)},o(o){P(r.$$.fragment,o),i=!1},d(o){o&&m(t),G(r,o)}}}function Z7(n){let e,t,r,i;const s=[q7,W7],o=[];function l(a,u){return a[1]?0:1}return t=l(n),r=o[t]=s[t](n),{c(){e=T("main"),r.c(),this.h()},l(a){e=A(a,"MAIN",{class:!0});var u=O(e);r.l(u),u.forEach(m),this.h()},h(){y(e,"class","svelte-5eb8hp")},m(a,u){$(a,e,u),o[t].m(e,null),i=!0},p(a,[u]){let f=t;t=l(a),t===f?o[t].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),r=o[t],r?r.p(a,u):(r=o[t]=s[t](a),r.c()),S(r,1),r.m(e,null))},i(a){i||(S(r),i=!0)},o(a){P(r),i=!1},d(a){a&&m(e),o[t].d()}}}let Q7=!1;function Wo(n,e){for(const[t,r]of n.entries()){const i=Wo(r.fields,e);if(i)return i.unshift(t,"fields"),i;if(r.id===e)return[t]}}function x7(n,e,t){let r,i;me(n,Mf,v=>t(14,r=v)),me(n,$w,v=>t(2,i=v));let{fields:s}=e,{showCode:o=!0}=e;const l=Ct();function a(){t(0,s=[...s,Ag()]),l("input")}function u({detail:v}){const E=Wo(s,v.id);let k=gt(s);N(s);function N(C){if(Er(C,["id",v.id])){const M=gt(v);M.fields=[...M.fields,Ag()],Ho(k,E,M)}else C.forEach(M=>N(M.fields))}t(0,s=k),l("input")}function f({detail:v}){const E=Wo(s,v.id);let k=gt(s),N=sf(k,E.slice(0,-2));N?C(s):t(0,s=s.filter(M=>M.id!==v.id)),l("delete");function C(M){if(Er(M,["id",N.id])){const D=gt(N);D.fields=D.fields.filter(I=>I.id!=v.id),Ho(k,E.slice(0,-2),D)}else M.forEach(D=>C(D.fields));t(0,s=k)}}function c(v){const E=Er(r,["id",v.type]);return E?E.component:(console.warn(`Field type '${v.type}' no longer exists, removing '${v.label}' field`),OE)}function d({detail:v}){const E=v,k=Wo(s,E.id);let N=gt(s);C(s);function C(M){const D=M.findIndex(I=>I.id===E.id);if(D>-1){const I=[...M.slice(0,D+1),gt({...E,id:Ed(),key:E.key+"_copy",label:E.label+" copy"}),...M.slice(D+1)];if(k.length===1)N=I;else{const z=k.slice(0,-1);Ho(N,z,I)}}else M.forEach(I=>C(I.fields))}t(0,s=N)}function h({detail:v}){const{field:E,direction:k}=v,N=Wo(s,E.id);let C=gt(s);M(s);function M(D){const I=D.findIndex(z=>z.id===E.id);if(I>-1){const z=D.filter((F,Z)=>Z!==I),R={up:[...z.slice(0,I-1),E,...z.slice(I-1)],down:[...z.slice(0,I+1),E,...z.slice(I+1)]}[k];if(N.length===1)C=R;else{const F=N.slice(0,-1);Ho(C,F,R)}}else D.forEach(z=>M(z.fields))}t(0,s=C)}const p=(v,E,k,{detail:N})=>{t(0,E[k]=N,s),l("input")},g=(v,E)=>E.id!==v.id;function _(v){mt.call(this,n,v)}function b(v){mt.call(this,n,v)}return n.$$set=v=>{"fields"in v&&t(0,s=v.fields),"showCode"in v&&t(1,o=v.showCode)},[s,o,i,l,a,u,f,c,d,h,p,g,_,b]}class es extends Ie{constructor(e){super(),$e(this,e,x7,Z7,Le,{fields:0,showCode:1})}}function eU(n){let e,t;const r=[n[2],{warn:n[30]},{title:"Edit "+(n[1].symbol.name||"Block")},{button:{...n[2].button,onclick:n[24],icon:"material-symbols:save",disabled:n[12]}}];let i={};for(let s=0;s<r.length;s+=1)i=Rt(i,r[s]);return e=new Po({props:i}),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,o){q(e,s,o),t=!0},p(s,o){const l=o[0]&16781318?jn(r,[o[0]&4&&qi(s[2]),o&0&&{warn:s[30]},o[0]&2&&{title:"Edit "+(s[1].symbol.name||"Block")},o[0]&16781316&&{button:{...s[2].button,onclick:s[24],icon:"material-symbols:save",disabled:s[12]}}]):{};e.$set(l)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function tU(n){let e,t;const r=[n[2],{warn:n[29]},{button:{...n[2].button,onclick:n[24],icon:"material-symbols:save",disabled:n[12]}}];let i={$$slots:{title:[nU]},$$scope:{ctx:n}};for(let s=0;s<r.length;s+=1)i=Rt(i,r[s]);return e=new Po({props:i}),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,o){q(e,s,o),t=!0},p(s,o){const l=o[0]&16781316?jn(r,[o[0]&4&&qi(s[2]),o&0&&{warn:s[29]},o[0]&16781316&&{button:{...s[2].button,onclick:s[24],icon:"material-symbols:save",disabled:s[12]}}]):{};o[0]&1|o[1]&134217728&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function nU(n){let e,t,r;return t=new wf({props:{active_tab_id:n[0],tabs:[{id:"content",label:"Content",icon:"uil:edit"},{id:"fields",label:"Fields",icon:"fluent:form-multiple-24-regular"},{id:"code",label:"Code",icon:"gravity-ui:code"}]}}),t.$on("switch",n[28]),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0,slot:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","tabs"),y(e,"slot","title")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s[0]&1&&(o.active_tab_id=i[0]),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function rU(n){let e,t,r,i,s,o;function l(d){n[40](d)}function a(d){n[41](d)}function u(d){n[42](d)}function f(d){n[43](d)}let c={orientation:n[14],hideRightPanel:n[19],hideLeftOverflow:n[20]&&n[21]===0,$$slots:{right:[aU],left:[lU]},$$scope:{ctx:n}};return n[15]!==void 0&&(c.leftPaneSize=n[15]),n[16]!==void 0&&(c.rightPaneSize=n[16]),n[17]!==void 0&&(c.topPaneSize=n[17]),n[18]!==void 0&&(c.bottomPaneSize=n[18]),e=new Tp({props:c}),se.push(()=>be(e,"leftPaneSize",l)),se.push(()=>be(e,"rightPaneSize",a)),se.push(()=>be(e,"topPaneSize",u)),se.push(()=>be(e,"bottomPaneSize",f)),{c(){W(e.$$.fragment)},l(d){Y(e.$$.fragment,d)},m(d,h){q(e,d,h),o=!0},p(d,h){const p={};h[0]&16384&&(p.orientation=d[14]),h[0]&524288&&(p.hideRightPanel=d[19]),h[0]&3145728&&(p.hideLeftOverflow=d[20]&&d[21]===0),h[0]&19961|h[1]&134217728&&(p.$$scope={dirty:h,ctx:d}),!t&&h[0]&32768&&(t=!0,p.leftPaneSize=d[15],Ne(()=>t=!1)),!r&&h[0]&65536&&(r=!0,p.rightPaneSize=d[16],Ne(()=>r=!1)),!i&&h[0]&131072&&(i=!0,p.topPaneSize=d[17],Ne(()=>i=!1)),!s&&h[0]&262144&&(s=!0,p.bottomPaneSize=d[18],Ne(()=>s=!1)),e.$set(p)},i(d){o||(S(e.$$.fragment,d),o=!0)},o(d){P(e.$$.fragment,d),o=!1},d(d){G(e,d)}}}function iU(n){let e,t,r;function i(o){n[31](o)}let s={showCode:!0};return n[3]!==void 0&&(s.fields=n[3]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("input",n[32]),e.$on("delete",n[33]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&8&&(t=!0,a.fields=o[3],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function sU(n){let e,t,r,i,s;function o(f){n[37](f)}function l(f){n[38](f)}function a(f){n[39](f)}let u={data:n[8]};return n[4]!==void 0&&(u.html=n[4]),n[5]!==void 0&&(u.css=n[5]),n[6]!==void 0&&(u.js=n[6]),e=new AE({props:u}),se.push(()=>be(e,"html",o)),se.push(()=>be(e,"css",l)),se.push(()=>be(e,"js",a)),e.$on("save",n[24]),e.$on("refresh",n[23]),{c(){W(e.$$.fragment)},l(f){Y(e.$$.fragment,f)},m(f,c){q(e,f,c),s=!0},p(f,c){const d={};c[0]&256&&(d.data=f[8]),!t&&c[0]&16&&(t=!0,d.html=f[4],Ne(()=>t=!1)),!r&&c[0]&32&&(r=!0,d.css=f[5],Ne(()=>r=!1)),!i&&c[0]&64&&(i=!0,d.js=f[6],Ne(()=>i=!1)),e.$set(d)},i(f){s||(S(e.$$.fragment,f),s=!0)},o(f){P(e.$$.fragment,f),s=!1},d(f){G(e,f)}}}function oU(n){let e,t,r;function i(o){n[35](o)}let s={showCode:!1};return n[3]!==void 0&&(s.fields=n[3]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("save",n[24]),e.$on("input",n[36]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&8&&(t=!0,a.fields=o[3],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function lU(n){let e,t,r,i;const s=[oU,sU],o=[];function l(a,u){return a[0]==="content"?0:a[0]==="code"?1:-1}return~(t=l(n))&&(r=o[t]=s[t](n)),{c(){e=T("div"),r&&r.c(),this.h()},l(a){e=A(a,"DIV",{slot:!0,style:!0,class:!0});var u=O(e);r&&r.l(u),u.forEach(m),this.h()},h(){y(e,"slot","left"),Re(e,"display","flex"),Re(e,"flex-direction","column"),y(e,"class","svelte-17meaml")},m(a,u){$(a,e,u),~t&&o[t].m(e,null),i=!0},p(a,u){let f=t;t=l(a),t===f?~t&&o[t].p(a,u):(r&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~t?(r=o[t],r?r.p(a,u):(r=o[t]=s[t](a),r.c()),S(r,1),r.m(e,null)):r=null)},i(a){i||(S(r),i=!0)},o(a){P(r),i=!1},d(a){a&&m(e),~t&&o[t].d()}}}function aU(n){let e,t,r,i;function s(l){n[34](l)}let o={view:"small",loading:n[10],componentApp:n[11],data:n[8],error:n[7]};return n[14]!==void 0&&(o.orientation=n[14]),t=new Ef({props:o}),se.push(()=>be(t,"orientation",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0,class:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","right"),y(e,"class","svelte-17meaml")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};a[0]&1024&&(u.loading=l[10]),a[0]&2048&&(u.componentApp=l[11]),a[0]&256&&(u.data=l[8]),a[0]&128&&(u.error=l[7]),!r&&a[0]&16384&&(r=!0,u.orientation=l[14],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function uU(n){let e,t,r,i,s,o,l;const a=[tU,eU],u=[];function f(p,g){return p[13]==="DEV"?0:1}e=f(n),t=u[e]=a[e](n);const c=[iU,rU],d=[];function h(p,g){return p[0]==="fields"?0:1}return s=h(n),o=d[s]=c[s](n),{c(){t.c(),r=j(),i=T("main"),o.c(),this.h()},l(p){t.l(p),r=V(p),i=A(p,"MAIN",{lang:!0,class:!0});var g=O(i);o.l(g),g.forEach(m),this.h()},h(){y(i,"lang",n[9]),y(i,"class","svelte-17meaml"),ee(i,"showing-fields",n[0]==="fields")},m(p,g){u[e].m(p,g),$(p,r,g),$(p,i,g),d[s].m(i,null),l=!0},p(p,g){let _=e;e=f(p),e===_?u[e].p(p,g):(le(),P(u[_],1,1,()=>{u[_]=null}),ae(),t=u[e],t?t.p(p,g):(t=u[e]=a[e](p),t.c()),S(t,1),t.m(r.parentNode,r));let b=s;s=h(p),s===b?d[s].p(p,g):(le(),P(d[b],1,1,()=>{d[b]=null}),ae(),o=d[s],o?o.p(p,g):(o=d[s]=c[s](p),o.c()),S(o,1),o.m(i,null)),(!l||g[0]&512)&&y(i,"lang",p[9]),(!l||g[0]&1)&&ee(i,"showing-fields",p[0]==="fields")},i(p){l||(S(t),S(o),l=!0)},o(p){P(t),P(o),l=!1},d(p){u[e].d(p),p&&m(r),p&&m(i),d[s].d()}}}const Pv=je(De(Ln)?"100%":"50%"),Nv=je("50%"),Dv=je(De(Ln)?"100%":"50%"),Rv=je("50%"),Iv=je("horizontal"),fU=je(0);function cU(n,e,t){let r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v;me(n,Vl,ne=>t(46,i=ne)),me(n,Fl,ne=>t(47,s=ne)),me(n,so,ne=>t(26,o=ne)),me(n,gr,ne=>t(9,l=ne)),me(n,bn,ne=>t(27,a=ne)),me(n,Co,ne=>t(48,u=ne)),me(n,$w,ne=>t(13,f=ne)),me(n,Iv,ne=>t(14,c=ne)),me(n,Pv,ne=>t(15,d=ne)),me(n,Nv,ne=>t(16,h=ne)),me(n,Dv,ne=>t(17,p=ne)),me(n,Rv,ne=>t(18,g=ne)),me(n,Ln,ne=>t(19,_=ne)),me(n,Cs,ne=>t(20,b=ne)),me(n,fU,ne=>t(21,v=ne));let{component:E}=e,{tab:k="code"}=e,{header:N={label:"Create Component",icon:"fas fa-code",button:{icon:"fas fa-plus",label:"Add to page",onclick:ne=>{console.warn("Component not going anywhere",ne)}}}}=e;uh("show_static_field",!0);const C=new Map;function M(ne){const Ge=JSON.stringify(ne);if(C.has(Ge))return C.get(Ge);{const Xe=pn(ne);return C.set(Ge,Xe),Xe}}const D=gt(u.find(ne=>ne.id===E.symbol));let I=gt(D.code),z=D.fields,R=F();function F(){let ne=D.content;return D.fields.forEach(Ge=>{if(Ge.is_static){const Xe=D.content[l][Ge.key];ne={...ne,[l]:{...ne[l],[Ge.key]:Xe!==void 0?Xe:M(Ge)}}}else{const Xe=E.content[l][Ge.key];ne={...ne,[l]:{...ne[l],[Ge.key]:Xe!==void 0?Xe:M(Ge)}}}}),ne}function Z(ne,Ge){return{...Ua({loc:ne}),...Ge[ne]}}function K(ne){t(3,z=Ge(z,ne));function Ge(Xe,he){return Xe.map(Mt=>{var Xn;const qt=(Xn=R[he])==null?void 0:Xn[Mt.key],vr=qt!==void 0?qt:M(Mt);return{...Mt,value:vr}})}}async function J(ne){const Ge=L.cloneDeep(R);Xe(),he(),t(25,R=Ge);function Xe(){Object.keys(R[l]).forEach(Mt=>{Er(ne,["key",Mt])||Object.keys(R).forEach(qt=>{delete Ge[qt][Mt]})}),x()}function he(){ne.forEach(Mt=>{R[l][Mt.key]===void 0&&Object.keys(R).forEach(qt=>{Ge[qt][Mt.key]=pn(Mt)})})}}function X(ne){Object.keys(ne).forEach(Ge=>{R[Ge]||t(25,R={...R,[Ge]:R.en})})}function ie(){t(25,R={...R,[l]:{...R[l],...Yr(z).keyBy("key").mapValues("value").value()}})}let Ee=!1,Q=I.html,Me=I.css,ce=I.js,de,Te,Oe=!1;async function B({html:ne,css:Ge,js:Xe}){t(12,Oe=!0),t(10,Ee=!0),await he(),t(12,Oe=Te),await setTimeout(()=>{t(10,Ee=!1)},200);async function he(){const Mt=await bf(i.css+s.css),qt=await vf({component:{html:`
      <svelte:head>
        ${i.html.head}
        ${s.html.head}
        ${Gw(Mt,"parent-styles")}
      </svelte:head>
      ${ne}
      ${s.html.below}
      ${i.html.below}
      `,css:Ge,js:Xe,data:r},buildStatic:!1});t(7,Te=qt.error),t(11,de=qt.js),I={html:ne,css:Ge,js:Xe}}}let we=!1;async function x(){await B({html:Q,css:Me,js:ce}),we=!0}async function te(){if(we||await x(),!Oe){const ne=D.content,Ge={};Object.entries(R).forEach(([Xe,he])=>{Object.entries(he).forEach(([Mt,qt])=>{z.find(Xn=>Xn.key===Mt).is_static?ne[Xe]={...ne[Xe],[Mt]:qt}:Ge[Xe]={...Ge[Xe],[Mt]:qt}})}),qa.update(D.id,{code:I,content:ne,fields:z.map(Xe=>(delete Xe.value,Xe))}),Zw(E,Ge),N.button.onclick()}}const Ae=({detail:ne})=>{t(0,k=ne)},it=()=>window.confirm("Undrafted changes will be lost. Continue?"),Nt=()=>window.confirm("Undrafted changes will be lost. Continue?");function Ft(ne){z=ne,t(3,z)}const ze=()=>{x(),ie()},bt=async()=>{await Li(),ie(),x()};function ve(ne){c=ne,Iv.set(c)}function ke(ne){z=ne,t(3,z)}const ue=()=>{t(3,z=z.filter(Boolean)),ie()};function nt(ne){Q=ne,t(4,Q)}function Qe(ne){Me=ne,t(5,Me)}function pe(ne){ce=ne,t(6,ce)}function fe(ne){d=ne,Pv.set(d)}function Ue(ne){h=ne,Nv.set(h)}function Je(ne){p=ne,Dv.set(p)}function qe(ne){g=ne,Rv.set(g)}return n.$$set=ne=>{"component"in ne&&t(1,E=ne.component),"tab"in ne&&t(0,k=ne.tab),"header"in ne&&t(2,N=ne.header)},n.$$.update=()=>{n.$$.dirty[0]&33554944&&t(8,r=Z(l,R)),n.$$.dirty[0]&512&&K(l),n.$$.dirty[0]&8&&J(z),n.$$.dirty[0]&134217728&&X(a),n.$$.dirty[0]&67108976&&o&&B({html:Q,css:Me,js:ce}),n.$$.dirty[0]&384&&Te&&r&&x(),n.$$.dirty[0]&112&&(we=!1)},[k,E,N,z,Q,Me,ce,Te,r,l,Ee,de,Oe,f,c,d,h,p,g,_,b,v,ie,x,te,R,o,a,Ae,it,Nt,Ft,ze,bt,ve,ke,ue,nt,Qe,pe,fe,Ue,Je,qe]}class dU extends Ie{constructor(e){super(),$e(this,e,cU,uU,Le,{component:1,tab:0,header:2},null,[-1,-1])}}function hU(n){let e,t,r;return t=new wf({props:{active_tab_id:n[0],tabs:[{id:"content",label:"Content",icon:"uil:edit"},{id:"fields",label:"Fields",icon:"fluent:form-multiple-24-regular"},{id:"code",label:"Code",icon:"gravity-ui:code"}]}}),t.$on("switch",n[27]),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{slot:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"slot","title")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s[0]&1&&(o.active_tab_id=i[0]),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function pU(n){let e,t,r;function i(o){n[36](o)}let s={showCode:!1};return n[3]!==void 0&&(s.fields=n[3]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("save",n[23]),e.$on("input",n[37]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&8&&(t=!0,a.fields=o[3],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function mU(n){let e,t,r;function i(o){n[33](o)}let s={showCode:!0};return n[3]!==void 0&&(s.fields=n[3]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("input",n[34]),e.$on("delete",n[35]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&8&&(t=!0,a.fields=o[3],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function gU(n){let e,t,r,i,s;function o(f){n[30](f)}function l(f){n[31](f)}function a(f){n[32](f)}let u={data:n[8]};return n[4]!==void 0&&(u.html=n[4]),n[5]!==void 0&&(u.css=n[5]),n[6]!==void 0&&(u.js=n[6]),e=new AE({props:u}),se.push(()=>be(e,"html",o)),se.push(()=>be(e,"css",l)),se.push(()=>be(e,"js",a)),e.$on("save",n[23]),e.$on("refresh",n[22]),{c(){W(e.$$.fragment)},l(f){Y(e.$$.fragment,f)},m(f,c){q(e,f,c),s=!0},p(f,c){const d={};c[0]&256&&(d.data=f[8]),!t&&c[0]&16&&(t=!0,d.html=f[4],Ne(()=>t=!1)),!r&&c[0]&32&&(r=!0,d.css=f[5],Ne(()=>r=!1)),!i&&c[0]&64&&(i=!0,d.js=f[6],Ne(()=>i=!1)),e.$set(d)},i(f){s||(S(e.$$.fragment,f),s=!0)},o(f){P(e.$$.fragment,f),s=!1},d(f){G(e,f)}}}function _U(n){let e,t,r,i;const s=[gU,mU,pU],o=[];function l(a,u){return a[0]==="code"?0:a[0]==="fields"?1:a[0]==="content"?2:-1}return~(t=l(n))&&(r=o[t]=s[t](n)),{c(){e=T("div"),r&&r.c(),this.h()},l(a){e=A(a,"DIV",{slot:!0,lang:!0,class:!0});var u=O(e);r&&r.l(u),u.forEach(m),this.h()},h(){y(e,"slot","left"),y(e,"lang",n[9]),y(e,"class","svelte-rqu6fk")},m(a,u){$(a,e,u),~t&&o[t].m(e,null),i=!0},p(a,u){let f=t;t=l(a),t===f?~t&&o[t].p(a,u):(r&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~t?(r=o[t],r?r.p(a,u):(r=o[t]=s[t](a),r.c()),S(r,1),r.m(e,null)):r=null),(!i||u[0]&512)&&y(e,"lang",a[9])},i(a){i||(S(r),i=!0)},o(a){P(r),i=!1},d(a){a&&m(e),~t&&o[t].d()}}}function vU(n){let e,t,r,i;function s(l){n[29](l)}let o={view:"small",loading:n[10],componentApp:n[11],data:n[8],error:n[7]};return n[14]!==void 0&&(o.orientation=n[14]),t=new Ef({props:o}),se.push(()=>be(t,"orientation",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0,class:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","right"),y(e,"class","svelte-rqu6fk")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};a[0]&1024&&(u.loading=l[10]),a[0]&2048&&(u.componentApp=l[11]),a[0]&256&&(u.data=l[8]),a[0]&128&&(u.error=l[7]),!r&&a[0]&16384&&(r=!0,u.orientation=l[14],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function bU(n){let e,t,r,i,s,o,l,a,u;const f=[n[2],{warn:n[28]},{button:{...n[2].button,onclick:n[23],icon:"material-symbols:save",disabled:n[12]}}];let c={$$slots:{title:[hU]},$$scope:{ctx:n}};for(let b=0;b<f.length;b+=1)c=Rt(c,f[b]);e=new Po({props:c});function d(b){n[38](b)}function h(b){n[39](b)}function p(b){n[40](b)}function g(b){n[41](b)}let _={orientation:n[14],hideRightPanel:n[19],$$slots:{right:[vU],left:[_U]},$$scope:{ctx:n}};return n[15]!==void 0&&(_.leftPaneSize=n[15]),n[16]!==void 0&&(_.rightPaneSize=n[16]),n[17]!==void 0&&(_.topPaneSize=n[17]),n[18]!==void 0&&(_.bottomPaneSize=n[18]),i=new Tp({props:_}),se.push(()=>be(i,"leftPaneSize",d)),se.push(()=>be(i,"rightPaneSize",h)),se.push(()=>be(i,"topPaneSize",p)),se.push(()=>be(i,"bottomPaneSize",g)),{c(){W(e.$$.fragment),t=j(),r=T("main"),W(i.$$.fragment),this.h()},l(b){Y(e.$$.fragment,b),t=V(b),r=A(b,"MAIN",{class:!0});var v=O(r);Y(i.$$.fragment,v),v.forEach(m),this.h()},h(){y(r,"class","svelte-rqu6fk"),ee(r,"showing-ide",n[13]),ee(r,"showing-cms",!n[13])},m(b,v){q(e,b,v),$(b,t,v),$(b,r,v),q(i,r,null),u=!0},p(b,v){const E=v[0]&9441286?jn(f,[v[0]&4&&qi(b[2]),v[0]&1048578&&{warn:b[28]},v[0]&8392708&&{button:{...b[2].button,onclick:b[23],icon:"material-symbols:save",disabled:b[12]}}]):{};v[0]&1|v[1]&4194304&&(E.$$scope={dirty:v,ctx:b}),e.$set(E);const k={};v[0]&16384&&(k.orientation=b[14]),v[0]&524288&&(k.hideRightPanel=b[19]),v[0]&20473|v[1]&4194304&&(k.$$scope={dirty:v,ctx:b}),!s&&v[0]&32768&&(s=!0,k.leftPaneSize=b[15],Ne(()=>s=!1)),!o&&v[0]&65536&&(o=!0,k.rightPaneSize=b[16],Ne(()=>o=!1)),!l&&v[0]&131072&&(l=!0,k.topPaneSize=b[17],Ne(()=>l=!1)),!a&&v[0]&262144&&(a=!0,k.bottomPaneSize=b[18],Ne(()=>a=!1)),i.$set(k),(!u||v[0]&8192)&&ee(r,"showing-ide",b[13]),(!u||v[0]&8192)&&ee(r,"showing-cms",!b[13])},i(b){u||(S(e.$$.fragment,b),S(i.$$.fragment,b),u=!0)},o(b){P(e.$$.fragment,b),P(i.$$.fragment,b),u=!1},d(b){G(e,b),b&&m(t),b&&m(r),G(i)}}}const $v=je(De(Ln)?"100%":"50%"),Lv=je("50%"),zv=je(De(Ln)?"100%":"50%"),Bv=je("50%"),Fv=je("horizontal");function yU(n,e,t){let r,i,s,o,l,a,u,f,c,d,h,p,g;me(n,Vl,pe=>t(44,i=pe)),me(n,Fl,pe=>t(45,s=pe)),me(n,so,pe=>t(25,o=pe)),me(n,gr,pe=>t(9,l=pe)),me(n,bn,pe=>t(26,a=pe)),me(n,Cs,pe=>t(13,u=pe)),me(n,Fv,pe=>t(14,f=pe)),me(n,$v,pe=>t(15,c=pe)),me(n,Lv,pe=>t(16,d=pe)),me(n,zv,pe=>t(17,h=pe)),me(n,Bv,pe=>t(18,p=pe)),me(n,Ln,pe=>t(19,g=pe));let{symbol:_}=e,{tab:b="content"}=e,{header:v={label:"Create Symbol",icon:"fas fa-code",button:{icon:"fas fa-plus",label:"Add to page",onclick:pe=>{}}}}=e;uh("show_static_field",!0);const E=new Map;function k(pe){const fe=JSON.stringify(pe);if(E.has(fe))return E.get(fe);{const Ue=pn(pe);return E.set(fe,Ue),Ue}}let N=gt(_),C=gt(_.code),M=gt(_.fields),D=gt(_.content);function I(pe,fe){return{...Ua({loc:pe}),...fe[pe]}}function z(pe){t(3,M=fe(M,pe));function fe(Ue,Je){return Ue.map(qe=>{var Xe;const ne=(Xe=D[Je])==null?void 0:Xe[qe.key],Ge=ne!==void 0?ne:k(qe);return{...qe,value:Ge}})}}async function R(pe){const fe=L.cloneDeep(D);Ue(),Je(),t(24,D=fe);function Ue(){Object.keys(D[l]).forEach(qe=>{Er(pe,["key",qe])||Object.keys(D).forEach(ne=>{delete fe[ne][qe]})}),Te()}function Je(){pe.forEach(qe=>{D[l][qe.key]===void 0&&Object.keys(D).forEach(ne=>{fe[ne][qe.key]=pn(qe)})})}}function F(pe){Object.keys(pe).forEach(fe=>{D[fe]||t(24,D={...D,[fe]:D.en})})}function Z(){t(24,D={...D,[l]:{...D[l],...Yr(M).keyBy("key").mapValues("value").value()}})}let K=!1,J=C.html,X=C.css,ie=C.js,Ee,Q,Me=!1;async function ce({html:pe,css:fe,js:Ue}){t(12,Me=!0),t(10,K=!0),await Je(),t(12,Me=Q),await setTimeout(()=>{t(10,K=!1)},200);async function Je(){const qe=await bf(i.css+s.css),ne=await vf({component:{html:`
      <svelte:head>
        ${i.html.head}
        ${s.html.head}
        ${Gw(qe,"parent-styles")}
      </svelte:head>
      ${pe}
      ${s.html.below}
      ${i.html.below}
      `,css:fe,js:Ue,data:r},buildStatic:!1});t(7,Q=ne.error),t(11,Ee=ne.js),C={html:pe,css:fe,js:Ue}}}let de=!1;async function Te(){await ce({html:J,css:X,js:ie}),de=!0}async function Oe(){de||await Te(),Me||(await qa.update(_.id,{code:C,content:D,fields:M}),v.button.onclick())}const B=({detail:pe})=>{t(0,b=pe)},we=()=>ew(N,_)?!0:window.confirm("Undrafted changes will be lost. Continue?");function x(pe){f=pe,Fv.set(f)}function te(pe){J=pe,t(4,J)}function Ae(pe){X=pe,t(5,X)}function it(pe){ie=pe,t(6,ie)}function Nt(pe){M=pe,t(3,M)}const Ft=()=>{Te(),Z()},ze=async()=>{await Li(),Z(),Te()};function bt(pe){M=pe,t(3,M)}const ve=()=>{t(3,M=M.filter(Boolean)),Z()};function ke(pe){c=pe,$v.set(c)}function ue(pe){d=pe,Lv.set(d)}function nt(pe){h=pe,zv.set(h)}function Qe(pe){p=pe,Bv.set(p)}return n.$$set=pe=>{"symbol"in pe&&t(1,_=pe.symbol),"tab"in pe&&t(0,b=pe.tab),"header"in pe&&t(2,v=pe.header)},n.$$.update=()=>{n.$$.dirty[0]&16777728&&t(8,r=I(l,D)),n.$$.dirty[0]&512&&z(l),n.$$.dirty[0]&8&&R(M),n.$$.dirty[0]&67108864&&F(a),n.$$.dirty[0]&33554544&&o&&ce({html:J,css:X,js:ie}),n.$$.dirty[0]&384&&Q&&r&&Te(),n.$$.dirty[0]&112&&(de=!1)},[b,_,v,M,J,X,ie,Q,r,l,K,Ee,Me,u,f,c,d,h,p,g,N,Z,Te,Oe,D,o,a,B,we,x,te,Ae,it,Nt,Ft,ze,bt,ve,ke,ue,nt,Qe]}class kU extends Ie{constructor(e){super(),$e(this,e,yU,bU,Le,{symbol:1,tab:0,header:2},null,[-1,-1])}}const wU=n=>({}),jv=n=>({}),EU=n=>({}),Vv=n=>({}),SU=n=>({}),Hv=n=>({}),TU=n=>({}),Uv=n=>({}),AU=n=>({}),Wv=n=>({});function OU(n){let e,t,r,i;const s=n[24].left,o=at(s,n,n[23],Vv),l=o||MU();let a=!n[5]&&qv(n);return{c(){e=T("div"),l&&l.c(),t=j(),a&&a.c(),r=ge(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=O(e);l&&l.l(f),f.forEach(m),t=V(u),a&&a.l(u),r=ge(),this.h()},h(){y(e,"class","left svelte-1ph19uc"),ee(e,"overflow-hidden",n[7]),ee(e,"transitioning",n[13])},m(u,f){$(u,e,f),l&&l.m(e,null),n[30](e),$(u,t,f),a&&a.m(u,f),$(u,r,f),i=!0},p(u,f){o&&o.p&&(!i||f[0]&8388608)&&ut(o,s,u,u[23],i?ct(s,u[23],f,EU):ft(u[23]),Vv),(!i||f[0]&128)&&ee(e,"overflow-hidden",u[7]),(!i||f[0]&8192)&&ee(e,"transitioning",u[13]),u[5]?a&&(le(),P(a,1,1,()=>{a=null}),ae()):a?(a.p(u,f),f[0]&32&&S(a,1)):(a=qv(u),a.c(),S(a,1),a.m(r.parentNode,r))},i(u){i||(S(l,u),S(a),i=!0)},o(u){P(l,u),P(a),i=!1},d(u){u&&m(e),l&&l.d(u),n[30](null),u&&m(t),a&&a.d(u),u&&m(r)}}}function CU(n){let e,t,r,i,s,o,l,a,u,f;const c=n[24].left,d=at(c,n,n[23],Wv),h=d||NU(),p=n[24].center,g=at(p,n,n[23],Uv),_=g||DU();let b=!n[5]&&Gv(n);return{c(){e=T("div"),h&&h.c(),t=j(),r=T("div"),i=j(),s=T("div"),_&&_.c(),o=j(),b&&b.c(),l=ge(),this.h()},l(v){e=A(v,"DIV",{class:!0});var E=O(e);h&&h.l(E),E.forEach(m),t=V(v),r=A(v,"DIV",{class:!0}),O(r).forEach(m),i=V(v),s=A(v,"DIV",{class:!0});var k=O(s);_&&_.l(k),k.forEach(m),o=V(v),b&&b.l(v),l=ge(),this.h()},h(){y(e,"class","left svelte-1ph19uc"),ee(e,"overflow-hidden",n[7]),ee(e,"transitioning",n[13]),y(r,"class","separator svelte-1ph19uc"),ee(r,"dragging",n[14]),y(s,"class","center svelte-1ph19uc"),ee(s,"transitioning",n[13])},m(v,E){$(v,e,E),h&&h.m(e,null),n[25](e),$(v,t,E),$(v,r,E),n[26](r),$(v,i,E),$(v,s,E),_&&_.m(s,null),n[27](s),$(v,o,E),b&&b.m(v,E),$(v,l,E),a=!0,u||(f=[re(r,"mousedown",n[18]),re(r,"touchstart",n[18])],u=!0)},p(v,E){d&&d.p&&(!a||E[0]&8388608)&&ut(d,c,v,v[23],a?ct(c,v[23],E,AU):ft(v[23]),Wv),(!a||E[0]&128)&&ee(e,"overflow-hidden",v[7]),(!a||E[0]&8192)&&ee(e,"transitioning",v[13]),(!a||E[0]&16384)&&ee(r,"dragging",v[14]),g&&g.p&&(!a||E[0]&8388608)&&ut(g,p,v,v[23],a?ct(p,v[23],E,TU):ft(v[23]),Uv),(!a||E[0]&8192)&&ee(s,"transitioning",v[13]),v[5]?b&&(le(),P(b,1,1,()=>{b=null}),ae()):b?(b.p(v,E),E[0]&32&&S(b,1)):(b=Gv(v),b.c(),S(b,1),b.m(l.parentNode,l))},i(v){a||(S(h,v),S(_,v),S(b),a=!0)},o(v){P(h,v),P(_,v),P(b),a=!1},d(v){v&&m(e),h&&h.d(v),n[25](null),v&&m(t),v&&m(r),n[26](null),v&&m(i),v&&m(s),_&&_.d(v),n[27](null),v&&m(o),b&&b.d(v),v&&m(l),u=!1,Tt(f)}}}function MU(n){let e,t;return{c(){e=T("div"),t=H("Left Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Left Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","red")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function qv(n){let e,t,r,i,s,o;const l=n[24].right,a=at(l,n,n[23],jv),u=a||PU();return{c(){e=T("div"),t=j(),r=T("div"),u&&u.c(),this.h()},l(f){e=A(f,"DIV",{class:!0}),O(e).forEach(m),t=V(f),r=A(f,"DIV",{class:!0});var c=O(r);u&&u.l(c),c.forEach(m),this.h()},h(){y(e,"class","separator svelte-1ph19uc"),ee(e,"dragging",n[14]),y(r,"class","right svelte-1ph19uc"),ee(r,"transitioning",n[13])},m(f,c){$(f,e,c),n[31](e),$(f,t,c),$(f,r,c),u&&u.m(r,null),n[32](r),i=!0,s||(o=[re(e,"mousedown",n[18]),re(e,"touchstart",n[18])],s=!0)},p(f,c){(!i||c[0]&16384)&&ee(e,"dragging",f[14]),a&&a.p&&(!i||c[0]&8388608)&&ut(a,l,f,f[23],i?ct(l,f[23],c,wU):ft(f[23]),jv),(!i||c[0]&8192)&&ee(r,"transitioning",f[13])},i(f){i||(S(u,f),i=!0)},o(f){P(u,f),i=!1},d(f){f&&m(e),n[31](null),f&&m(t),f&&m(r),u&&u.d(f),n[32](null),s=!1,Tt(o)}}}function PU(n){let e,t;return{c(){e=T("div"),t=H("Right Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Right Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function NU(n){let e,t;return{c(){e=T("div"),t=H("Left Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Left Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","red")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function DU(n){let e,t;return{c(){e=T("div"),t=H("Center Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Center Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function Gv(n){let e,t,r,i,s,o;const l=n[24].right,a=at(l,n,n[23],Hv),u=a||RU();return{c(){e=T("div"),t=j(),r=T("div"),u&&u.c(),this.h()},l(f){e=A(f,"DIV",{class:!0}),O(e).forEach(m),t=V(f),r=A(f,"DIV",{class:!0});var c=O(r);u&&u.l(c),c.forEach(m),this.h()},h(){y(e,"class","separator svelte-1ph19uc"),ee(e,"dragging",n[14]),y(r,"class","right svelte-1ph19uc"),ee(r,"transitioning",n[13])},m(f,c){$(f,e,c),n[28](e),$(f,t,c),$(f,r,c),u&&u.m(r,null),n[29](r),i=!0,s||(o=[re(e,"mousedown",n[19]),re(e,"touchstart",n[19])],s=!0)},p(f,c){(!i||c[0]&16384)&&ee(e,"dragging",f[14]),a&&a.p&&(!i||c[0]&8388608)&&ut(a,l,f,f[23],i?ct(l,f[23],c,SU):ft(f[23]),Hv),(!i||c[0]&8192)&&ee(r,"transitioning",f[13])},i(f){i||(S(u,f),i=!0)},o(f){P(u,f),i=!1},d(f){f&&m(e),n[28](null),f&&m(t),f&&m(r),u&&u.d(f),n[29](null),s=!1,Tt(o)}}}function RU(n){let e,t;return{c(){e=T("div"),t=H("Right Contents goes here..."),this.h()},l(r){e=A(r,"DIV",{style:!0});var i=O(e);t=U(i,"Right Contents goes here..."),i.forEach(m),this.h()},h(){Re(e,"background-color","yellow")},m(r,i){$(r,e,i),w(e,t)},p:_e,d(r){r&&m(e)}}}function IU(n){let e,t,r,i,s;const o=[CU,OU],l=[];function a(u,f){return u[20].center?0:1}return t=a(n),r=l[t]=o[t](n),{c(){e=T("div"),r.c(),this.h()},l(u){e=A(u,"DIV",{class:!0,style:!0});var f=O(e);r.l(f),f.forEach(m),this.h()},h(){y(e,"class",i="wrapper "+n[6]+" svelte-1ph19uc"),Re(e,"--left-pane-size",n[2]),Re(e,"--min-left-pane-size",n[8]),Re(e,"--center-pane-size",n[3]),Re(e,"--min-center-pane-size",n[9]),Re(e,"--right-pane-size",n[4]),Re(e,"--min-right-pane-size",n[10]),Re(e,"--top-pane-size",n[0]),Re(e,"--bottom-pane-size",n[1])},m(u,f){$(u,e,f),l[t].m(e,null),s=!0},p(u,f){let c=t;t=a(u),t===c?l[t].p(u,f):(le(),P(l[c],1,1,()=>{l[c]=null}),ae(),r=l[t],r?r.p(u,f):(r=l[t]=o[t](u),r.c()),S(r,1),r.m(e,null)),(!s||f[0]&64&&i!==(i="wrapper "+u[6]+" svelte-1ph19uc"))&&y(e,"class",i),(!s||f[0]&4)&&Re(e,"--left-pane-size",u[2]),(!s||f[0]&256)&&Re(e,"--min-left-pane-size",u[8]),(!s||f[0]&8)&&Re(e,"--center-pane-size",u[3]),(!s||f[0]&512)&&Re(e,"--min-center-pane-size",u[9]),(!s||f[0]&16)&&Re(e,"--right-pane-size",u[4]),(!s||f[0]&1024)&&Re(e,"--min-right-pane-size",u[10]),(!s||f[0]&1)&&Re(e,"--top-pane-size",u[0]),(!s||f[0]&2)&&Re(e,"--bottom-pane-size",u[1])},i(u){s||(S(r),s=!0)},o(u){P(r),s=!1},d(u){u&&m(e),l[t].d()}}}let as=0;function $U(n,e,t){let{$$slots:r={},$$scope:i}=e;const s=cy(r),o=Ct();let l,a,u=!1,f=!1,{hideRightPanel:c=!1}=e,{resetSize:d=()=>{t(13,u=!0),N?(N.removeAttribute("style"),t(4,J="33%"),t(2,R=c?"50%":"33%"),t(3,Z=c?"50%":"33%")):(t(4,J="50%"),t(2,R="50%")),C&&C.removeAttribute("style"),l&&l.removeAttribute("style"),a&&a.removeAttribute("style"),setTimeout(()=>{t(13,u=!1)},100)}}=e,{updateCallback:h=()=>{}}=e,p;const g=B=>{t(14,f=!0),o("mousedown",B),B.preventDefault(),B.button===0&&(p={e:B,leftOffsetLeft:l.offsetLeft,leftOffsetTop:l.offsetTop,rightOffsetLeft:a?a.offsetLeft:null,rightOffsetTop:a?a.offsetTop:null,firstWidth:k.offsetWidth,centerWidth:N?N.offsetWidth:null,secondWidth:C.offsetWidth,firstHeight:k.offsetHeight,secondHeight:C.offsetHeight},window.addEventListener("mousemove",_),window.addEventListener("mouseup",E),window.addEventListener("touchmove",_),window.addEventListener("touchend",E))},_=B=>{if(B.preventDefault(),B.button===0){var we={x:B.clientX-p.e.clientX,y:B.clientY-p.e.clientY};if(s.center)if(J==="0"){const x=p.firstWidth+we.x;t(2,R=x>=as?x+"px":0);const te=p.centerWidth-we.x;t(3,Z=te>=as?te+"px":0)}else{const x=p.firstWidth+we.x/2;t(2,R=x>=0?x+"px":0);const te=p.centerWidth+we.x/2;t(3,Z=te>=as?te+"px":0);const Ae=p.secondWidth-we.x;t(4,J=Ae>=as?Ae+"px":0)}else{const x={top:p.firstHeight+we.y,bottom:p.secondHeight-we.y,left:p.firstWidth+we.x,right:p.secondWidth-we.x},te={top:0,left:0,right:0,bottom:37};if(I==="vertical"){if(te.top>x.top){const Ae=x.top-te.top+3;x.top=x.top-Ae+3,x.bottom=x.bottom+Ae}else if(te.bottom>x.bottom){const Ae=x.bottom-te.bottom;x.top=x.top+Ae+3,x.bottom=x.bottom-Ae+3}else x.top=x.top+3,x.bottom=x.bottom+3;t(1,D=x.bottom+"px"),t(0,M=x.top+"px")}else if(I==="horizontal"){if(te.left>x.left){const Ae=x.left-te.left;x.left=x.left-Ae,x.right=x.right+Ae}else if(te.right>x.right){const Ae=x.right-te.right;x.left=x.left+Ae,x.right=x.right-Ae}t(2,R=x.left+"px"),t(4,J=x.right+"px")}}h()}},b=B=>{t(14,f=!0),o("mousedown",B),B.preventDefault(),B.button===0&&(p={e:B,leftOffsetLeft:l.offsetLeft,leftOffsetTop:l.offsetTop,rightOffsetLeft:a.offsetLeft,rightOffsetTop:a.offsetTop,firstWidth:k.offsetWidth,centerWidth:N.offsetWidth,secondWidth:C.offsetWidth},window.addEventListener("mousemove",v),window.addEventListener("mouseup",E),window.addEventListener("touchmove",v),window.addEventListener("touchend",E))},v=B=>{if(B.preventDefault(),B.button===0){var we={x:B.clientX-p.e.clientX,y:B.clientY-p.e.clientY};if(we.x=Math.min(Math.max(we.x,-(p.secondWidth+p.centerWidth)),p.firstWidth+p.centerWidth),s.center){const x=p.firstWidth+we.x/2;t(2,R=x>=as?x+"px":0);const te=p.centerWidth+we.x/2;t(3,Z=te>=as?te+"px":0);const Ae=p.secondWidth-we.x;t(4,J=Ae>=as?Ae+"px":0)}else t(2,R=p.firstWidth+we.x+"px"),t(4,J=p.secondWidth-we.x+"px");h()}},E=B=>{t(14,f=!1),!(B&&(B.preventDefault(),B.button!==0))&&(h(),window.removeEventListener("mousemove",_),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",_),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",E))};qu(()=>{}),Ml(()=>{});let k,N,C,{topPaneSize:M="50%"}=e,{bottomPaneSize:D="50%"}=e,{orientation:I="horizontal"}=e,{hideLeftOverflow:z=!1}=e,{leftPaneSize:R=s.center?"33%":"66%"}=e,{minLeftPaneSize:F="1.5rem"}=e,{centerPaneSize:Z="33%"}=e,{minCenterPaneSize:K="1.5rem"}=e,{rightPaneSize:J=s.center?"33%":"66%"}=e,{minRightPaneSize:X="1.5rem"}=e;function ie(B){se[B?"unshift":"push"](()=>{k=B,t(15,k)})}function Ee(B){se[B?"unshift":"push"](()=>{l=B,t(11,l)})}function Q(B){se[B?"unshift":"push"](()=>{N=B,t(16,N)})}function Me(B){se[B?"unshift":"push"](()=>{a=B,t(12,a)})}function ce(B){se[B?"unshift":"push"](()=>{C=B,t(17,C)})}function de(B){se[B?"unshift":"push"](()=>{k=B,t(15,k)})}function Te(B){se[B?"unshift":"push"](()=>{l=B,t(11,l)})}function Oe(B){se[B?"unshift":"push"](()=>{C=B,t(17,C)})}return n.$$set=B=>{"hideRightPanel"in B&&t(5,c=B.hideRightPanel),"resetSize"in B&&t(21,d=B.resetSize),"updateCallback"in B&&t(22,h=B.updateCallback),"topPaneSize"in B&&t(0,M=B.topPaneSize),"bottomPaneSize"in B&&t(1,D=B.bottomPaneSize),"orientation"in B&&t(6,I=B.orientation),"hideLeftOverflow"in B&&t(7,z=B.hideLeftOverflow),"leftPaneSize"in B&&t(2,R=B.leftPaneSize),"minLeftPaneSize"in B&&t(8,F=B.minLeftPaneSize),"centerPaneSize"in B&&t(3,Z=B.centerPaneSize),"minCenterPaneSize"in B&&t(9,K=B.minCenterPaneSize),"rightPaneSize"in B&&t(4,J=B.rightPaneSize),"minRightPaneSize"in B&&t(10,X=B.minRightPaneSize),"$$scope"in B&&t(23,i=B.$$scope)},[M,D,R,Z,J,c,I,z,F,K,X,l,a,u,f,k,N,C,g,b,s,d,h,i,r,ie,Ee,Q,Me,ce,de,Te,Oe]}class Ap extends Ie{constructor(e){super(),$e(this,e,$U,IU,Le,{hideRightPanel:5,resetSize:21,updateCallback:22,topPaneSize:0,bottomPaneSize:1,orientation:6,hideLeftOverflow:7,leftPaneSize:2,minLeftPaneSize:8,centerPaneSize:3,minCenterPaneSize:9,rightPaneSize:4,minRightPaneSize:10},null,[-1,-1])}}function LU(n){let e,t,r,i,s;function o(f){n[44](f)}function l(f){n[45](f)}function a(f){n[46](f)}let u={hideLeftOverflow:!0,$$slots:{right:[UU],left:[jU]},$$scope:{ctx:n}};return n[7]!==void 0&&(u.leftPaneSize=n[7]),n[10]!==void 0&&(u.centerPaneSize=n[10]),n[6]!==void 0&&(u.rightPaneSize=n[6]),e=new Ap({props:u}),se.push(()=>be(e,"leftPaneSize",o)),se.push(()=>be(e,"centerPaneSize",l)),se.push(()=>be(e,"rightPaneSize",a)),{c(){W(e.$$.fragment)},l(f){Y(e.$$.fragment,f)},m(f,c){q(e,f,c),s=!0},p(f,c){const d={};c[0]&2795|c[1]&262144&&(d.$$scope={dirty:c,ctx:f}),!t&&c[0]&128&&(t=!0,d.leftPaneSize=f[7],Ne(()=>t=!1)),!r&&c[0]&1024&&(r=!0,d.centerPaneSize=f[10],Ne(()=>r=!1)),!i&&c[0]&64&&(i=!0,d.rightPaneSize=f[6],Ne(()=>i=!1)),e.$set(d)},i(f){s||(S(e.$$.fragment,f),s=!0)},o(f){P(e.$$.fragment,f),s=!1},d(f){G(e,f)}}}function zU(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M=n[9]&&Yv(n);return{c(){e=T("div"),t=T("div"),r=T("ul"),i=T("li"),s=T("button"),o=T("span"),l=H("HTML"),a=j(),u=T("li"),f=T("button"),c=T("span"),d=H("CSS"),h=j(),p=T("li"),g=T("button"),_=T("span"),b=H("JS"),v=j(),M&&M.c(),this.h()},l(D){e=A(D,"DIV",{class:!0});var I=O(e);t=A(I,"DIV",{class:!0});var z=O(t);r=A(z,"UL",{xyz:!0,class:!0});var R=O(r);i=A(R,"LI",{class:!0});var F=O(i);s=A(F,"BUTTON",{class:!0});var Z=O(s);o=A(Z,"SPAN",{class:!0});var K=O(o);l=U(K,"HTML"),K.forEach(m),Z.forEach(m),F.forEach(m),a=V(R),u=A(R,"LI",{class:!0});var J=O(u);f=A(J,"BUTTON",{class:!0});var X=O(f);c=A(X,"SPAN",{class:!0});var ie=O(c);d=U(ie,"CSS"),ie.forEach(m),X.forEach(m),J.forEach(m),h=V(R),p=A(R,"LI",{class:!0});var Ee=O(p);g=A(Ee,"BUTTON",{class:!0});var Q=O(g);_=A(Q,"SPAN",{class:!0});var Me=O(_);b=U(Me,"JS"),Me.forEach(m),Q.forEach(m),Ee.forEach(m),R.forEach(m),z.forEach(m),v=V(I),M&&M.l(I),I.forEach(m),this.h()},h(){y(o,"class","svelte-5mz1xg"),y(s,"class","svelte-5mz1xg"),y(i,"class","xyz-in svelte-5mz1xg"),ee(i,"is-active",n[4]===0),y(c,"class","svelte-5mz1xg"),y(f,"class","svelte-5mz1xg"),y(u,"class","xyz-in svelte-5mz1xg"),ee(u,"is-active",n[4]===1),y(_,"class","svelte-5mz1xg"),y(g,"class","svelte-5mz1xg"),y(p,"class","xyz-in svelte-5mz1xg"),ee(p,"is-active",n[4]===2),y(r,"xyz","fade stagger delay-2"),y(r,"class","svelte-5mz1xg"),y(t,"class","tabs svelte-5mz1xg"),y(e,"class",E="mobile-tabs "+n[2]+" svelte-5mz1xg")},m(D,I){$(D,e,I),w(e,t),w(t,r),w(r,i),w(i,s),w(s,o),w(o,l),w(r,a),w(r,u),w(u,f),w(f,c),w(c,d),w(r,h),w(r,p),w(p,g),w(g,_),w(_,b),w(e,v),M&&M.m(e,null),k=!0,N||(C=[re(s,"click",n[15]),re(f,"click",n[16]),re(g,"click",n[17])],N=!0)},p(D,I){(!k||I[0]&16)&&ee(i,"is-active",D[4]===0),(!k||I[0]&16)&&ee(u,"is-active",D[4]===1),(!k||I[0]&16)&&ee(p,"is-active",D[4]===2),D[9]?M?(M.p(D,I),I[0]&512&&S(M,1)):(M=Yv(D),M.c(),S(M,1),M.m(e,null)):M&&(le(),P(M,1,1,()=>{M=null}),ae()),(!k||I[0]&4&&E!==(E="mobile-tabs "+D[2]+" svelte-5mz1xg"))&&y(e,"class",E)},i(D){k||(S(M),k=!0)},o(D){P(M),k=!1},d(D){D&&m(e),M&&M.d(),N=!1,Tt(C)}}}function BU(n){let e,t;return{c(){e=T("span"),t=H("HTML"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"HTML"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function FU(n){let e,t;return{c(){e=T("span"),t=H("⌘ 1"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"⌘ 1"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function Kv(n){let e,t,r,i,s;function o(f){n[38](f)}function l(f){n[39](f)}var a=n[9];function u(f){let c={mode:"html",docs:"https://docs.primo.so/development#html",data:f[3]};return f[0]!==void 0&&(c.value=f[0]),f[5].html!==void 0&&(c.selection=f[5].html),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",n[40]),e.$on("change",n[41]),e.$on("save",n[42]),e.$on("refresh",n[43])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(c[0]&8&&(d.data=f[3]),!t&&c[0]&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),!r&&c[0]&32&&(r=!0,d.selection=f[5].html,Ne(()=>r=!1)),c[0]&512&&a!==(a=f[9])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",f[40]),e.$on("change",f[41]),e.$on("save",f[42]),e.$on("refresh",f[43]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function jU(n){let e,t,r,i,s,o;function l(c,d){return c[11]?FU:BU}let a=l(n),u=a(n),f=n[9]&&Kv(n);return{c(){e=T("div"),t=T("button"),u.c(),r=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{slot:!0,class:!0});var d=O(e);t=A(d,"BUTTON",{class:!0});var h=O(t);u.l(h),h.forEach(m),r=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(t,"class","svelte-5mz1xg"),ee(t,"tab-hidden",n[7]<="0"),y(e,"slot","left"),y(e,"class","tabs svelte-5mz1xg")},m(c,d){$(c,e,d),w(e,t),u.m(t,null),w(e,r),f&&f.m(e,null),i=!0,s||(o=re(t,"click",n[37]),s=!0)},p(c,d){a!==(a=l(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),(!i||d[0]&128)&&ee(t,"tab-hidden",c[7]<="0"),c[9]?f?(f.p(c,d),d[0]&512&&S(f,1)):(f=Kv(c),f.c(),S(f,1),f.m(e,null)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){i||(S(f),i=!0)},o(c){P(f),i=!1},d(c){c&&m(e),u.d(),f&&f.d(),s=!1,o()}}}function VU(n){let e,t;return{c(){e=T("span"),t=H("CSS"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"CSS"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function HU(n){let e,t;return{c(){e=T("span"),t=H("⌘ 2"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"⌘ 2"),i.forEach(m),this.h()},h(){y(e,"class","svelte-5mz1xg")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function Jv(n){let e,t,r,i,s;function o(f){n[31](f)}function l(f){n[32](f)}var a=n[9];function u(f){let c={mode:"css",docs:"https://docs.primo.so/development#css"};return f[5].css!==void 0&&(c.selection=f[5].css),f[1]!==void 0&&(c.value=f[1]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[33]),e.$on("change",n[34]),e.$on("save",n[35]),e.$on("refresh",n[36])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&32&&(t=!0,d.selection=f[5].css,Ne(()=>t=!1)),!r&&c[0]&2&&(r=!0,d.value=f[1],Ne(()=>r=!1)),c[0]&512&&a!==(a=f[9])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[33]),e.$on("change",f[34]),e.$on("save",f[35]),e.$on("refresh",f[36]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function UU(n){let e,t,r,i,s,o;function l(c,d){return c[11]?HU:VU}let a=l(n),u=a(n),f=n[9]&&Jv(n);return{c(){e=T("div"),t=T("button"),u.c(),r=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{slot:!0,class:!0});var d=O(e);t=A(d,"BUTTON",{class:!0});var h=O(t);u.l(h),h.forEach(m),r=V(d),f&&f.l(d),d.forEach(m),this.h()},h(){y(t,"class","svelte-5mz1xg"),ee(t,"tab-hidden",n[6]<="0"),y(e,"slot","right"),y(e,"class","tabs svelte-5mz1xg")},m(c,d){$(c,e,d),w(e,t),u.m(t,null),w(e,r),f&&f.m(e,null),i=!0,s||(o=re(t,"click",n[30]),s=!0)},p(c,d){a!==(a=l(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),(!i||d[0]&64)&&ee(t,"tab-hidden",c[6]<="0"),c[9]?f?(f.p(c,d),d[0]&512&&S(f,1)):(f=Jv(c),f.c(),S(f,1),f.m(e,null)):f&&(le(),P(f,1,1,()=>{f=null}),ae())},i(c){i||(S(f),i=!0)},o(c){P(f),i=!1},d(c){c&&m(e),u.d(),f&&f.d(),s=!1,o()}}}function Yv(n){let e,t,r,i;const s=[qU,WU],o=[];function l(a,u){return a[4]===0?0:a[4]===1?1:-1}return~(e=l(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=ge()},l(a){t&&t.l(a),r=ge()},m(a,u){~e&&o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?~e&&o[e].p(a,u):(t&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){~e&&o[e].d(a),a&&m(r)}}}function WU(n){let e,t,r,i,s;function o(f){n[24](f)}function l(f){n[25](f)}var a=n[9];function u(f){let c={mode:"css",docs:"https://docs.primo.so/development#css"};return f[5].css!==void 0&&(c.selection=f[5].css),f[1]!==void 0&&(c.value=f[1]),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",n[26]),e.$on("change",n[27]),e.$on("save",n[28]),e.$on("refresh",n[29])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(!t&&c[0]&32&&(t=!0,d.selection=f[5].css,Ne(()=>t=!1)),!r&&c[0]&2&&(r=!0,d.value=f[1],Ne(()=>r=!1)),c[0]&512&&a!==(a=f[9])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"selection",o)),se.push(()=>be(e,"value",l)),e.$on("tab-switch",f[26]),e.$on("change",f[27]),e.$on("save",f[28]),e.$on("refresh",f[29]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function qU(n){let e,t,r,i,s;function o(f){n[18](f)}function l(f){n[19](f)}var a=n[9];function u(f){let c={mode:"html",docs:"https://docs.primo.so/development#html",data:f[3]};return f[0]!==void 0&&(c.value=f[0]),f[5].html!==void 0&&(c.selection=f[5].html),{props:c}}return a&&(e=kt(a,u(n)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",n[20]),e.$on("change",n[21]),e.$on("save",n[22]),e.$on("refresh",n[23])),{c(){e&&W(e.$$.fragment),i=ge()},l(f){e&&Y(e.$$.fragment,f),i=ge()},m(f,c){e&&q(e,f,c),$(f,i,c),s=!0},p(f,c){const d={};if(c[0]&8&&(d.data=f[3]),!t&&c[0]&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),!r&&c[0]&32&&(r=!0,d.selection=f[5].html,Ne(()=>r=!1)),c[0]&512&&a!==(a=f[9])){if(e){le();const h=e;P(h.$$.fragment,1,0,()=>{G(h,1)}),ae()}a?(e=kt(a,u(f)),se.push(()=>be(e,"value",o)),se.push(()=>be(e,"selection",l)),e.$on("tab-switch",f[20]),e.$on("change",f[21]),e.$on("save",f[22]),e.$on("refresh",f[23]),W(e.$$.fragment),S(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else a&&e.$set(d)},i(f){s||(e&&S(e.$$.fragment,f),s=!0)},o(f){e&&P(e.$$.fragment,f),s=!1},d(f){f&&m(i),e&&G(e,f)}}}function GU(n){let e,t,r,i;const s=[zU,LU],o=[];function l(a,u){return a[8]?0:1}return e=l(n),t=o[e]=s[e](n),{c(){t.c(),r=ge()},l(a){t.l(a),r=ge()},m(a,u){o[e].m(a,u),$(a,r,u),i=!0},p(a,u){let f=e;e=l(a),e===f?o[e].p(a,u):(le(),P(o[f],1,1,()=>{o[f]=null}),ae(),t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r))},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){o[e].d(a),a&&m(r)}}}const ua=je("50%"),Xv=je("0"),fa=je("50%"),Nc=je({html:!0,css:!0,js:!0}),IE=je(null);Tr(()=>import("./CodeMirror.cb546cbb.js"),["./CodeMirror.cb546cbb.js","./preload-helper.a4192956.js","./index.7ce6af5d.js","./index.ffa02d79.js","../assets/CodeMirror.f33dab8f.css"],import.meta.url).then(n=>{IE.set(n.default)});function KU(n,e,t){let r,i,s,o,l,a,u;me(n,Nc,ve=>t(47,r=ve)),me(n,fa,ve=>t(6,i=ve)),me(n,ua,ve=>t(7,s=ve)),me(n,Ln,ve=>t(8,o=ve)),me(n,IE,ve=>t(9,l=ve)),me(n,Xv,ve=>t(10,a=ve)),me(n,Lw,ve=>t(11,u=ve));const f=Ct();let{variants:c=""}=e,{data:d={}}=e,{html:h=""}=e,{css:p=""}=e,{js:g=""}=e;e.js||(Ut(ua,s="50%",s),Ut(fa,i="50%",i),Ut(Nc,r={...r,js:!1},r)),xs.bind(["mod+1"],()=>v(0)),xs.bind(["mod+2"],()=>v(1));let _=0,b={html:0,css:0,js:0};function v(ve){const ke={0:"html",1:"css"}[ve];Ut(Nc,r={...r,[ke]:!r[ke]},r);const ue=Object.values(r).filter(Boolean).length;if(!ue)return;const nt=100/ue;Ut(ua,s=r.html?`${nt}%`:"0",s),Ut(fa,i=r.css?`${nt}%`:"0",i)}const E=()=>t(4,_=0),k=()=>t(4,_=1),N=()=>t(4,_=2);function C(ve){h=ve,t(0,h)}function M(ve){n.$$.not_equal(b.html,ve)&&(b.html=ve,t(5,b))}const D=()=>v(0),I=()=>f("htmlChange");function z(ve){mt.call(this,n,ve)}function R(ve){mt.call(this,n,ve)}function F(ve){n.$$.not_equal(b.css,ve)&&(b.css=ve,t(5,b))}function Z(ve){p=ve,t(1,p)}const K=()=>v(1),J=()=>f("cssChange");function X(ve){mt.call(this,n,ve)}function ie(ve){mt.call(this,n,ve)}const Ee=()=>v(1);function Q(ve){n.$$.not_equal(b.css,ve)&&(b.css=ve,t(5,b))}function Me(ve){p=ve,t(1,p)}const ce=({detail:ve})=>v(ve),de=()=>f("cssChange");function Te(ve){mt.call(this,n,ve)}function Oe(ve){mt.call(this,n,ve)}const B=()=>v(0);function we(ve){h=ve,t(0,h)}function x(ve){n.$$.not_equal(b.html,ve)&&(b.html=ve,t(5,b))}const te=({detail:ve})=>v(ve),Ae=()=>f("htmlChange");function it(ve){mt.call(this,n,ve)}function Nt(ve){mt.call(this,n,ve)}function Ft(ve){s=ve,ua.set(s)}function ze(ve){a=ve,Xv.set(a)}function bt(ve){i=ve,fa.set(i)}return n.$$set=ve=>{t(48,e=Rt(Rt({},e),Ss(ve))),"variants"in ve&&t(2,c=ve.variants),"data"in ve&&t(3,d=ve.data),"html"in ve&&t(0,h=ve.html),"css"in ve&&t(1,p=ve.css),"js"in ve&&t(14,g=ve.js)},e=Ss(e),[h,p,c,d,_,b,i,s,o,l,a,u,f,v,g,E,k,N,C,M,D,I,z,R,F,Z,K,J,X,ie,Ee,Q,Me,ce,de,Te,Oe,B,we,x,te,Ae,it,Nt,Ft,ze,bt]}class $E extends Ie{constructor(e){super(),$e(this,e,KU,GU,Le,{variants:2,data:3,html:0,css:1,js:14},null,[-1,-1])}}function JU(n){let e,t,r,i;function s(l){n[22](l)}let o={tabs:[{id:"content",label:"Content",icon:"uil:edit"},{id:"fields",label:"Fields",icon:"fluent:form-multiple-24-regular"},{id:"code",label:"Code",icon:"gravity-ui:code"}]};return n[9]!==void 0&&(o.active_tab_id=n[9]),t=new wf({props:o}),se.push(()=>be(t,"active_tab_id",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","title")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};!r&&a[0]&512&&(r=!0,u.active_tab_id=l[9],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function YU(n){let e,t,r,i;function s(a){n[29](a)}function o(a){n[30](a)}let l={data:n[7]};return n[0]!==void 0&&(l.html=n[0]),n[1]!==void 0&&(l.css=n[1]),e=new $E({props:l}),se.push(()=>be(e,"html",s)),se.push(()=>be(e,"css",o)),e.$on("save",n[19]),e.$on("refresh",n[18]),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,u){q(e,a,u),i=!0},p(a,u){const f={};u[0]&128&&(f.data=a[7]),!t&&u[0]&1&&(t=!0,f.html=a[0],Ne(()=>t=!1)),!r&&u[0]&2&&(r=!0,f.css=a[1],Ne(()=>r=!1)),e.$set(f)},i(a){i||(S(e.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),i=!1},d(a){G(e,a)}}}function XU(n){let e,t,r;function i(o){n[26](o)}let s={showCode:!0};return n[2]!==void 0&&(s.fields=n[2]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("input",n[27]),e.$on("delete",n[28]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&4&&(t=!0,a.fields=o[2],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function ZU(n){let e,t,r;function i(o){n[24](o)}let s={showCode:!1};return n[2]!==void 0&&(s.fields=n[2]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("save",n[19]),e.$on("input",n[25]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&4&&(t=!0,a.fields=o[2],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function QU(n){let e,t,r,i;const s=[ZU,XU,YU],o=[];function l(a,u){return a[9]==="content"?0:a[9]==="fields"?1:a[9]==="code"?2:-1}return~(t=l(n))&&(r=o[t]=s[t](n)),{c(){e=T("div"),r&&r.c(),this.h()},l(a){e=A(a,"DIV",{slot:!0,lang:!0,class:!0});var u=O(e);r&&r.l(u),u.forEach(m),this.h()},h(){y(e,"slot","left"),y(e,"lang",n[3]),y(e,"class","svelte-1ofcj9r")},m(a,u){$(a,e,u),~t&&o[t].m(e,null),i=!0},p(a,u){let f=t;t=l(a),t===f?~t&&o[t].p(a,u):(r&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~t?(r=o[t],r?r.p(a,u):(r=o[t]=s[t](a),r.c()),S(r,1),r.m(e,null)):r=null),(!i||u[0]&8)&&y(e,"lang",a[3])},i(a){i||(S(r),i=!0)},o(a){P(r),i=!1},d(a){a&&m(e),~t&&o[t].d()}}}function xU(n){let e,t,r,i;function s(l){n[23](l)}let o={view:"small",loading:n[4],preview:n[5],error:n[17]};return n[10]!==void 0&&(o.orientation=n[10]),t=new Ef({props:o}),se.push(()=>be(t,"orientation",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0,class:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","right"),y(e,"class","svelte-1ofcj9r")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};a[0]&16&&(u.loading=l[4]),a[0]&32&&(u.preview=l[5]),!r&&a[0]&1024&&(r=!0,u.orientation=l[10],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function eW(n){let e,t,r,i,s,o,l,a,u,f;t=new Po({props:{label:"Page",warn:tW,button:{icon:"material-symbols:save",label:"Save",onclick:n[19],disabled:n[6]},$$slots:{title:[JU]},$$scope:{ctx:n}}});function c(_){n[31](_)}function d(_){n[32](_)}function h(_){n[33](_)}function p(_){n[34](_)}let g={orientation:n[10],hideRightPanel:n[15],$$slots:{right:[xU],left:[QU]},$$scope:{ctx:n}};return n[11]!==void 0&&(g.leftPaneSize=n[11]),n[12]!==void 0&&(g.rightPaneSize=n[12]),n[13]!==void 0&&(g.topPaneSize=n[13]),n[14]!==void 0&&(g.bottomPaneSize=n[14]),s=new Ap({props:g}),se.push(()=>be(s,"leftPaneSize",c)),se.push(()=>be(s,"rightPaneSize",d)),se.push(()=>be(s,"topPaneSize",h)),se.push(()=>be(s,"bottomPaneSize",p)),{c(){e=T("div"),W(t.$$.fragment),r=j(),i=T("main"),W(s.$$.fragment),this.h()},l(_){e=A(_,"DIV",{class:!0});var b=O(e);Y(t.$$.fragment,b),r=V(b),i=A(b,"MAIN",{class:!0});var v=O(i);Y(s.$$.fragment,v),v.forEach(m),b.forEach(m),this.h()},h(){y(i,"class","svelte-1ofcj9r"),ee(i,"showing-ide",n[8]),ee(i,"showing-cms",!n[8]),y(e,"class","PageEditor svelte-1ofcj9r")},m(_,b){$(_,e,b),q(t,e,null),w(e,r),w(e,i),q(s,i,null),f=!0},p(_,b){const v={};b[0]&64&&(v.button={icon:"material-symbols:save",label:"Save",onclick:_[19],disabled:_[6]}),b[0]&512|b[1]&1048576&&(v.$$scope={dirty:b,ctx:_}),t.$set(v);const E={};b[0]&1024&&(E.orientation=_[10]),b[0]&32768&&(E.hideRightPanel=_[15]),b[0]&1727|b[1]&1048576&&(E.$$scope={dirty:b,ctx:_}),!o&&b[0]&2048&&(o=!0,E.leftPaneSize=_[11],Ne(()=>o=!1)),!l&&b[0]&4096&&(l=!0,E.rightPaneSize=_[12],Ne(()=>l=!1)),!a&&b[0]&8192&&(a=!0,E.topPaneSize=_[13],Ne(()=>a=!1)),!u&&b[0]&16384&&(u=!0,E.bottomPaneSize=_[14],Ne(()=>u=!1)),s.$set(E),(!f||b[0]&256)&&ee(i,"showing-ide",_[8]),(!f||b[0]&256)&&ee(i,"showing-cms",!_[8])},i(_){f||(S(t.$$.fragment,_),S(s.$$.fragment,_),f=!0)},o(_){P(t.$$.fragment,_),P(s.$$.fragment,_),f=!1},d(_){_&&m(e),G(t),G(s)}}}const Zv=je(De(Ln)?"100%":"50%"),Qv=je("50%"),xv=je(De(Ln)?"100%":"50%"),e0=je("50%"),t0=je("horizontal"),n0=je("code"),tW=()=>!0;function nW(n,e,t){let r,i,s,o,l,a,u,f,c,d,h,p,g,_,b;me(n,jl,ue=>t(37,i=ue)),me(n,so,ue=>t(21,s=ue)),me(n,gr,ue=>t(3,o=ue)),me(n,Cs,ue=>t(8,l=ue)),me(n,dp,ue=>t(38,a=ue)),me(n,cp,ue=>t(39,u=ue)),me(n,Fl,ue=>t(40,f=ue)),me(n,n0,ue=>t(9,c=ue)),me(n,t0,ue=>t(10,d=ue)),me(n,Zv,ue=>t(11,h=ue)),me(n,Qv,ue=>t(12,p=ue)),me(n,xv,ue=>t(13,g=ue)),me(n,e0,ue=>t(14,_=ue)),me(n,Ln,ue=>t(15,b=ue));let v=gt(f),E=gt(u),k=gt(a).map(ue=>({...ue,value:E[o][ue.key]}));k.length===0&&Ut(Cs,l=!0,l);const N=new Map;function C(ue){const nt=JSON.stringify(ue);if(N.has(nt))return N.get(nt);{const Qe=pn(ue);return N.set(nt,Qe),Qe}}function M(ue){t(2,X=D(X,ue))}function D(ue,nt){return ue.map(Qe=>{var Ue;const pe=(Ue=E[nt])==null?void 0:Ue[Qe.key],fe=pe!==void 0?pe:C(Qe);return{...Qe,value:fe}})}function I(ue){Qe(),nt();function nt(){let pe=gt(E);ue.forEach(fe=>{E[o][fe.key]===void 0&&Object.keys(E).forEach(Ue=>{pe[Ue][fe.key]=pn(fe)})}),t(20,E=pe)}function Qe(){let pe=gt(E);Object.keys(E[o]).forEach(fe=>{Er(ue,["key",fe])||Object.keys(E).forEach(Ue=>{delete pe[Ue][fe]})}),t(20,E=pe),de()}}function z(){t(20,E={...E,[o]:{...E[o],...Yr(X).keyBy("key").mapValues("value").value()}}),console.log({local_content:E})}function R(ue,nt){v[ue]=nt}let F=!1,Z=v.html.head,K=v.css,J=v.js,X=k,ie="",Ee,Q=!1;async function Me({html:ue,css:nt,js:Qe}){t(6,Q=!0),t(4,F=!0),R("html",ue),R("css",nt),R("js",Qe),await pe(),t(6,Q=Ee),await setTimeout(()=>{t(4,F=!1)},200);async function pe(){var fe;t(5,ie=(fe=await yf({page:{...i,code:{...v,html:{head:ue,below:""}},content:E}}))==null?void 0:fe.html)}}let ce=!1;async function de(){await Me({html:Z,css:K,js:J}),ce=!0}async function Te(){ce||await de();const ue={code:{...v,html:{head:v.html,below:""}},content:E,fields:L.cloneDeep(X).map(nt=>(delete nt.value,nt))};Q||(y6.update(ue),nr.hide())}function Oe(ue){c=ue,n0.set(c)}function B(ue){d=ue,t0.set(d)}function we(ue){X=ue,t(2,X)}const x=()=>{t(2,X=X.filter(Boolean)),z()};function te(ue){X=ue,t(2,X)}const Ae=()=>{de(),z()},it=async()=>{await Li(),z(),de()};function Nt(ue){Z=ue,t(0,Z)}function Ft(ue){K=ue,t(1,K)}function ze(ue){h=ue,Zv.set(h)}function bt(ue){p=ue,Qv.set(p)}function ve(ue){g=ue,xv.set(g)}function ke(ue){_=ue,e0.set(_)}return n.$$.update=()=>{n.$$.dirty[0]&1048584&&t(7,r={...E[o]}),n.$$.dirty[0]&8&&M(o),n.$$.dirty[0]&4&&I(X),n.$$.dirty[0]&2097155&&s&&Me({html:Z,css:K,js:J}),n.$$.dirty[0]&3&&(ce=!1)},[Z,K,X,o,F,ie,Q,r,l,c,d,h,p,g,_,b,z,Ee,de,Te,E,s,Oe,B,we,x,te,Ae,it,Nt,Ft,ze,bt,ve,ke]}class rW extends Ie{constructor(e){super(),$e(this,e,nW,eW,Le,{},null,[-1,-1])}}function iW(n){let e,t,r,i;function s(l){n[22](l)}let o={tabs:[{id:"content",label:"Content",icon:"uil:edit"},{id:"fields",label:"Fields",icon:"fluent:form-multiple-24-regular"},{id:"code",label:"Code",icon:"gravity-ui:code"}]};return n[9]!==void 0&&(o.active_tab_id=n[9]),t=new wf({props:o}),se.push(()=>be(t,"active_tab_id",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","title")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};!r&&a[0]&512&&(r=!0,u.active_tab_id=l[9],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function sW(n){let e,t,r;function i(o){n[29](o)}let s={showCode:!1};return n[2]!==void 0&&(s.fields=n[2]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("save",n[19]),e.$on("input",n[30]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&4&&(t=!0,a.fields=o[2],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function oW(n){let e,t,r;function i(o){n[26](o)}let s={showCode:!0};return n[2]!==void 0&&(s.fields=n[2]),e=new es({props:s}),se.push(()=>be(e,"fields",i)),e.$on("input",n[27]),e.$on("delete",n[28]),{c(){W(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,l){q(e,o,l),r=!0},p(o,l){const a={};!t&&l[0]&4&&(t=!0,a.fields=o[2],Ne(()=>t=!1)),e.$set(a)},i(o){r||(S(e.$$.fragment,o),r=!0)},o(o){P(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function lW(n){let e,t,r,i;function s(a){n[24](a)}function o(a){n[25](a)}let l={data:n[7]};return n[0]!==void 0&&(l.html=n[0]),n[1]!==void 0&&(l.css=n[1]),e=new $E({props:l}),se.push(()=>be(e,"html",s)),se.push(()=>be(e,"css",o)),e.$on("save",n[19]),e.$on("refresh",n[18]),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,u){q(e,a,u),i=!0},p(a,u){const f={};u[0]&128&&(f.data=a[7]),!t&&u[0]&1&&(t=!0,f.html=a[0],Ne(()=>t=!1)),!r&&u[0]&2&&(r=!0,f.css=a[1],Ne(()=>r=!1)),e.$set(f)},i(a){i||(S(e.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),i=!1},d(a){G(e,a)}}}function aW(n){let e,t,r,i;const s=[lW,oW,sW],o=[];function l(a,u){return a[9]==="code"?0:a[9]==="fields"?1:a[9]==="content"?2:-1}return~(t=l(n))&&(r=o[t]=s[t](n)),{c(){e=T("div"),r&&r.c(),this.h()},l(a){e=A(a,"DIV",{slot:!0,lang:!0,class:!0});var u=O(e);r&&r.l(u),u.forEach(m),this.h()},h(){y(e,"slot","left"),y(e,"lang",n[3]),y(e,"class","svelte-rqu6fk")},m(a,u){$(a,e,u),~t&&o[t].m(e,null),i=!0},p(a,u){let f=t;t=l(a),t===f?~t&&o[t].p(a,u):(r&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~t?(r=o[t],r?r.p(a,u):(r=o[t]=s[t](a),r.c()),S(r,1),r.m(e,null)):r=null),(!i||u[0]&8)&&y(e,"lang",a[3])},i(a){i||(S(r),i=!0)},o(a){P(r),i=!1},d(a){a&&m(e),~t&&o[t].d()}}}function uW(n){let e,t,r,i;function s(l){n[23](l)}let o={view:"small",loading:n[4],preview:n[5],error:n[17]};return n[10]!==void 0&&(o.orientation=n[10]),t=new Ef({props:o}),se.push(()=>be(t,"orientation",s)),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0,class:!0});var a=O(e);Y(t.$$.fragment,a),a.forEach(m),this.h()},h(){y(e,"slot","right"),y(e,"class","svelte-rqu6fk")},m(l,a){$(l,e,a),q(t,e,null),i=!0},p(l,a){const u={};a[0]&16&&(u.loading=l[4]),a[0]&32&&(u.preview=l[5]),!r&&a[0]&1024&&(r=!0,u.orientation=l[10],Ne(()=>r=!1)),t.$set(u)},i(l){i||(S(t.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),i=!1},d(l){l&&m(e),G(t)}}}function fW(n){let e,t,r,i,s,o,l,a,u;e=new Po({props:{label:"Site",warn:cW,button:{icon:"material-symbols:save",label:"Save",onclick:n[19],disabled:n[6]},$$slots:{title:[iW]},$$scope:{ctx:n}}});function f(g){n[31](g)}function c(g){n[32](g)}function d(g){n[33](g)}function h(g){n[34](g)}let p={orientation:n[10],hideRightPanel:n[15],hideLeftOverflow:n[8]&&n[9]===0,$$slots:{right:[uW],left:[aW]},$$scope:{ctx:n}};return n[11]!==void 0&&(p.leftPaneSize=n[11]),n[12]!==void 0&&(p.rightPaneSize=n[12]),n[13]!==void 0&&(p.topPaneSize=n[13]),n[14]!==void 0&&(p.bottomPaneSize=n[14]),i=new Ap({props:p}),se.push(()=>be(i,"leftPaneSize",f)),se.push(()=>be(i,"rightPaneSize",c)),se.push(()=>be(i,"topPaneSize",d)),se.push(()=>be(i,"bottomPaneSize",h)),{c(){W(e.$$.fragment),t=j(),r=T("main"),W(i.$$.fragment),this.h()},l(g){Y(e.$$.fragment,g),t=V(g),r=A(g,"MAIN",{class:!0});var _=O(r);Y(i.$$.fragment,_),_.forEach(m),this.h()},h(){y(r,"class","svelte-rqu6fk"),ee(r,"showing-ide",n[8]),ee(r,"showing-cms",!n[8])},m(g,_){q(e,g,_),$(g,t,_),$(g,r,_),q(i,r,null),u=!0},p(g,_){const b={};_[0]&64&&(b.button={icon:"material-symbols:save",label:"Save",onclick:g[19],disabled:g[6]}),_[0]&512|_[1]&1048576&&(b.$$scope={dirty:_,ctx:g}),e.$set(b);const v={};_[0]&1024&&(v.orientation=g[10]),_[0]&32768&&(v.hideRightPanel=g[15]),_[0]&768&&(v.hideLeftOverflow=g[8]&&g[9]===0),_[0]&1727|_[1]&1048576&&(v.$$scope={dirty:_,ctx:g}),!s&&_[0]&2048&&(s=!0,v.leftPaneSize=g[11],Ne(()=>s=!1)),!o&&_[0]&4096&&(o=!0,v.rightPaneSize=g[12],Ne(()=>o=!1)),!l&&_[0]&8192&&(l=!0,v.topPaneSize=g[13],Ne(()=>l=!1)),!a&&_[0]&16384&&(a=!0,v.bottomPaneSize=g[14],Ne(()=>a=!1)),i.$set(v),(!u||_[0]&256)&&ee(r,"showing-ide",g[8]),(!u||_[0]&256)&&ee(r,"showing-cms",!g[8])},i(g){u||(S(e.$$.fragment,g),S(i.$$.fragment,g),u=!0)},o(g){P(e.$$.fragment,g),P(i.$$.fragment,g),u=!1},d(g){G(e,g),g&&m(t),g&&m(r),G(i)}}}const r0=je(De(Ln)?"100%":"50%"),i0=je("50%"),s0=je(De(Ln)?"100%":"50%"),o0=je("50%"),l0=je("horizontal"),a0=je("code"),cW=()=>!0;function dW(n,e,t){let r,i,s,o,l,a,u,f,c,d,h,p,g,_,b;me(n,xt,ke=>t(37,i=ke)),me(n,so,ke=>t(21,s=ke)),me(n,gr,ke=>t(3,o=ke)),me(n,Cs,ke=>t(8,l=ke)),me(n,hp,ke=>t(38,a=ke)),me(n,bn,ke=>t(39,u=ke)),me(n,Vl,ke=>t(40,f=ke)),me(n,a0,ke=>t(9,c=ke)),me(n,l0,ke=>t(10,d=ke)),me(n,r0,ke=>t(11,h=ke)),me(n,i0,ke=>t(12,p=ke)),me(n,s0,ke=>t(13,g=ke)),me(n,o0,ke=>t(14,_=ke)),me(n,Ln,ke=>t(15,b=ke));let v=gt(f),E=gt(u),k=gt(a).map(ke=>({...ke,value:E[o][ke.key]}));k.length===0&&Ut(Cs,l=!0,l);const N=new Map;function C(ke){const ue=JSON.stringify(ke);if(N.has(ue))return N.get(ue);{const nt=pn(ke);return N.set(ue,nt),nt}}function M(ke){t(2,J=D(J,ke))}function D(ke,ue){return ke.map(nt=>{var fe;const Qe=(fe=E[ue])==null?void 0:fe[nt.key],pe=Qe!==void 0?Qe:C(nt);return{...nt,value:pe}})}function I(ke){nt(),ue();function ue(){let Qe=gt(E);ke.forEach(pe=>{E[o][pe.key]===void 0&&Object.keys(E).forEach(fe=>{Qe[fe][pe.key]=pn(pe)})}),t(20,E=Qe)}function nt(){let Qe=gt(E);Object.keys(E[o]).forEach(pe=>{Er(ke,["key",pe])||Object.keys(E).forEach(fe=>{delete Qe[fe][pe]})}),t(20,E=Qe),ce()}}function z(){t(20,E={...E,[o]:{...E[o],...Yr(J).keyBy("key").mapValues("value").value()}})}function R(ke,ue){v[ke]=ue}let F=!1,Z=v.html.head,K=v.css,J=k,X="",ie,Ee=!1;async function Q({html:ke,css:ue}){t(6,Ee=!0),t(4,F=!0),R("html",ke),R("css",ue),await nt(),t(6,Ee=ie),await setTimeout(()=>{t(4,F=!1)},200);async function nt(){var Qe;t(5,X=(Qe=await yf({site:{...i,code:{...v,html:{head:ke,below:""}},content:E}}))==null?void 0:Qe.html)}}let Me=!1;async function ce(){await Q({html:Z,css:K}),Me=!0}async function de(){Me||await ce();const ke={code:{...v,html:{head:v.html,below:""}},content:E,fields:L.cloneDeep(J).map(ue=>(delete ue.value,ue))};Ee||(b6.update(ke),nr.hide())}function Te(ke){c=ke,a0.set(c)}function Oe(ke){d=ke,l0.set(d)}function B(ke){Z=ke,t(0,Z)}function we(ke){K=ke,t(1,K)}function x(ke){J=ke,t(2,J)}const te=()=>{ce(),z()},Ae=async()=>{await Li(),z(),ce()};function it(ke){J=ke,t(2,J)}const Nt=()=>{t(2,J=J.filter(Boolean)),z()};function Ft(ke){h=ke,r0.set(h)}function ze(ke){p=ke,i0.set(p)}function bt(ke){g=ke,s0.set(g)}function ve(ke){_=ke,o0.set(_)}return n.$$.update=()=>{n.$$.dirty[0]&1048584&&t(7,r={...E[o]}),n.$$.dirty[0]&8&&M(o),n.$$.dirty[0]&4&&I(J),n.$$.dirty[0]&2097155&&s&&Q({html:Z,css:K}),n.$$.dirty[0]&3&&(Me=!1)},[Z,K,J,o,F,X,Ee,r,l,c,d,h,p,g,_,b,z,ie,ce,de,E,s,Te,Oe,B,we,x,te,Ae,it,Nt,Ft,ze,bt,ve]}class hW extends Ie{constructor(e){super(),$e(this,e,dW,fW,Le,{},null,[-1,-1])}}function pW(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b;function v(D){n[9](D)}let E={autofocus:!0,id:"page-label",label:"Page Name",placeholder:"About Us"};n[0]!==void 0&&(E.value=n[0]),t=new gl({props:E}),se.push(()=>be(t,"value",v));function k(D){n[10](D)}let N={id:"page-url",label:"Page URL",placeholder:"about-us"};n[1]!==void 0&&(N.value=n[1]),s=new gl({props:N}),se.push(()=>be(s,"value",k)),s.$on("input",n[11]);function C(D){n[12](D)}let M={label:"Create from",options:[{id:null,label:"Blank"},{id:"DIVIDER"},...n[6].map(u0)]};return n[3]!==void 0&&(M.value=n[3]),u=new _E({props:M}),se.push(()=>be(u,"value",C)),h=new Ze({props:{icon:"akar-icons:check"}}),{c(){e=T("form"),W(t.$$.fragment),i=j(),W(s.$$.fragment),l=j(),a=T("div"),W(u.$$.fragment),c=j(),d=T("button"),W(h.$$.fragment),this.h()},l(D){e=A(D,"FORM",{class:!0});var I=O(e);Y(t.$$.fragment,I),i=V(I),Y(s.$$.fragment,I),l=V(I),a=A(I,"DIV",{class:!0});var z=O(a);Y(u.$$.fragment,z),z.forEach(m),c=V(I),d=A(I,"BUTTON",{class:!0});var R=O(d);Y(h.$$.fragment,R),R.forEach(m),I.forEach(m),this.h()},h(){y(a,"class","select svelte-kc309c"),d.disabled=n[5],y(d,"class","svelte-kc309c"),y(e,"class","svelte-kc309c")},m(D,I){$(D,e,I),q(t,e,null),w(e,i),q(s,e,null),w(e,l),w(e,a),q(u,a,null),w(e,c),w(e,d),q(h,d,null),g=!0,_||(b=re(e,"submit",Gi(n[13])),_=!0)},p(D,[I]){const z={};!r&&I&1&&(r=!0,z.value=D[0],Ne(()=>r=!1)),t.$set(z);const R={};!o&&I&2&&(o=!0,R.value=D[1],Ne(()=>o=!1)),s.$set(R);const F={};I&64&&(F.options=[{id:null,label:"Blank"},{id:"DIVIDER"},...D[6].map(u0)]),!f&&I&8&&(f=!0,F.value=D[3],Ne(()=>f=!1)),u.$set(F),(!g||I&32)&&(d.disabled=D[5])},i(D){g||(S(t.$$.fragment,D),S(s.$$.fragment,D),S(u.$$.fragment,D),S(h.$$.fragment,D),p||Yt(()=>{p=qr(e,Gr,{duration:100}),p.start()}),g=!0)},o(D){P(t.$$.fragment,D),P(s.$$.fragment,D),P(u.$$.fragment,D),P(h.$$.fragment,D),g=!1},d(D){D&&m(e),G(t),G(s),G(u),G(h),_=!1,b()}}}const u0=n=>({id:n.id,label:n.name});function mW(n,e,t){let r,i,s,o;me(n,Hi,v=>t(14,s=v)),me(n,vi,v=>t(6,o=v));let{page:l=null}=e;const a=Ct();let u="",f="",c=s,d=!1;function h(v){u=v,t(0,u)}function p(v){f=v,t(1,f),t(2,d),t(0,u)}const g=()=>t(2,d=!0);function _(v){c=v,t(3,c)}const b=()=>a("create",{details:i,source:c});return n.$$set=v=>{"page"in v&&t(8,l=v.page)},n.$$.update=()=>{n.$$.dirty&7&&t(1,f=Wa(d?f:u)),n.$$.dirty&3&&t(5,r=!u||!f),n.$$.dirty&259&&t(4,i={id:si(),name:u,url:f,parent:(l==null?void 0:l.id)||null})},[u,f,d,c,i,r,o,a,l,h,p,g,_,b]}class LE extends Ie{constructor(e){super(),$e(this,e,mW,pW,Le,{page:8})}}function f0(n,e,t){const r=n.slice();r[29]=e[t];const i=r[9].filter(function(...o){return n[27](r[29],...o)});return r[30]=i,r}function gW(n){let e,t,r=n[0].name+"",i,s,o,l,a=(n[0].url!=="index"?n[0].url:"")+"",u,f,c;return{c(){e=T("a"),t=T("span"),i=H(r),s=j(),o=T("span"),l=H("/"),u=H(a),this.h()},l(d){e=A(d,"A",{class:!0,href:!0});var h=O(e);t=A(h,"SPAN",{class:!0});var p=O(t);i=U(p,r),p.forEach(m),s=V(h),o=A(h,"SPAN",{class:!0});var g=O(o);l=U(g,"/"),u=U(g,a),g.forEach(m),h.forEach(m),this.h()},h(){y(t,"class","svelte-1d8zux4"),y(o,"class","url svelte-1d8zux4"),y(e,"class","details svelte-1d8zux4"),y(e,"href",n[11]),ee(e,"active",n[2])},m(d,h){$(d,e,h),w(e,t),w(t,i),w(e,s),w(e,o),w(o,l),w(o,u),f||(c=re(e,"click",n[19]),f=!0)},p(d,h){h[0]&1&&r!==(r=d[0].name+"")&&Se(i,r),h[0]&1&&a!==(a=(d[0].url!=="index"?d[0].url:"")+"")&&Se(u,a),h[0]&4&&ee(e,"active",d[2])},d(d){d&&m(e),f=!1,c()}}}function _W(n){let e,t,r=n[0].name+"",i,s,o,l,a,u=n[0].url!=="index"&&c0(n);return{c(){e=T("div"),t=T("div"),i=H(r),o=j(),u&&u.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var c=O(e);t=A(c,"DIV",{class:!0});var d=O(t);i=U(d,r),d.forEach(m),o=V(c),u&&u.l(c),c.forEach(m),this.h()},h(){y(t,"class","name svelte-1d8zux4"),y(e,"class","details svelte-1d8zux4")},m(f,c){$(f,e,c),w(e,t),w(t,i),w(e,o),u&&u.m(e,null),l||(a=Gu(s=mp.call(null,t,{autofocus:!0,on_change:n[15],on_submit:n[16]})),l=!0)},p(f,c){c[0]&1&&r!==(r=f[0].name+"")&&Se(i,r),s&&vo(s.update)&&c[0]&32&&s.update.call(null,{autofocus:!0,on_change:f[15],on_submit:f[16]}),f[0].url!=="index"?u?u.p(f,c):(u=c0(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(f){f&&m(e),u&&u.d(),l=!1,a()}}}function c0(n){let e,t,r,i,s,o=n[0].url+"",l,a,u,f;return{c(){e=T("div"),t=T("span"),r=H("/"),i=j(),s=T("div"),l=H(o),this.h()},l(c){e=A(c,"DIV",{class:!0});var d=O(e);t=A(d,"SPAN",{class:!0});var h=O(t);r=U(h,"/"),h.forEach(m),i=V(d),s=A(d,"DIV",{class:!0});var p=O(s);l=U(p,o),p.forEach(m),d.forEach(m),this.h()},h(){y(t,"class","svelte-1d8zux4"),y(s,"class","url svelte-1d8zux4"),y(e,"class","url svelte-1d8zux4")},m(c,d){$(c,e,d),w(e,t),w(t,r),w(e,i),w(e,s),w(s,l),u||(f=Gu(a=mp.call(null,s,{on_change:n[17],on_submit:n[18]})),u=!0)},p(c,d){d[0]&1&&o!==(o=c[0].url+"")&&Se(l,o),a&&vo(a.update)&&d[0]&32&&a.update.call(null,{on_change:c[17],on_submit:c[18]})},d(c){c&&m(e),u=!1,f()}}}function d0(n){let e,t,r,i,s;return t=new Ze({props:{icon:"mdi:chevron-down"}}),{c(){e=T("button"),W(t.$$.fragment),this.h()},l(o){e=A(o,"BUTTON",{class:!0,"aria-label":!0});var l=O(e);Y(t.$$.fragment,l),l.forEach(m),this.h()},h(){y(e,"class","toggle svelte-1d8zux4"),y(e,"aria-label","Toggle child pages"),ee(e,"active",n[4])},m(o,l){$(o,e,l),q(t,e,null),r=!0,i||(s=re(e,"click",n[20]),i=!0)},p(o,l){(!r||l[0]&16)&&ee(e,"active",o[4])},i(o){r||(S(t.$$.fragment,o),r=!0)},o(o){P(t.$$.fragment,o),r=!1},d(o){o&&m(e),G(t),i=!1,s()}}}function h0(n){let e,t,r,i,s,o,l,a;return t=new Ze({props:{icon:"akar-icons:plus"}}),s=new Ze({props:{icon:"fluent:delete-20-filled"}}),{c(){e=T("button"),W(t.$$.fragment),r=j(),i=T("button"),W(s.$$.fragment),this.h()},l(u){e=A(u,"BUTTON",{title:!0});var f=O(e);Y(t.$$.fragment,f),f.forEach(m),r=V(u),i=A(u,"BUTTON",{title:!0});var c=O(i);Y(s.$$.fragment,c),c.forEach(m),this.h()},h(){y(e,"title","Create Subpage"),y(i,"title","Delete Page")},m(u,f){$(u,e,f),q(t,e,null),$(u,r,f),$(u,i,f),q(s,i,null),o=!0,l||(a=[re(e,"click",n[22]),re(i,"click",n[23])],l=!0)},p:_e,i(u){o||(S(t.$$.fragment,u),S(s.$$.fragment,u),o=!0)},o(u){P(t.$$.fragment,u),P(s.$$.fragment,u),o=!1},d(u){u&&m(e),G(t),u&&m(r),u&&m(i),G(s),l=!1,Tt(a)}}}function p0(n){let e,t;return e=new LE({props:{page:n[0]}}),e.$on("create",n[24]),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const s={};i[0]&1&&(s.page=r[0]),e.$set(s)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function m0(n){let e,t,r,i=n[1],s=[];for(let l=0;l<i.length;l+=1)s[l]=g0(f0(n,i,l));const o=l=>P(s[l],1,1,()=>{s[l]=null});return{c(){e=T("ul");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=A(l,"UL",{class:!0});var a=O(e);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(m),this.h()},h(){y(e,"class","page-list child svelte-1d8zux4")},m(l,a){$(l,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);r=!0},p(l,a){if(a[0]&779){i=l[1];let u;for(u=0;u<i.length;u+=1){const f=f0(l,i,u);s[u]?(s[u].p(f,a),S(s[u],1)):(s[u]=g0(f),s[u].c(),S(s[u],1),s[u].m(e,null))}for(le(),u=i.length;u<s.length;u+=1)o(u);ae()}},i(l){if(!r){for(let a=0;a<i.length;a+=1)S(s[a]);l&&Yt(()=>{r&&(t||(t=$i(e,Bi,{duration:100},!0)),t.run(1))}),r=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)P(s[a]);l&&(t||(t=$i(e,Bi,{duration:100},!1)),t.run(0)),r=!1},d(l){l&&m(e),Kt(s,l),l&&t&&t.end()}}}function g0(n){let e,t,r,i;return t=new zE({props:{parent:n[0],page:n[29],parent_urls:[...n[3],n[0].url],children:n[30],active:n[8]===n[29].id}}),t.$on("delete",n[25]),t.$on("create",n[26]),{c(){e=T("li"),W(t.$$.fragment),r=j(),this.h()},l(s){e=A(s,"LI",{class:!0});var o=O(e);Y(t.$$.fragment,o),r=V(o),o.forEach(m),this.h()},h(){y(e,"class","svelte-1d8zux4")},m(s,o){$(s,e,o),q(t,e,null),w(e,r),i=!0},p(s,o){const l={};o[0]&1&&(l.parent=s[0]),o[0]&2&&(l.page=s[29]),o[0]&9&&(l.parent_urls=[...s[3],s[0].url]),o[0]&514&&(l.children=s[30]),o[0]&258&&(l.active=s[8]===s[29].id),t.$set(l)},i(s){i||(S(t.$$.fragment,s),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){s&&m(e),G(t)}}}function vW(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p;function g(C,M){return C[5]?_W:gW}let _=g(n),b=_(n),v=n[7]&&d0(n);l=new Ze({props:{icon:"clarity:edit-solid"}});let E=n[0].url!=="index"&&h0(n),k=n[6]&&p0(n),N=n[4]&&n[7]&&m0(n);return{c(){e=T("div"),t=T("div"),b.c(),r=j(),v&&v.c(),i=j(),s=T("div"),o=T("button"),W(l.$$.fragment),a=j(),E&&E.c(),u=j(),k&&k.c(),f=j(),N&&N.c(),c=ge(),this.h()},l(C){e=A(C,"DIV",{class:!0});var M=O(e);t=A(M,"DIV",{class:!0});var D=O(t);b.l(D),r=V(D),v&&v.l(D),D.forEach(m),i=V(M),s=A(M,"DIV",{class:!0});var I=O(s);o=A(I,"BUTTON",{class:!0,title:!0});var z=O(o);Y(l.$$.fragment,z),z.forEach(m),a=V(I),E&&E.l(I),I.forEach(m),M.forEach(m),u=V(C),k&&k.l(C),f=V(C),N&&N.l(C),c=ge(),this.h()},h(){y(t,"class","left svelte-1d8zux4"),y(o,"class","edit svelte-1d8zux4"),y(o,"title","Rename"),ee(o,"active",n[5]),y(s,"class","options svelte-1d8zux4"),y(e,"class","page-item-container svelte-1d8zux4"),ee(e,"active",n[0].id===n[8])},m(C,M){$(C,e,M),w(e,t),b.m(t,null),w(t,r),v&&v.m(t,null),w(e,i),w(e,s),w(s,o),q(l,o,null),w(s,a),E&&E.m(s,null),$(C,u,M),k&&k.m(C,M),$(C,f,M),N&&N.m(C,M),$(C,c,M),d=!0,h||(p=re(o,"click",n[21]),h=!0)},p(C,M){_===(_=g(C))&&b?b.p(C,M):(b.d(1),b=_(C),b&&(b.c(),b.m(t,r))),C[7]?v?(v.p(C,M),M[0]&128&&S(v,1)):(v=d0(C),v.c(),S(v,1),v.m(t,null)):v&&(le(),P(v,1,1,()=>{v=null}),ae()),(!d||M[0]&32)&&ee(o,"active",C[5]),C[0].url!=="index"?E?(E.p(C,M),M[0]&1&&S(E,1)):(E=h0(C),E.c(),S(E,1),E.m(s,null)):E&&(le(),P(E,1,1,()=>{E=null}),ae()),(!d||M[0]&257)&&ee(e,"active",C[0].id===C[8]),C[6]?k?(k.p(C,M),M[0]&64&&S(k,1)):(k=p0(C),k.c(),S(k,1),k.m(f.parentNode,f)):k&&(le(),P(k,1,1,()=>{k=null}),ae()),C[4]&&C[7]?N?(N.p(C,M),M[0]&144&&S(N,1)):(N=m0(C),N.c(),S(N,1),N.m(c.parentNode,c)):N&&(le(),P(N,1,1,()=>{N=null}),ae())},i(C){d||(S(v),S(l.$$.fragment,C),S(E),S(k),S(N),d=!0)},o(C){P(v),P(l.$$.fragment,C),P(E),P(k),P(N),d=!1},d(C){C&&m(e),b.d(),v&&v.d(),G(l),E&&E.d(),C&&m(u),k&&k.d(C),C&&m(f),N&&N.d(C),C&&m(c),h=!1,p()}}}function bW(n,e,t){let r,i,s;me(n,Hi,X=>t(8,i=X)),me(n,vi,X=>t(9,s=X));const o=Ct();let{parent:l=null}=e,{page:a}=e,{children:u=[]}=e,{active:f}=e,c=!1,{parent_urls:d=[]}=e;const h=window.location.pathname.split("/")[1],p=l?`/${h}/${d.join("/")}/${a.url}`:`/${h}/${a.url}`;let g=!0;vp(`page-list-toggle--${a.id}`).then(X=>{X!==void 0&&t(4,g=X)});let _=!1,b="";function v(X){Sd.update(a.id,X)}const E=X=>v({name:X}),k=()=>t(5,c=!1),N=X=>{v({url:Wa(X)})},C=()=>t(5,c=!1),M=()=>nr.hide(),D=()=>t(4,g=!g),I=()=>t(5,c=!c),z=()=>t(6,_=!0),R=()=>o("delete",a),F=({detail:X})=>{t(6,_=!1),o("create",X)};function Z(X){mt.call(this,n,X)}function K(X){mt.call(this,n,X)}const J=(X,ie)=>ie.parent===X.id;return n.$$set=X=>{"parent"in X&&t(13,l=X.parent),"page"in X&&t(0,a=X.page),"children"in X&&t(1,u=X.children),"active"in X&&t(2,f=X.active),"parent_urls"in X&&t(3,d=X.parent_urls)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(7,r=u.length>0),n.$$.dirty[0]&17&&bp(`page-list-toggle--${a.id}`,g),n.$$.dirty[0]&16384&&t(14,b=Wa(b))},[a,u,f,d,g,c,_,r,i,s,o,p,v,l,b,E,k,N,C,M,D,I,z,R,F,Z,K,J]}let zE=class extends Ie{constructor(e){super(),$e(this,e,bW,vW,Le,{parent:13,page:0,children:1,active:2,parent_urls:3},null,[-1,-1])}};function _0(n,e,t){const r=n.slice();r[10]=e[t],r[13]=t;const i=r[1].filter(function(...o){return n[7](r[10],...o)});return r[11]=i,r}function v0(n){let e,t,r;return t=new zE({props:{page:n[10],children:n[11],active:n[2]===n[10].id}}),t.$on("create",n[5]),t.$on("delete",n[6]),{c(){e=T("li"),W(t.$$.fragment),this.h()},l(i){e=A(i,"LI",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","svelte-c885hl")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p(i,s){const o={};s&2&&(o.page=i[10]),s&2&&(o.children=i[11]),s&6&&(o.active=i[2]===i[10].id),t.$set(o)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function b0(n){let e,t,r;return t=new LE({}),t.$on("create",n[8]),{c(){e=T("li"),W(t.$$.fragment),this.h()},l(i){e=A(i,"LI",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","svelte-c885hl")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p:_e,i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function y0(n){let e,t;return e=new gp({props:{label:"Create Page",icon:"akar-icons:plus"}}),e.$on("click",n[9]),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:_e,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function yW(n){let e,t,r,i,s,o=n[1].filter(k0),l=[];for(let c=0;c<o.length;c+=1)l[c]=v0(_0(n,o,c));const a=c=>P(l[c],1,1,()=>{l[c]=null});let u=n[0]&&b0(n),f=!n[0]&&y0(n);return{c(){e=T("ul");for(let c=0;c<l.length;c+=1)l[c].c();t=j(),u&&u.c(),r=j(),f&&f.c(),i=ge(),this.h()},l(c){e=A(c,"UL",{class:!0});var d=O(e);for(let h=0;h<l.length;h+=1)l[h].l(d);t=V(d),u&&u.l(d),d.forEach(m),r=V(c),f&&f.l(c),i=ge(),this.h()},h(){y(e,"class","page-list root svelte-c885hl")},m(c,d){$(c,e,d);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);w(e,t),u&&u.m(e,null),$(c,r,d),f&&f.m(c,d),$(c,i,d),s=!0},p(c,[d]){if(d&30){o=c[1].filter(k0);let h;for(h=0;h<o.length;h+=1){const p=_0(c,o,h);l[h]?(l[h].p(p,d),S(l[h],1)):(l[h]=v0(p),l[h].c(),S(l[h],1),l[h].m(e,t))}for(le(),h=o.length;h<l.length;h+=1)a(h);ae()}c[0]?u?(u.p(c,d),d&1&&S(u,1)):(u=b0(c),u.c(),S(u,1),u.m(e,null)):u&&(le(),P(u,1,1,()=>{u=null}),ae()),c[0]?f&&(le(),P(f,1,1,()=>{f=null}),ae()):f?(f.p(c,d),d&1&&S(f,1)):(f=y0(c),f.c(),S(f,1),f.m(i.parentNode,i))},i(c){if(!s){for(let d=0;d<o.length;d+=1)S(l[d]);S(u),S(f),s=!0}},o(c){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)P(l[d]);P(u),P(f),s=!1},d(c){c&&m(e),Kt(l,c),u&&u.d(),c&&m(r),f&&f.d(c),c&&m(i)}}}const k0=n=>!n.parent;function kW(n,e,t){let r,i;me(n,vi,h=>t(1,r=h)),me(n,Hi,h=>t(2,i=h));async function s(h){await Sd.create(h)}async function o(h){Sd.delete(h)}let l=!1;return[l,r,i,s,o,({detail:h})=>s(h),({detail:h})=>o(h.id),(h,p)=>p.parent===h.id,({detail:h})=>{t(0,l=!1),s(h)},()=>t(0,l=!0)]}class wW extends Ie{constructor(e){super(),$e(this,e,kW,yW,Le,{})}}function EW(n){let e,t,r,i,s;return e=new Po({props:{svg:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="5" height="5" rx="0.5" fill="#CECECE" stroke="#CECECE"/><rect x="10.5" y="2.5" width="5" height="5" rx="0.5" fill="#CECECE" stroke="#CECECE"/><rect x="2.5" y="10.5" width="5" height="5" rx="0.5" fill="#CECECE" stroke="#CECECE"/><rect x="10.5" y="10.5" width="5" height="5" rx="0.5" fill="#CECECE" stroke="#CECECE"/></svg>',title:"Pages"}}),i=new wW({}),{c(){W(e.$$.fragment),t=j(),r=T("main"),W(i.$$.fragment),this.h()},l(o){Y(e.$$.fragment,o),t=V(o),r=A(o,"MAIN",{class:!0});var l=O(r);Y(i.$$.fragment,l),l.forEach(m),this.h()},h(){y(r,"class","svelte-fwi384")},m(o,l){q(e,o,l),$(o,t,l),$(o,r,l),q(i,r,null),s=!0},p:_e,i(o){s||(S(e.$$.fragment,o),S(i.$$.fragment,o),s=!0)},o(o){P(e.$$.fragment,o),P(i.$$.fragment,o),s=!1},d(o){G(e,o),o&&m(t),o&&m(r),G(i)}}}class SW extends Ie{constructor(e){super(),$e(this,e,null,EW,Le,{})}}function TW(n){let e,t,r,i,s,o,l,a,u,f,c,d=n[0].size&&w0(n),h=n[0].url&&E0(n);s=new Ze({props:{height:"2rem",icon:"uil:image-upload"}});let p=!n[0].url&&S0();return{c(){e=T("div"),d&&d.c(),t=j(),h&&h.c(),r=j(),i=T("label"),W(s.$$.fragment),o=j(),p&&p.c(),l=j(),a=T("input"),this.h()},l(g){e=A(g,"DIV",{class:!0});var _=O(e);d&&d.l(_),t=V(_),h&&h.l(_),r=V(_),i=A(_,"LABEL",{class:!0});var b=O(i);Y(s.$$.fragment,b),o=V(b),p&&p.l(b),l=V(b),a=A(b,"INPUT",{type:!0,accept:!0,class:!0}),b.forEach(m),_.forEach(m),this.h()},h(){y(a,"type","file"),y(a,"accept","image/*"),y(a,"class","svelte-p2i4ci"),y(i,"class","image-upload svelte-p2i4ci"),y(e,"class","image-preview svelte-p2i4ci")},m(g,_){$(g,e,_),d&&d.m(e,null),w(e,t),h&&h.m(e,null),w(e,r),w(e,i),q(s,i,null),w(i,o),p&&p.m(i,null),w(i,l),w(i,a),u=!0,f||(c=re(a,"change",n[4]),f=!0)},p(g,_){g[0].size?d?d.p(g,_):(d=w0(g),d.c(),d.m(e,t)):d&&(d.d(1),d=null),g[0].url?h?h.p(g,_):(h=E0(g),h.c(),h.m(e,r)):h&&(h.d(1),h=null),g[0].url?p&&(p.d(1),p=null):p||(p=S0(),p.c(),p.m(i,l))},i(g){u||(S(s.$$.fragment,g),u=!0)},o(g){P(s.$$.fragment,g),u=!1},d(g){g&&m(e),d&&d.d(),h&&h.d(),G(s),p&&p.d(),f=!1,c()}}}function AW(n){let e,t,r;return t=new a6({}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var s=O(e);Y(t.$$.fragment,s),s.forEach(m),this.h()},h(){y(e,"class","spinner-container svelte-p2i4ci")},m(i,s){$(i,e,s),q(t,e,null),r=!0},p:_e,i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),G(t)}}}function w0(n){let e,t=n[0].size+"",r,i;return{c(){e=T("span"),r=H(t),i=H("KB"),this.h()},l(s){e=A(s,"SPAN",{class:!0});var o=O(e);r=U(o,t),i=U(o,"KB"),o.forEach(m),this.h()},h(){y(e,"class","field-size svelte-p2i4ci")},m(s,o){$(s,e,o),w(e,r),w(e,i)},p(s,o){o&1&&t!==(t=s[0].size+"")&&Se(r,t)},d(s){s&&m(e)}}}function E0(n){let e,t;return{c(){e=T("img"),this.h()},l(r){e=A(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){zi(e.src,t=n[1])||y(e,"src",t),y(e,"alt","Preview"),y(e,"class","svelte-p2i4ci")},m(r,i){$(r,e,i)},p(r,i){i&2&&!zi(e.src,t=r[1])&&y(e,"src",t)},d(r){r&&m(e)}}}function S0(n){let e,t;return{c(){e=T("span"),t=H("Upload"),this.h()},l(r){e=A(r,"SPAN",{class:!0});var i=O(e);t=U(i,"Upload"),i.forEach(m),this.h()},h(){y(e,"class","svelte-p2i4ci")},m(r,i){$(r,e,i),w(e,t)},d(r){r&&m(e)}}}function OW(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M,D,I;const z=[AW,TW],R=[];function F(J,X){return J[2]?0:1}r=F(n),i=R[r]=z[r](n),N=new gp({props:{type:"submit",label:"Add Image"}});const Z=n[6].default,K=at(Z,n,n[5],null);return{c(){e=T("div"),t=T("div"),i.c(),s=j(),o=T("form"),l=T("div"),a=T("label"),u=T("span"),f=H("URL"),c=j(),d=T("input"),h=j(),p=T("label"),g=T("span"),_=H("Description"),b=j(),v=T("input"),E=j(),k=T("footer"),W(N.$$.fragment),C=j(),K&&K.c(),this.h()},l(J){e=A(J,"DIV",{});var X=O(e);t=A(X,"DIV",{class:!0});var ie=O(t);i.l(ie),s=V(ie),o=A(ie,"FORM",{});var Ee=O(o);l=A(Ee,"DIV",{class:!0});var Q=O(l);a=A(Q,"LABEL",{class:!0});var Me=O(a);u=A(Me,"SPAN",{class:!0});var ce=O(u);f=U(ce,"URL"),ce.forEach(m),c=V(Me),d=A(Me,"INPUT",{type:!0,class:!0}),Me.forEach(m),h=V(Q),p=A(Q,"LABEL",{class:!0});var de=O(p);g=A(de,"SPAN",{class:!0});var Te=O(g);_=U(Te,"Description"),Te.forEach(m),b=V(de),v=A(de,"INPUT",{type:!0,class:!0}),de.forEach(m),Q.forEach(m),E=V(Ee),k=A(Ee,"FOOTER",{class:!0});var Oe=O(k);Y(N.$$.fragment,Oe),Oe.forEach(m),Ee.forEach(m),ie.forEach(m),X.forEach(m),C=V(J),K&&K.l(J),this.h()},h(){y(u,"class","svelte-p2i4ci"),d.autofocus=!0,y(d,"type","url"),y(d,"class","svelte-p2i4ci"),y(a,"class","image-input svelte-p2i4ci"),y(g,"class","svelte-p2i4ci"),y(v,"type","text"),y(v,"class","svelte-p2i4ci"),y(p,"class","image-input svelte-p2i4ci"),y(l,"class","inputs svelte-p2i4ci"),y(k,"class","svelte-p2i4ci"),y(t,"class","image-info svelte-p2i4ci")},m(J,X){$(J,e,X),w(e,t),R[r].m(t,null),w(t,s),w(t,o),w(o,l),w(l,a),w(a,u),w(u,f),w(a,c),w(a,d),mn(d,n[0].url),w(l,h),w(l,p),w(p,g),w(g,_),w(p,b),w(p,v),mn(v,n[0].alt),w(o,E),w(o,k),q(N,k,null),$(J,C,X),K&&K.m(J,X),M=!0,d.focus(),D||(I=[re(d,"input",n[7]),re(d,"input",n[8]),re(v,"input",n[9]),re(o,"submit",Gi(n[10]))],D=!0)},p(J,[X]){let ie=r;r=F(J),r===ie?R[r].p(J,X):(le(),P(R[ie],1,1,()=>{R[ie]=null}),ae(),i=R[r],i?i.p(J,X):(i=R[r]=z[r](J),i.c()),S(i,1),i.m(t,s)),X&1&&d.value!==J[0].url&&mn(d,J[0].url),X&1&&v.value!==J[0].alt&&mn(v,J[0].alt),K&&K.p&&(!M||X&32)&&ut(K,Z,J,J[5],M?ct(Z,J[5],X,null):ft(J[5]),null)},i(J){M||(S(i),S(N.$$.fragment,J),S(K,J),M=!0)},o(J){P(i),P(N.$$.fragment,J),P(K,J),M=!1},d(J){J&&m(e),R[r].d(),G(N),J&&m(C),K&&K.d(J),D=!1,Tt(I)}}}function CW(n,e,t){let r;me(n,xt,b=>t(11,r=b));let{$$slots:i={},$$scope:s}=e;const o=Ct(),l={alt:"",url:"",src:"",size:null};let{value:a=l}=e;(typeof a=="string"||!a)&&(a=l);function u({url:b,size:v}){t(0,a={...a,url:b,src:b,size:v})}async function f({target:b}){t(2,d=!0);const{files:v}=b;if(v.length>0){const E=v[0];let k=new Blob([E]).size;const N=`${r.id}/${E.lastModified+E.name}`,C=await pp({bucket:"images",action:"upload",key:N,file:E});C&&(t(1,c=C),u({url:C,size:Math.round(k/1e3)})),t(2,d=!1)}}let c=a.url||"",d=!1;const h=b=>{const{value:v}=b.target;t(1,c=v)};function p(){a.url=this.value,t(0,a)}function g(){a.alt=this.value,t(0,a)}const _=()=>o("submit",a);return n.$$set=b=>{"value"in b&&t(0,a=b.value),"$$scope"in b&&t(5,s=b.$$scope)},[a,c,d,o,f,s,i,h,p,g,_]}let MW=class extends Ie{constructor(e){super(),$e(this,e,CW,OW,Le,{value:0})}};function PW(n){let e,t,r,i,s,o;return{c(){e=T("main"),t=T("h1"),r=H("Unsuccessful"),i=j(),s=T("p"),o=H("For some reason we weren't able to submit your feedback. Please let us know by emailing contact@primo.af"),this.h()},l(l){e=A(l,"MAIN",{class:!0});var a=O(e);t=A(a,"H1",{class:!0});var u=O(t);r=U(u,"Unsuccessful"),u.forEach(m),i=V(a),s=A(a,"P",{});var f=O(s);o=U(f,"For some reason we weren't able to submit your feedback. Please let us know by emailing contact@primo.af"),f.forEach(m),a.forEach(m),this.h()},h(){y(t,"class","svelte-1ryanrn"),y(e,"class","svelte-1ryanrn")},m(l,a){$(l,e,a),w(e,t),w(t,r),w(e,i),w(e,s),w(s,o)},p:_e,i:_e,o:_e,d(l){l&&m(e)}}}function NW(n){let e,t,r,i,s,o;return{c(){e=T("main"),t=T("h1"),r=H("Feedback Submitted Successfully"),i=j(),s=T("p"),o=H("Thanks for your message! If you provided your email address, we'll try to follow up with you as soon as possible."),this.h()},l(l){e=A(l,"MAIN",{class:!0});var a=O(e);t=A(a,"H1",{class:!0});var u=O(t);r=U(u,"Feedback Submitted Successfully"),u.forEach(m),i=V(a),s=A(a,"P",{});var f=O(s);o=U(f,"Thanks for your message! If you provided your email address, we'll try to follow up with you as soon as possible."),f.forEach(m),a.forEach(m),this.h()},h(){y(t,"class","svelte-1ryanrn"),y(e,"class","svelte-1ryanrn")},m(l,a){$(l,e,a),w(e,t),w(t,r),w(e,i),w(e,s),w(s,o)},p:_e,i:_e,o:_e,d(l){l&&m(e)}}}function DW(n){let e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b,v,E,k,N,C,M,D,I,z,R,F,Z,K;return R=new gp({props:{type:"submit",$$slots:{default:[RW]},$$scope:{ctx:n}}}),{c(){e=T("main"),t=T("h1"),r=H("Feedback"),i=j(),s=T("p"),o=H("Let us know if something broke, if there's something you want to do that you can't do (yet), or even if you're just enjoying primo."),l=j(),a=T("form"),u=T("label"),f=T("span"),c=H("Message *"),d=j(),h=T("textarea"),p=j(),g=T("label"),_=T("span"),b=H("Email address (if you'd like us to follow up)"),v=j(),E=T("input"),k=j(),N=T("div"),C=T("input"),M=j(),D=T("input"),z=j(),W(R.$$.fragment),this.h()},l(J){e=A(J,"MAIN",{class:!0});var X=O(e);t=A(X,"H1",{class:!0});var ie=O(t);r=U(ie,"Feedback"),ie.forEach(m),i=V(X),s=A(X,"P",{});var Ee=O(s);o=U(Ee,"Let us know if something broke, if there's something you want to do that you can't do (yet), or even if you're just enjoying primo."),Ee.forEach(m),l=V(X),a=A(X,"FORM",{class:!0});var Q=O(a);u=A(Q,"LABEL",{});var Me=O(u);f=A(Me,"SPAN",{class:!0});var ce=O(f);c=U(ce,"Message *"),ce.forEach(m),d=V(Me),h=A(Me,"TEXTAREA",{name:!0,class:!0}),O(h).forEach(m),Me.forEach(m),p=V(Q),g=A(Q,"LABEL",{});var de=O(g);_=A(de,"SPAN",{class:!0});var Te=O(_);b=U(Te,"Email address (if you'd like us to follow up)"),Te.forEach(m),v=V(de),E=A(de,"INPUT",{type:!0,class:!0,name:!0}),de.forEach(m),k=V(Q),N=A(Q,"DIV",{class:!0});var Oe=O(N);C=A(Oe,"INPUT",{type:!0,class:!0,name:!0}),M=V(Oe),D=A(Oe,"INPUT",{type:!0,class:!0,name:!0}),Oe.forEach(m),z=V(Q),Y(R.$$.fragment,Q),Q.forEach(m),X.forEach(m),this.h()},h(){y(t,"class","svelte-1ryanrn"),y(f,"class","svelte-1ryanrn"),h.required=!0,y(h,"name","message"),y(h,"class","svelte-1ryanrn"),y(_,"class","svelte-1ryanrn"),y(E,"type","email"),y(E,"class","primo-input svelte-1ryanrn"),y(E,"name","email"),y(C,"type","platform"),y(C,"class","primo-input svelte-1ryanrn"),y(C,"name","platform"),C.value=window.navigator,y(D,"type","version"),y(D,"class","primo-input svelte-1ryanrn"),y(D,"name","version"),D.value=I=n[3]+"  Primo: ___",y(N,"class","hidden svelte-1ryanrn"),y(a,"class","svelte-1ryanrn"),y(e,"class","svelte-1ryanrn")},m(J,X){$(J,e,X),w(e,t),w(t,r),w(e,i),w(e,s),w(s,o),w(e,l),w(e,a),w(a,u),w(u,f),w(f,c),w(u,d),w(u,h),w(a,p),w(a,g),w(g,_),w(_,b),w(g,v),w(g,E),w(a,k),w(a,N),w(N,C),w(N,M),w(N,D),w(a,z),q(R,a,null),n[4](a),F=!0,Z||(K=re(a,"submit",Gi(n[5])),Z=!0)},p(J,X){(!F||X&8&&I!==(I=J[3]+"  Primo: ___")&&D.value!==I)&&(D.value=I);const ie={};X&64&&(ie.$$scope={dirty:X,ctx:J}),R.$set(ie)},i(J){F||(S(R.$$.fragment,J),F=!0)},o(J){P(R.$$.fragment,J),F=!1},d(J){J&&m(e),G(R),n[4](null),Z=!1,K()}}}function RW(n){let e;return{c(){e=H("Submit")},l(t){e=U(t,"Submit")},m(t,r){$(t,e,r)},d(t){t&&m(e)}}}function IW(n){let e,t,r,i;const s=[DW,NW,PW],o=[];function l(a,u){return a[1]?a[1]&&a[2]?1:a[1]&&!a[2]?2:-1:0}return~(e=l(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=ge()},l(a){t&&t.l(a),r=ge()},m(a,u){~e&&o[e].m(a,u),$(a,r,u),i=!0},p(a,[u]){let f=e;e=l(a),e===f?~e&&o[e].p(a,u):(t&&(le(),P(o[f],1,1,()=>{o[f]=null}),ae()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=s[e](a),t.c()),S(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(S(t),i=!0)},o(a){P(t),i=!1},d(a){~e&&o[e].d(a),a&&m(r)}}}function $W(n,e,t){let r,i=!1,s=!1,o;Jo("ENVIRONMENT")==="DESKTOP"?o=`Desktop: ${__DESKTOP_VERSION__}`:Jo("ENVIRONMENT")==="SERVER"?o="Server: 2.0.0--beta.48":Jo("ENVIRONMENT")==="TRY"&&(o=`Try Primo: ${__TRY_VERSION__}`);function l(u){se[u?"unshift":"push"](()=>{r=u,t(0,r)})}return[r,i,s,o,l,()=>{var u=new window.FormData(r);ds.post("https://formspree.io/f/xknywogb",u).then(f=>{var c;console.log({res:f}),(c=f.data)!=null&&c.ok&&t(2,s=!0)}).finally(()=>{t(1,i=!0)})}]}class LW extends Ie{constructor(e){super(),$e(this,e,$W,IW,Le,{})}}function T0(n){let e,t,r,i,s,o;return{c(){e=T("header"),t=T("button"),r=ir("svg"),i=ir("path"),this.h()},l(l){e=A(l,"HEADER",{class:!0});var a=O(e);t=A(a,"BUTTON",{});var u=O(t);r=sr(u,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var f=O(r);i=sr(f,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),O(i).forEach(m),f.forEach(m),u.forEach(m),a.forEach(m),this.h()},h(){y(i,"d","M1 13L13 1M13 13L1 1"),y(i,"stroke","white"),y(i,"stroke-width","2"),y(i,"stroke-linecap","round"),y(i,"stroke-linejoin","round"),y(r,"width","14"),y(r,"height","14"),y(r,"viewBox","0 0 14 14"),y(r,"fill","none"),y(r,"xmlns","http://www.w3.org/2000/svg"),y(e,"class","svelte-sxzuy8")},m(l,a){$(l,e,a),w(e,t),w(t,r),w(r,i),s||(o=re(t,"click",n[5]),s=!0)},p:_e,d(l){l&&m(e),s=!1,o()}}}function zW(n){let e,t,r;const i=[n[1]];var s=n[0];function o(l){let a={};for(let u=0;u<i.length;u+=1)a=Rt(a,i[u]);return{props:a}}return s&&(e=kt(s,o())),{c(){e&&W(e.$$.fragment),t=ge()},l(l){e&&Y(e.$$.fragment,l),t=ge()},m(l,a){e&&q(e,l,a),$(l,t,a),r=!0},p(l,a){const u=a&2?jn(i,[qi(l[1])]):{};if(a&1&&s!==(s=l[0])){if(e){le();const f=e;P(f.$$.fragment,1,0,()=>{G(f,1)}),ae()}s?(e=kt(s,o()),W(e.$$.fragment),S(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(l){r||(e&&S(e.$$.fragment,l),r=!0)},o(l){e&&P(e.$$.fragment,l),r=!1},d(l){l&&m(t),e&&G(e,l)}}}function BW(n){let e,t;return e=new LW({}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:_e,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function FW(n){let e,t,r,i,s,o,l,a;return{c(){e=T("div"),t=T("div"),r=H("Enter URL"),i=j(),s=T("form"),o=T("input"),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=O(e);t=A(f,"DIV",{class:!0});var c=O(t);r=U(c,"Enter URL"),c.forEach(m),i=V(f),s=A(f,"FORM",{class:!0});var d=O(s);o=A(d,"INPUT",{type:!0,class:!0}),d.forEach(m),f.forEach(m),this.h()},h(){y(t,"class","message"),y(o,"type","url"),o.autofocus=!0,y(o,"class","svelte-sxzuy8"),y(s,"class","svelte-sxzuy8"),y(e,"class","link")},m(u,f){$(u,e,f),w(e,t),w(t,r),w(e,i),w(e,s),w(s,o),mn(o,n[4]),o.focus(),l||(a=[re(o,"input",n[7]),re(s,"submit",Gi(n[8]))],l=!0)},p(u,f){f&16&&o.value!==u[4]&&mn(o,u[4])},i:_e,o:_e,d(u){u&&m(e),l=!1,Tt(a)}}}function jW(n){let e,t;const r=[n[1]];let i={};for(let s=0;s<r.length;s+=1)i=Rt(i,r[s]);return e=new MW({props:i}),e.$on("submit",n[6]),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,o){q(e,s,o),t=!0},p(s,o){const l=o&2?jn(r,[qi(s[1])]):{};e.$set(l)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function VW(n){let e,t,r,i,s,o,l=!n[2].disableClose&&T0(n);const a=[jW,FW,BW,zW],u=[];function f(c,d){return c[0]==="IMAGE"?0:c[0]==="LINK"?1:c[0]==="FEEDBACK"?2:typeof c[0]!="string"?3:-1}return~(i=f(n))&&(s=u[i]=a[i](n)),{c(){e=T("main"),l&&l.c(),t=j(),r=T("div"),s&&s.c(),this.h()},l(c){e=A(c,"MAIN",{class:!0});var d=O(e);l&&l.l(d),t=V(d),r=A(d,"DIV",{});var h=O(r);s&&s.l(h),h.forEach(m),d.forEach(m),this.h()},h(){y(e,"class","primo-reset svelte-sxzuy8")},m(c,d){$(c,e,d),l&&l.m(e,null),w(e,t),w(e,r),~i&&u[i].m(r,null),o=!0},p(c,[d]){c[2].disableClose?l&&(l.d(1),l=null):l?l.p(c,d):(l=T0(c),l.c(),l.m(e,t));let h=i;i=f(c),i===h?~i&&u[i].p(c,d):(s&&(le(),P(u[h],1,1,()=>{u[h]=null}),ae()),~i?(s=u[i],s?s.p(c,d):(s=u[i]=a[i](c),s.c()),S(s,1),s.m(r,null)):s=null)},i(c){o||(S(s),o=!0)},o(c){P(s),o=!1},d(c){c&&m(e),l&&l.d(),~i&&u[i].d()}}}function HW(n,e,t){let{component:r}=e,{props:i={}}=e,{options:s={disableClose:!1}}=e,{onSubmit:o}=e,l="";const a=()=>nr.hide(),u=({detail:d})=>o(d);function f(){l=this.value,t(4,l)}const c=()=>o(l);return n.$$set=d=>{"component"in d&&t(0,r=d.component),"props"in d&&t(1,i=d.props),"options"in d&&t(2,s=d.options),"onSubmit"in d&&t(3,o=d.onSubmit)},[r,i,s,o,l,a,u,f,c]}class UW extends Ie{constructor(e){super(),$e(this,e,HW,VW,Le,{component:0,props:1,options:2,onSubmit:3})}}const WW={DEPLOY:{component:sV,header:{title:"Deploy",icon:"fas fa-cloud-upload-alt"}},COMPONENT_EDITOR:{component:dU,header:{title:"Create Component",icon:"fas fa-code"}},SYMBOL_EDITOR:{component:kU,header:{title:"Create Symbol",icon:"fas fa-code"}},PAGE_EDITOR:{component:rW,header:{title:"Edit Page",icon:"fas fa-code"}},SITE_EDITOR:{component:hW,header:{title:"Edit Page",icon:"fas fa-code"}},SITE_PAGES:{component:SW,header:{title:"Pages",icon:"fas fa-th-large"}},DIALOG:{component:UW}},BE={type:null,component:null,componentProps:{},header:{title:"",icon:null},footer:null,variants:"",disableClose:!1,disabledBgClose:!1,maxWidth:null,showSwitch:!1,noPadding:!1},FE={...WW},Dc=je(BE),qW=()=>{SE.bind("backspace",n=>{n.preventDefault()})},GW=()=>{SE.unbind("backspace")},nr={show:(n,e={},t={})=>{const r=KW(n,e,t);qW(),Dc.update(i=>({...BE,...r,...t,type:n}))},hide:(n=null)=>{GW(),Dc.update(e=>({...e,type:null}))},register:n=>{Array.isArray(n)?n.forEach(e):typeof n=="object"?e(n):console.error("Could not register modal an array or object");function e(t){const{id:r,component:i,componentProps:s={},options:o={}}=t;FE[r]={...o,component:i,header:o.header,variants:o.width?`${o.width}`:"",componentProps:s}}},subscribe:Dc.subscribe};function KW(n,e={},t={}){return{componentProps:e,...FE[n],...t}}var jE={exports:{}};(function(n,e){(function(t,r){r()})($o,function(){function t(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,f,c)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $o=="object"&&$o.global===$o?$o:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,f,c){var d=o.URL||o.webkitURL,h=document.createElement("a");f=f||u.name||"download",h.download=f,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?s(h):i(h.href)?r(u,f,c):s(h,h.target="_blank")):(h.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(t(u,c),f);else if(i(u))r(u,f,c);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){s(d)})}}:function(u,f,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var h=u.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||h&&p||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var E=_.result;E=g?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=E:location=E,d=null},_.readAsDataURL(u)}else{var b=o.URL||o.webkitURL,v=b.createObjectURL(u);d?d.location=v:location.href=v,d=null,setTimeout(function(){b.revokeObjectURL(v)},4e4)}});o.saveAs=a.saveAs=a,n.exports=a})})(jE);var VE=jE.exports;const JW=hh(VE),YW=hT({__proto__:null,default:JW},[VE]);const XW="finalize",ZW="consider";function Wx(n,e,t){n.dispatchEvent(new CustomEvent(XW,{detail:{items:e,info:t}}))}function qx(n,e,t){n.dispatchEvent(new CustomEvent(ZW,{detail:{items:e,info:t}}))}const HE="draggedEntered",Op="draggedLeft",UE="draggedOverIndex",QW="draggedLeftDocument",WE={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Gx(n,e,t){n.dispatchEvent(new CustomEvent(HE,{detail:{indexObj:e,draggedEl:t}}))}function Kx(n,e,t){n.dispatchEvent(new CustomEvent(Op,{detail:{draggedEl:e,type:WE.LEFT_FOR_ANOTHER,theOtherDz:t}}))}function Jx(n,e){n.dispatchEvent(new CustomEvent(Op,{detail:{draggedEl:e,type:WE.OUTSIDE_OF_ANY}}))}function Yx(n,e,t){n.dispatchEvent(new CustomEvent(UE,{detail:{indexObj:e,draggedEl:t}}))}function Xx(n){window.dispatchEvent(new CustomEvent(QW,{detail:{draggedEl:n}}))}const Zx={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:HE,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:UE,DRAGGED_LEFT:Op,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Qx={POINTER:"pointer",KEYBOARD:"keyboard"},xx="isDndShadowItem",xW="data-is-dnd-shadow-item-internal",eee="data-is-dnd-shadow-item-hint",tee="id:dnd-shadow-placeholder-0000",nee="dnd-action-dragged-el";let eq="id",Ya=0;function ree(){Ya++}function iee(){if(Ya===0)throw new Error("Bug! trying to decrement when there are no dropzones");Ya--}function see(n){if(Ya>0)throw new Error("can only override the id key before initialising any dndzone");if(typeof n!="string")throw new Error("item id key has to be a string");eq=n}const oee=typeof window>"u";function tq(n){let e;const t=n.getBoundingClientRect(),r=getComputedStyle(n),i=r.transform;if(i){let s,o,l,a;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),s=+e[0],o=+e[5],l=+e[12],a=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),s=+e[0],o=+e[3],l=+e[4],a=+e[5];else return t;const u=r.transformOrigin,f=t.x-l-(1-s)*parseFloat(u),c=t.y-a-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),d=s?t.width/s:n.offsetWidth,h=o?t.height/o:n.offsetHeight;return{x:f,y:c,width:d,height:h,top:c,right:f+d,bottom:c+h,left:f}}else return t}function qE(n){const e=tq(n);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function GE(n){const e=n.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function nq(n){return{x:(n.left+n.right)/2,y:(n.top+n.bottom)/2}}function rq(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function KE(n,e){return n.y<=e.bottom&&n.y>=e.top&&n.x>=e.left&&n.x<=e.right}function Xa(n){return nq(GE(n))}function A0(n,e){const t=Xa(n),r=qE(e);return KE(t,r)}function iq(n,e){const t=Xa(n),r=Xa(e);return rq(t,r)}function lee(n){const e=GE(n);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}let eo;function sq(){eo=new Map}sq();function oq(n){const e=Array.from(n.children).findIndex(t=>t.getAttribute(xW));if(e>=0)return eo.has(n)||eo.set(n,new Map),eo.get(n).set(e,qE(n.children[e])),e}function aee(n,e){if(!A0(n,e))return null;const t=e.children;if(t.length===0)return{index:0,isProximityBased:!0};const r=oq(e);for(let o=0;o<t.length;o++)if(A0(n,t[o])){const l=eo.has(e)&&eo.get(e).get(o);return l&&!KE(Xa(n),l)?{index:r,isProximityBased:!1}:{index:o,isProximityBased:!1}}let i=Number.MAX_VALUE,s;for(let o=0;o<t.length;o++){const l=iq(n,t[o]);l<i&&(i=l,s=o)}return{index:s,isProximityBased:!0}}const Md=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),lq={[Md.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function uee(n){if(!Md[n])throw new Error(`Can't get non existing feature flag ${n}! Supported flags: ${Object.keys(Md)}`);return lq[n]}function sn(n){this.content=n}sn.prototype={constructor:sn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new sn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new sn(t)},addToStart:function(n,e){return new sn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new sn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new sn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=sn.from(n),n.size?new sn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=sn.from(n),n.size?new sn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=sn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};sn.from=function(n){if(n instanceof sn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new sn(e)};function JE(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=JE(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function YE(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){t-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:t,b:r};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,t--,r--;return{a:t,b:r}}if(o.content.size||l.content.size){let u=YE(o.content,l.content,t-1,r-1);if(u)return u}t-=a,r-=a}}class ye{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,l=0;l<t;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let f=l+1;a.nodesBetween(Math.max(0,e-f),Math.min(a.content.size,t-f),r,i+f)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,t-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ye(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),r.push(l),i+=l.nodeSize),o=a}return new ye(r,i)}cutByIndex(e,t){return e==t?ye.empty:e==0&&t==this.content.length?this:new ye(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ye(i,s)}addToStart(e){return new ye([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ye(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return JE(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return YE(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ca(0,e);if(e==this.size)return ca(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?ca(r+1,o):ca(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ye.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ye(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ye.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ye(t||e,r)}static from(e){if(!e)return ye.empty;if(e instanceof ye)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ye([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ye.empty=new ye([],0);const Rc={index:0,offset:0};function ca(n,e){return Rc.index=n,Rc.offset=e,Rc}function Za(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Za(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Za(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let At=class Pd{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Za(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);return r.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Pd.none;if(e instanceof Pd)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};At.none=[];class Qa extends Error{}class Be{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=ZE(this.content,e+this.openStart,t);return r&&new Be(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Be(XE(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Be.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Be(ye.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new Be(e,r,i)}}Be.empty=new Be(ye.empty,0,0);function XE(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:l}=n.findIndex(t);if(i==e||s.isText){if(l!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(XE(s.content,e-i-1,t-i-1)))}function ZE(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let l=ZE(o.content,e-s-1,t);return l&&n.replaceChild(i,o.copy(l))}function aq(n,e,t){if(t.openStart>n.depth)throw new Qa("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Qa("Inconsistent open depths");return QE(n,e,t,0)}function QE(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=QE(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,l=o.content;return bs(o,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=uq(t,n);return bs(s,e2(n,o,l,e,r))}else return bs(s,xa(n,e,r))}function xE(n,e){if(!e.type.compatibleContent(n.type))throw new Qa("Cannot join "+e.type.name+" onto "+n.type.name)}function Nd(n,e,t){let r=n.node(t);return xE(r,e.node(t)),r}function vs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Zo(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(vs(n.nodeAfter,r),s++));for(let l=s;l<o;l++)vs(i.child(l),r);e&&e.depth==t&&e.textOffset&&vs(e.nodeBefore,r)}function bs(n,e){return n.type.checkContent(e),n.copy(e)}function e2(n,e,t,r,i){let s=n.depth>i&&Nd(n,e,i+1),o=r.depth>i&&Nd(t,r,i+1),l=[];return Zo(null,n,i,l),s&&o&&e.index(i)==t.index(i)?(xE(s,o),vs(bs(s,e2(n,e,t,r,i+1)),l)):(s&&vs(bs(s,xa(n,e,i+1)),l),Zo(e,t,i,l),o&&vs(bs(o,xa(t,r,i+1)),l)),Zo(r,null,i,l),new ye(l)}function xa(n,e,t){let r=[];if(Zo(null,n,t,r),n.depth>t){let i=Nd(n,e,t+1);vs(bs(i,xa(n,e,t+1)),r)}return Zo(e,null,t,r),new ye(r)}function uq(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ye.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class _l{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return At.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new eu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),u=s-a;if(r.push(o,l,i+a),!u||(o=o.child(l),o.isText))break;s=u-1,i+=a+1}return new _l(t,r,s)}static resolveCached(e,t){for(let i=0;i<Ic.length;i++){let s=Ic[i];if(s.pos==t&&s.doc==e)return s}let r=Ic[$c]=_l.resolve(e,t);return $c=($c+1)%fq,r}}let Ic=[],$c=0,fq=12;class eu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const cq=Object.create(null);let li=class Dd{constructor(e,t,r,i=At.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ye.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Za(this.attrs,t||e.defaultAttrs||cq)&&At.sameSet(this.marks,r||At.none)}copy(e=null){return e==this.content?this:new Dd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Dd(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Be.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new Be(u,i.depth-o,s.depth-o)}replace(e,t,r){return aq(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return _l.resolveCached(this,e)}resolveNoCache(e){return _l.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),t2(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ye.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=At.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!At.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ye.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)}};li.prototype.text=void 0;class tu extends li{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):t2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function t2(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ms{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new dq(e,t);if(r.next==null)return Ms.empty;let i=n2(r);r.next&&r.err("Unexpected trailing text");let s=bq(vq(i));return yq(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!t||a.validEnd))return ye.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:c}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(c)==-1){i.push(c);let d=s(c,l.concat(f));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Ms.empty=new Ms(!0);class dq{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function n2(n){let e=[];do e.push(hq(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function hq(n){let e=[];do e.push(pq(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function pq(n){let e=_q(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=mq(n,e);else break;return e}function O0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function mq(n,e){let t=O0(n),r=t;return n.eat(",")&&(n.next!="}"?r=O0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function gq(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function _q(n){if(n.eat("(")){let e=n2(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=gq(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vq(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(s(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=s(o.exprs[a],l);if(a==o.exprs.length-1)return u;i(u,l=t())}else if(o.type=="star"){let a=t();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=t();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let f=t();i(s(o.expr,a),f),a=f}if(o.max==-1)i(s(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let f=t();r(a,f),i(s(o.expr,a),f),a=f}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function r2(n,e){return e-n}function C0(n,e){let t=[];return r(e),t.sort(r2);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&t.indexOf(a)==-1&&r(a)}}}function bq(n){let e=Object.create(null);return t(C0(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let f=0;f<i.length;f++)i[f][0]==l&&(u=i[f][1]);C0(n,a).forEach(f=>{u||i.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[r.join(",")]=new Ms(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(r2);s.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return s}}function yq(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function i2(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function s2(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function o2(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new kq(n[t]);return e}let M0=class l2{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=o2(r.attrs),this.defaultAttrs=i2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ms.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:s2(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new li(this,this.computeAttrs(e),ye.from(t),At.setFrom(r))}createChecked(e=null,t,r){return t=ye.from(t),this.checkContent(t),new li(this,this.computeAttrs(e),t,At.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ye.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ye.empty,!0);return s?new li(this,e,t.append(s),At.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:At.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new l2(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class kq{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Pf{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=o2(i.attrs),this.excluded=null;let s=i2(this.attrs);this.instance=s?new At(this,s):null}create(e=null){return!e&&this.instance?this.instance:new At(this,s2(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Pf(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class wq{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=sn.from(e.nodes),t.marks=sn.from(e.marks||{}),this.nodes=M0.compile(this.spec.nodes,this),this.marks=Pf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;s.contentMatch=r[o]||(r[o]=Ms.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=l=="_"?null:l?P0(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:P0(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof M0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new tu(r,r.defaultAttrs,e,At.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return li.fromJSON(this,e)}markFromJSON(e){return At.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function P0(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let l in n.marks){let a=n.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}class Ps{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let r=new D0(this,t,!1);return r.addAll(e,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new D0(this,t,!0);return r.addAll(e,t.from,t.to),Be.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Tq(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=R0(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=R0(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ps(e,Ps.schemaRules(e)))}}const a2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Eq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},u2={ol:!0,ul:!0},nu=1,ru=2,Qo=4;function N0(n,e,t){return e!=null?(e?nu:0)|(e==="full"?ru:0):n&&n.whitespace=="pre"?nu|ru:t&~Qo}class da{constructor(e,t,r,i,s,o,l){this.type=e,this.attrs=t,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=At.none,this.stashMarks=[],this.match=o||(l&Qo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ye.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ye.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ye.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,r=this.pendingMarks;t<r.length;t++){let i=r[t];(this.type?this.type.allowsMarkType(i.type):Oq(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!a2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class D0{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,s,o=N0(null,t.preserveWhitespace,0)|(r?Qo:0);i?s=new da(i.type,i.attrs,At.none,At.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new da(null,null,At.none,At.none,!0,null,o):s=new da(e.schema.topNodeType,null,At.none,At.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,t){let r=e.getAttribute("style");if(!r)return t();let i=this.readStyles(Aq(r));if(!i)return;let[s,o]=i,l=this.top;for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a]);t();for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a])}addTextNode(e){let t=e.nodeValue,r=this.top;if(r.options&ru||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(r.options&nu)r.options&ru?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let r=e.nodeName.toLowerCase(),i;u2.hasOwnProperty(r)&&this.parser.normalizeLists&&Sq(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(s?s.ignore:Eq.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,l=this.top,a=this.needsBlock;if(a2.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}s&&s.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,s,s.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=At.none,r=At.none;for(let i=0;i<e.length;i+=2)for(let s=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,s);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{o.clearMark(l)&&(r=l.addToSet(r))}):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)s=o;else break}return[t,r]}addElementByRule(e,t,r){let i,s,o;t.node?(s=this.parser.schema.nodes[t.node],s.isLeaf?this.insertNode(s.create(t.attrs))||this.leafFallback(e):i=this.enter(s,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof t.contentElement=="string"?a=e.querySelector(t.contentElement):typeof t.contentElement=="function"?a=t.contentElement(e):t.contentElement&&(a=t.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,t,r){let i=t||0;for(let s=t?e.childNodes[t]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let t,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,r=s,!o.length)||s.solid)break}if(!t)return!1;this.sync(r);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let r=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,r){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,r),i}enterInner(e,t=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=N0(e,i,s.options);s.options&Qo&&s.content.length==0&&(o|=Qo),this.nodes.push(new da(e,t,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let u=t[l];if(u==""){if(l==t.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let f=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!f||f.name!=u&&f.groups.indexOf(u)==-1)return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let t=Cq(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==t)break}}}function Sq(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&u2.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Tq(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Aq(n){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,r=[];for(;t=e.exec(n);)r.push(t[1],t[2].trim());return r}function R0(n){let e={};for(let t in n)e[t]=n[t];return e}function Oq(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:f}=l.edge(a);if(u==e||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}function Cq(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class Lr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Lc(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],f=this.serializeMark(u,o.isInline,t);f&&(s.push([u,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Lr.renderSpec(Lc(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Lr.renderSpec(Lc(r),i(e,t))}static renderSpec(e,t,r=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,l=r?e.createElementNS(r,i):e.createElement(i),a=t[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let f in a)if(a[f]!=null){let c=f.indexOf(" ");c>0?l.setAttributeNS(f.slice(0,c),f.slice(c+1),a[f]):l.setAttribute(f,a[f])}}for(let f=u;f<t.length;f++){let c=t[f];if(c===0){if(f<t.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:h}=Lr.renderSpec(e,c,r);if(l.appendChild(d),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Lr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=I0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return I0(e.marks)}}function I0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Lc(n){return n.document||window.document}const f2=65535,c2=Math.pow(2,16);function Mq(n,e){return n+e*c2}function $0(n){return n&f2}function Pq(n){return(n-(n&f2))/c2}const d2=1,h2=2,Aa=4,p2=8;class Rd{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&p2)>0}get deletedBefore(){return(this.delInfo&(d2|Aa))>0}get deletedAfter(){return(this.delInfo&(h2|Aa))>0}get deletedAcross(){return(this.delInfo&Aa)>0}}class Fn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Fn.empty)return Fn.empty}recover(e){let t=0,r=$0(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Pq(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+s],f=this.ranges[l+o],c=a+u;if(e<=c){let d=u?e==a?-1:e==c?1:t:t,h=a+i+(d<0?0:f);if(r)return h;let p=e==(t<0?a:c)?null:Mq(l/3,e-a),g=e==a?h2:e==c?d2:Aa;return(t<0?e!=a:e!=c)&&(g|=p2),new Rd(h,g,p)}i+=f-u}return r?e+i:new Rd(e+i,0,null)}touches(e,t){let r=0,i=$0(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],f=a+u;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),u=this.ranges[i+t],f=this.ranges[i+r];e(l,l+u,a,a+f),s+=f-u}}invert(){return new Fn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Fn.empty:new Fn(e<0?[0,-e,0]:[0,0,e])}}Fn.empty=new Fn([]);class to{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new to(this.maps,this.mirror,e,t)}copy(){return new to(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new to;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,t);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Rd(e,i,null)}}const zc=Object.create(null);class _n{getMap(){return Fn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=zc[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in zc)throw new RangeError("Duplicate use of step JSON ID "+e);return zc[e]=t,t.prototype.jsonID=e,t}}class Gt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Gt(e,null)}static fail(e){return new Gt(null,e)}static fromReplace(e,t,r,i){try{return Gt.ok(e.replace(t,r,i))}catch(s){if(s instanceof Qa)return Gt.fail(s.message);throw s}}}function Cp(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Cp(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ye.fromArray(r)}class Mi extends _n{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Be(Cp(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Gt.fromReplace(e,this.from,this.to,s)}invert(){return new zr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Mi(t.pos,r.pos,this.mark)}merge(e){return e instanceof Mi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Mi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Mi(t.from,t.to,e.markFromJSON(t.mark))}}_n.jsonID("addMark",Mi);class zr extends _n{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Be(Cp(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Gt.fromReplace(e,this.from,this.to,r)}invert(){return new Mi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new zr(t.pos,r.pos,this.mark)}merge(e){return e instanceof zr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zr(t.from,t.to,e.markFromJSON(t.mark))}}_n.jsonID("removeMark",zr);class Pi extends _n{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Gt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Gt.fromReplace(e,this.pos,this.pos+1,new Be(ye.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Pi(this.pos,t.marks[i]);return new Pi(this.pos,this.mark)}}return new oo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pi(t.pos,e.markFromJSON(t.mark))}}_n.jsonID("addNodeMark",Pi);class oo extends _n{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Gt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Gt.fromReplace(e,this.pos,this.pos+1,new Be(ye.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Pi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new oo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new oo(t.pos,e.markFromJSON(t.mark))}}_n.jsonID("removeNodeMark",oo);class Qt extends _n{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Id(e,this.from,this.to)?Gt.fail("Structure replace would overwrite content"):Gt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Fn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Qt(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Be.empty:new Be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Be.empty:new Be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qt(t.from,t.to,Be.fromJSON(e,t.slice),!!t.structure)}}_n.jsonID("replace",Qt);class en extends _n{constructor(e,t,r,i,s,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Id(e,this.from,this.gapFrom)||Id(e,this.gapTo,this.to)))return Gt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Gt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Gt.fromReplace(e,this.from,this.to,r):Gt.fail("Content does not fit in gap")}getMap(){return new Fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new en(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new en(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new en(t.from,t.to,t.gapFrom,t.gapTo,Be.fromJSON(e,t.slice),t.insert,!!t.structure)}}_n.jsonID("replaceAround",en);function Id(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Nq(n,e,t,r){let i=[],s=[],o,l;n.doc.nodesBetween(e,t,(a,u,f)=>{if(!a.isInline)return;let c=a.marks;if(!r.isInSet(c)&&f.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+a.nodeSize,t),p=r.addToSet(c);for(let g=0;g<c.length;g++)c[g].isInSet(p)||(o&&o.to==d&&o.mark.eq(c[g])?o.to=h:i.push(o=new zr(d,h,c[g])));l&&l.to==d?l.to=h:s.push(l=new Mi(d,h,r))}}),i.forEach(a=>n.step(a)),s.forEach(a=>n.step(a))}function Dq(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof Pf){let u=o.marks,f;for(;f=r.isInSet(u);)(a||(a=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,t);for(let f=0;f<a.length;f++){let c=a[f],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&c.eq(i[h].style)&&(d=p)}d?(d.to=u,d.step=s):i.push({style:c,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>n.step(new zr(o.from,o.to,o.style)))}function Rq(n,e,t,r=t.contentMatch){let i=n.doc.nodeAt(e),s=[],o=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=o+a.nodeSize,f=r.matchType(a.type);if(!f)s.push(new Qt(o,u,Be.empty));else{r=f;for(let c=0;c<a.marks.length;c++)t.allowsMarkType(a.marks[c].type)||n.step(new zr(o,u,a.marks[c]));if(a.isText&&!t.spec.code){let c,d=/\r?\n|\r/g,h;for(;c=d.exec(a.text);)h||(h=new Be(ye.from(t.schema.text(" ",t.allowedMarks(a.marks))),0,0)),s.push(new Qt(o+c.index,o+c.index+c[0].length,h))}}o=u}if(!r.validEnd){let l=r.fillBefore(ye.empty,!0);n.replace(o,o,new Be(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function Iq(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function No(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Iq(i,s,o))break}return null}function $q(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,u=l,f=ye.empty,c=0;for(let p=s,g=!1;p>t;p--)g||r.index(p)>0?(g=!0,f=ye.from(r.node(p).copy(f)),c++):a--;let d=ye.empty,h=0;for(let p=s,g=!1;p>t;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=ye.from(i.node(p).copy(d)),h++):u++;n.step(new en(a,u,o,l,new Be(f.append(d),c,h),f.size-c,!0))}function Mp(n,e,t=null,r=n){let i=Lq(n,e),s=i&&zq(r,e);return s?i.map(L0).concat({type:e,attrs:t}).concat(s.map(L0)):null}function L0(n){return{type:n,attrs:null}}function Lq(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function zq(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(t.child(u).type);return!a||!a.validEnd?null:o}function Bq(n,e,t){let r=ye.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let l=t[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ye.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new en(i,s,i,s,new Be(r,0,0),t.length,!0))}function Fq(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,l)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&jq(n.doc,n.mapping.slice(s).map(l),r)){n.clearIncompatible(n.mapping.slice(s).map(l,1),r);let a=n.mapping.slice(s),u=a.map(l,1),f=a.map(l+o.nodeSize,1);return n.step(new en(u,f,u+1,f-1,new Be(ye.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function jq(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Vq(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new en(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Be(ye.from(o),0,0),1,!0))}function no(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,f=t-2;u>s;u--,f--){let c=i.node(u),d=i.index(u);if(c.type.spec.isolating)return!1;let h=c.content.cutByIndex(d,c.childCount),p=r&&r[f+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[f]||c;if(!c.canReplace(d+1,c.childCount)||!g.type.validContent(h))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function Hq(n,e,t=1,r){let i=n.doc.resolve(e),s=ye.empty,o=ye.empty;for(let l=i.depth,a=i.depth-t,u=t-1;l>a;l--,u--){s=ye.from(i.node(l).copy(s));let f=r&&r[u];o=ye.from(f?f.type.create(f.attrs,o):i.node(l).copy(o))}n.step(new Qt(e,e,new Be(s.append(o),t,t),!0))}function ts(n,e){let t=n.resolve(e),r=t.index();return m2(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function m2(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function Nf(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&m2(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Uq(n,e,t){let r=new Qt(e-t,e+t,Be.empty,!0);n.step(r)}function Wq(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function g2(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),f=!1;if(s==1)f=u.canReplace(a,a,i);else{let c=u.contentMatchAt(a).findWrapping(i.firstChild.type);f=c&&u.canReplaceWith(a,a,c[0])}if(f)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Df(n,e,t=e,r=Be.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return _2(i,s,r)?new Qt(e,t,r):new qq(i,s,r).fit()}function _2(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class qq{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ye.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ye.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new Be(s,o,l);return e>-1?new en(r.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||r.pos!=this.$to.pos?new Qt(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Bc(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],f,c=null;if(t==1&&(o?u.matchType(o.type)||(c=u.fillBefore(ye.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:c};if(t==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Bc(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Be(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Bc(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new Be(qo(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Be(qo(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,f=[],{match:c,type:d}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)f.push(i.child(g));c=c.matchFragment(i)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let g=l.child(u),_=c.matchType(g.type);if(!_)break;u++,(u>1||a==0||g.content.size)&&(c=_,f.push(v2(g.mark(d.allowedMarks(g.marks)),u==1?a:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=Go(this.placed,t,ye.from(f)),this.frontier[t].match=c,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,_=l;g<h;g++){let b=_.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),_=b.content}this.unplaced=p?e==0?Be.empty:new Be(qo(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new Be(qo(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Fc(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Fc(e,t,i,r,s);if(o){for(let l=t-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],f=Fc(e,l,u,a,!0);if(!f||f.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Go(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Go(this.placed,this.depth,ye.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ye.empty,!0);t.childCount&&(this.placed=Go(this.placed,this.frontier.length,t))}}function qo(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(qo(n.firstChild.content,e-1,t)))}function Go(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Go(n.lastChild.content,e-1,t)))}function Bc(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function v2(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,v2(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ye.empty,!0)))),n.copy(r)}function Fc(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!Gq(t,s.content,o)?l:null}function Gq(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Kq(n){return n.spec.defining||n.spec.definingForContent}function Jq(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(_2(i,s,r))return n.step(new Qt(e,t,r));let o=y2(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?l=d:i.before(d)==h&&o.splice(1,0,-d)}let a=o.indexOf(l),u=[],f=r.openStart;for(let d=r.content,h=0;;h++){let p=d.firstChild;if(u.push(p),h==r.openStart)break;d=p.content}for(let d=f-1;d>=0;d--){let h=u[d],p=Kq(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(l)-1)))f=d;else if(p||!h.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+f+1)%(r.openStart+1),p=u[h];if(p)for(let g=0;g<o.length;g++){let _=o[(g+a)%o.length],b=!0;_<0&&(b=!1,_=-_);let v=i.node(_-1),E=i.index(_-1);if(v.canReplaceWith(E,E,p.type,p.marks))return n.replace(i.before(_),b?s.after(_):t,new Be(b2(r.content,0,r.openStart,h),h,r.openEnd))}}let c=n.steps.length;for(let d=o.length-1;d>=0&&(n.replace(e,t,r),!(n.steps.length>c));d--){let h=o[d];h<0||(e=i.before(h),t=s.after(h))}}function b2(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(b2(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(ye.empty,!0))}return n}function Yq(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Wq(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Be(ye.from(r),0,0))}function Xq(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=y2(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o)return n.delete(r.before(o),t);n.delete(e,t)}function y2(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class ro extends _n{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Gt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Gt.fromReplace(e,this.pos,this.pos+1,new Be(ye.from(i),0,t.isLeaf?0:1))}getMap(){return Fn.empty}invert(e){return new ro(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ro(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ro(t.pos,t.attr,t.value)}}_n.jsonID("attr",ro);class vl extends _n{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Gt.ok(r)}getMap(){return Fn.empty}invert(e){return new vl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new vl(t.attr,t.value)}}_n.jsonID("docAttr",vl);let lo=class extends Error{};lo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};lo.prototype=Object.create(Error.prototype);lo.prototype.constructor=lo;lo.prototype.name="TransformError";class k2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new to}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new lo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Be.empty){let i=Df(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Be(ye.from(r),0,0))}delete(e,t){return this.replace(e,t,Be.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Jq(this,e,t,r),this}replaceRangeWith(e,t,r){return Yq(this,e,t,r),this}deleteRange(e,t){return Xq(this,e,t),this}lift(e,t){return $q(this,e,t),this}join(e,t=1){return Uq(this,e,t),this}wrap(e,t){return Bq(this,e,t),this}setBlockType(e,t=e,r,i=null){return Fq(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Vq(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new ro(e,t,r)),this}setDocAttribute(e,t){return this.step(new vl(e,t)),this}addNodeMark(e,t){return this.step(new Pi(e,t)),this}removeNodeMark(e,t){if(!(t instanceof At)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new oo(e,t)),this}split(e,t=1,r){return Hq(this,e,t,r),this}addMark(e,t,r){return Nq(this,e,t,r),this}removeMark(e,t,r){return Dq(this,e,t,r),this}clearIncompatible(e,t,r){return Rq(this,e,t,r),this}}const jc=Object.create(null);class ht{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new Zq(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Be.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],f=e.mapping.slice(s);e.replaceRange(f.map(a.pos),f.map(u.pos),l?Be.empty:t),l==0&&F0(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),u=a.map(o.pos),f=a.map(l.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,t),F0(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new st(e):Gs(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Gs(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Gs(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Sr(e.node(0))}static atStart(e){return Gs(e,e,0,0,1)||new Sr(e)}static atEnd(e){return Gs(e,e,e.content.size,e.childCount,-1)||new Sr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=jc[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in jc)throw new RangeError("Duplicate use of selection JSON ID "+e);return jc[e]=t,t.prototype.jsonID=e,t}getBookmark(){return st.between(this.$anchor,this.$head).getBookmark()}}ht.prototype.visible=!0;class Zq{constructor(e,t){this.$from=e,this.$to=t}}let z0=!1;function B0(n){!z0&&!n.parent.inlineContent&&(z0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class st extends ht{constructor(e,t=e){B0(e),B0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ht.near(r);let i=e.resolve(t.map(this.anchor));return new st(i.parent.inlineContent?i:r,r)}replace(e,t=Be.empty){if(super.replace(e,t),t==Be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof st&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new st(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=ht.findFrom(t,r,!0)||ht.findFrom(t,-r,!0);if(s)t=s.$head;else return ht.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(ht.findFrom(e,-r,!0)||ht.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new st(e,t)}}ht.jsonID("text",st);class Rf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Rf(e.map(this.anchor),e.map(this.head))}resolve(e){return st.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ke extends ht{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?ht.near(s):new Ke(s)}content(){return new Be(ye.from(this.node),0,0)}eq(e){return e instanceof Ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Pp(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(e.resolve(t.anchor))}static create(e,t){return new Ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ke.prototype.visible=!1;ht.jsonID("node",Ke);class Pp{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Rf(r,r):new Pp(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ke.isSelectable(r)?new Ke(t):ht.near(t)}}class Sr extends ht{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Be.empty){if(t==Be.empty){e.delete(0,e.doc.content.size);let r=ht.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Sr(e)}map(e){return new Sr(e)}eq(e){return e instanceof Sr}getBookmark(){return Qq}}ht.jsonID("all",Sr);const Qq={map(){return this},resolve(n){return new Sr(n)}};function Gs(n,e,t,r,i,s=!1){if(e.inlineContent)return st.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&Ke.isSelectable(l))return Ke.create(n,t-(i<0?l.nodeSize:0))}else{let a=Gs(n,l,t+i,i<0?l.childCount:0,i,s);if(a)return a}t+=l.nodeSize*i}return null}function F0(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Qt||i instanceof en))return;let s=n.mapping.maps[r],o;s.forEach((l,a,u,f)=>{o==null&&(o=f)}),n.setSelection(ht.near(n.doc.resolve(o),t))}const j0=1,ha=2,V0=4;class xq extends k2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|j0)&~ha,this.storedMarks=null,this}get selectionSet(){return(this.updated&j0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ha,this}ensureMarks(e){return At.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ha)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ha,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(ht.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=V0,this}get scrolledIntoView(){return(this.updated&V0)>0}}function H0(n,e){return!e||!n?n:n.bind(e)}class Ko{constructor(e,t,r){this.name=e,this.init=H0(t.init,r),this.apply=H0(t.apply,r)}}const eG=[new Ko("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ko("selection",{init(n,e){return n.selection||ht.atStart(e.doc)},apply(n){return n.selection}}),new Ko("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ko("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Vc{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=eG.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ko(r.key,r.spec.state,r))})}}class Xs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,u=i?i[o].state:this,f=a<t.length&&l.spec.appendTransaction.call(l,a?t.slice(a):t,u,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let c=0;c<this.config.plugins.length;c++)i.push(c<o?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Xs(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new xq(this)}static create(e){let t=new Vc(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Xs(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Vc(this.schema,e.plugins),r=t.fields,i=new Xs(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Vc(e.schema,e.plugins),s=new Xs(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=li.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=ht.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){s[o.name]=u.fromJSON.call(a,e,t[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function w2(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=w2(i,e,{})),t[r]=i}return t}class cn{constructor(e){this.spec=e,this.props={},e.props&&w2(e.props,this,this.props),this.key=e.key?e.key.key:E2("plugin")}getState(e){return e[this.key]}}const Hc=Object.create(null);function E2(n){return n in Hc?n+"$"+ ++Hc[n]:(Hc[n]=0,n+"$")}class Jn{constructor(e="key"){this.key=E2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},bl=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let $d=null;const ri=function(n,e,t){let r=$d||($d=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},tG=function(){$d=null},Ns=function(n,e,t,r){return t&&(U0(n,e,t,r,-1)||U0(n,e,t,r,1))},nG=/^(img|br|input|textarea|hr)$/i;function U0(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ir(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Ul(n)||nG.test(n.nodeName)||n.contentEditable=="false")return!1;e=ln(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Ir(n):0}else return!1}}function Ir(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function rG(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ir(n)}else if(n.parentNode&&!Ul(n))e=ln(n),n=n.parentNode;else return null}}function iG(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Ul(n))e=ln(n)+1,n=n.parentNode;else return null}}function sG(n,e,t){for(let r=e==0,i=e==Ir(n);r||i;){if(n==t)return!0;let s=ln(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ir(n)}}function Ul(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const If=function(n){return n.focusNode&&Ns(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function hs(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function oG(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lG(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Hr=typeof navigator<"u"?navigator:null,W0=typeof document<"u"?document:null,ns=Hr&&Hr.userAgent||"",Ld=/Edge\/(\d+)/.exec(ns),S2=/MSIE \d/.exec(ns),zd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ns),Pn=!!(S2||zd||Ld),Di=S2?document.documentMode:zd?+zd[1]:Ld?+Ld[1]:0,Or=!Pn&&/gecko\/(\d+)/i.test(ns);Or&&+(/Firefox\/(\d+)/.exec(ns)||[0,0])[1];const Bd=!Pn&&/Chrome\/(\d+)/.exec(ns),yn=!!Bd,aG=Bd?+Bd[1]:0,wn=!Pn&&!!Hr&&/Apple Computer/.test(Hr.vendor),ao=wn&&(/Mobile\/\w+/.test(ns)||!!Hr&&Hr.maxTouchPoints>2),er=ao||(Hr?/Mac/.test(Hr.platform):!1),uG=Hr?/Win/.test(Hr.platform):!1,br=/Android \d/.test(ns),Wl=!!W0&&"webkitFontSmoothing"in W0.documentElement.style,fG=Wl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cG(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ti(n,e){return typeof n=="number"?n:n[e]}function dG(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function q0(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;o=bl(o)){if(o.nodeType!=1)continue;let l=o,a=l==s.body,u=a?cG(s):dG(l),f=0,c=0;if(e.top<u.top+ti(r,"top")?c=-(u.top-e.top+ti(i,"top")):e.bottom>u.bottom-ti(r,"bottom")&&(c=e.bottom-e.top>u.bottom-u.top?e.top+ti(i,"top")-u.top:e.bottom-u.bottom+ti(i,"bottom")),e.left<u.left+ti(r,"left")?f=-(u.left-e.left+ti(i,"left")):e.right>u.right-ti(r,"right")&&(f=e.right-u.right+ti(i,"right")),f||c)if(a)s.defaultView.scrollBy(f,c);else{let d=l.scrollLeft,h=l.scrollTop;c&&(l.scrollTop+=c),f&&(l.scrollLeft+=f);let p=l.scrollLeft-d,g=l.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function hG(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=n.root.elementFromPoint(s,o);if(!l||l==n.dom||!n.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=t-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:T2(n.dom)}}function T2(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=bl(r));return e}function pG({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;A2(t,r==0?0:r-e)}function A2(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Hs=null;function mG(n){if(n.setActive)return n.setActive();if(Hs)return n.focus(Hs);let e=T2(n);n.focus(Hs==null?{get preventScroll(){return Hs={preventScroll:!0},!0}}:void 0),Hs||(Hs=!1,A2(e,0))}function O2(n,e){let t,r=2e8,i,s=0,o=e.top,l=e.top,a,u;for(let f=n.firstChild,c=0;f;f=f.nextSibling,c++){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=ri(f).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=o&&p.bottom>=l){o=Math.max(p.bottom,o),l=Math.min(p.top,l);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){t=f,r=g,i=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,f.nodeType==1&&g&&(s=c+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=f,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=c+1)}}return!t&&a&&(t=a,i=u,r=0),t&&t.nodeType==3?gG(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:O2(t,i)}function gG(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=ki(r,1);if(s.top!=s.bottom&&Np(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Np(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function _G(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function vG(n,e,t){let{node:r,offset:i}=O2(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function bG(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let l=n.docView.nearestDesc(s,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!o||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!o&&(o=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}s=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function C2(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Np(e,u))return C2(o,e,u)}}if((s=(s+1)%r)==i)break}return n}function yG(n,e){let t=n.dom.ownerDocument,r,i=0,s=lG(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=n.dom.getBoundingClientRect();if(!Np(e,u)||(o=C2(n.dom,e,u),!o))return null}if(wn)for(let u=o;r&&u;u=bl(u))u.draggable&&(r=void 0);if(o=_G(o,e),r){if(Or&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],c;f.nodeName=="IMG"&&(c=f.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}let u;Wl&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=bG(n,r,i,e))}l==null&&(l=vG(n,o,e));let a=n.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function G0(n){return n.top<n.bottom||n.left<n.right}function ki(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(G0(r))return r}return Array.prototype.find.call(t,G0)||n.getBoundingClientRect()}const kG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M2(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=Wl||Or;if(r.nodeType==3)if(o&&(kG.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let a=ki(ri(r,i,i),t);if(Or&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=ki(ri(r,i-1,i-1),-1);if(u.top==a.top){let f=ki(ri(r,i,i+1),-1);if(f.top!=a.top)return Fo(f,f.left<u.left)}}return a}else{let a=i,u=i,f=t<0?1:-1;return t<0&&!i?(u++,f=-1):t>=0&&i==r.nodeValue.length?(a--,f=1):t<0?a--:u++,Fo(ki(ri(r,a,u),f),f<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ir(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Uc(a.getBoundingClientRect(),!1)}if(s==null&&i<Ir(r)){let a=r.childNodes[i];if(a.nodeType==1)return Uc(a.getBoundingClientRect(),!0)}return Uc(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ir(r))){let a=r.childNodes[i-1],u=a.nodeType==3?ri(a,Ir(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Fo(ki(u,1),!1)}if(s==null&&i<Ir(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?ri(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return Fo(ki(u,-1),!0)}return Fo(ki(r.nodeType==3?ri(r):r,-t),t>=0)}function Fo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Uc(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function P2(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function wG(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return P2(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=M2(n,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=ri(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let f=a[u];if(f.bottom>f.top+1&&(t=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const EG=/[\u0590-\u08ac]/;function SG(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=n.domSelection();return!EG.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?s:o:P2(n,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:f,anchorOffset:c}=n.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",t,"character");let h=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:p,focusOffset:g}=n.domSelectionRange(),_=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==g;try{l.collapse(f,c),a&&(a!=f||u!=c)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),_})}let K0=null,J0=null,Y0=!1;function TG(n,e,t){return K0==e&&J0==t?Y0:(K0=e,J0=t,Y0=t=="up"||t=="down"?wG(n,e,t):SG(n,e,t))}const ar=0,X0=1,ps=2,Ur=3;class ql{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=ar,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof D2){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof N2&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?ln(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?ln(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(i==-1&&e<=u){let f=o+a.border;if(e>=f&&t<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,f);e=o;for(let c=l;c>0;c--){let d=this.children[c-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=ln(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||l==this.children.length-1)){t=u;for(let f=l+1;f<this.children.length;f++){let c=this.children[f];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){s=ln(c.dom);break}t+=c.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let d=0,h=0;d<this.children.length;d++){let p=this.children[d],g=h+p.size;if(s>h&&o<g)return p.setSelection(e-h-p.border,t-h-p.border,r,i);h=g}let l=this.domFromPos(e,e?-1:1),a=t==e?l:this.domFromPos(t,t?-1:1),u=r.getSelection(),f=!1;if((Or||wn)&&e==t){let{node:d,offset:h}=l;if(d.nodeType==3){if(f=!!(h&&d.nodeValue[h-1]==`
`),f&&h==d.nodeValue.length)for(let p=d,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:ln(g)+1});break}let _=p.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let p=d.childNodes[h-1];f=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Or&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||f&&wn)&&Ns(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Ns(a.node,a.offset,u.focusNode,u.focusOffset))return;let c=!1;if((u.extend||e==t)&&!f){u.collapse(l.node,l.offset);try{e!=t&&u.extend(a.node,a.offset),c=!0}catch{}}if(!c){if(e>t){let h=l;l=a,a=h}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let l=r+s.border,a=o-s.border;if(e>=l&&t<=a){this.dirty=e==r||t==o?ps:X0,e==l&&t==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ur:s.markDirty(e-l,t-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ps:Ur}r=o}this.dirty=ps}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?ps:X0;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class N2 extends ql{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==ar&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class AG extends ql{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ds extends ql{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=Lr.renderSpec(document,t.type.spec.toDOM(t,r))),new Ds(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ur&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ar){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ar}}slice(e,t,r){let i=Ds.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=Vd(s,t,o,r)),e>0&&(s=Vd(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}}class Ri extends ql{constructor(e,t,r,i,s,o,l,a,u){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,s,o){let l=s.nodeViews[t.type.name],a,u=l&&l(t,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),f=u&&u.dom,c=u&&u.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:c}=Lr.renderSpec(document,t.type.spec.toDOM(t)));!c&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let d=f;return f=$2(f,r,t),u?a=new OG(e,t,r,i,f,c||null,d,u,s,o+1):t.isText?new $f(e,t,r,i,f,d,s):new Ri(e,t,r,i,f,c||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ye.empty)}return e}matchesNode(e,t,r){return this.dirty==ar&&e.eq(this.node)&&jd(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new MG(this,o&&o.node,e);DG(this.node,this.innerDeco,(u,f,c)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!c&&a.syncToMarks(f==this.node.childCount?At.none:this.node.child(f).marks,r,e),a.placeWidget(u,e,i)},(u,f,c,d)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,f,c,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(u,f,c,h,e)||a.updateNextNode(u,f,c,e,d,i)||a.addNode(u,f,c,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==ps)&&(o&&this.protectLocalComposition(e,o),R2(this.contentDOM,this.children,e),ao&&RG(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof st)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=IG(this.node.content,o,r-t,i-t);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new AG(this,s,t,i);e.input.compositionNodes.push(o),this.children=Vd(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Ur||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ar}updateOuterDeco(e){if(jd(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=I2(this.dom,this.nodeDOM,Fd(this.outerDeco,this.node,t),Fd(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Z0(n,e,t,r,i){$2(r,e,n);let s=new Ri(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class $f extends Ri{constructor(e,t,r,i,s,o,l){super(e,t,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Ur||this.dirty!=ar&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ar||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ar,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new $f(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ur)}get domAtom(){return!1}isText(e){return this.node.text==e}}class D2 extends ql{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ar&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OG extends Ri{constructor(e,t,r,i,s,o,l,a,u,f){super(e,t,r,i,s,o,l,u,f),this.spec=a}update(e,t,r,i){if(this.dirty==Ur)return!1;if(this.spec.update){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function R2(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==n){for(;l!=r;)r=Q0(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(o instanceof Ds){let a=r?r.previousSibling:n.lastChild;R2(o.contentDOM,o.children,t),r=a?a.nextSibling:n.firstChild}}for(;r;)r=Q0(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const xo=function(n){n&&(this.nodeName=n)};xo.prototype=Object.create(null);const ms=[new xo];function Fd(n,e,t){if(n.length==0)return ms;let r=t?ms[0]:new xo,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new xo(o.nodeName));for(let l in o){let a=o[l];a!=null&&(t&&i.length==1&&i.push(r=new xo(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function I2(n,e,t,r){if(t==ms&&r==ms)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=t[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=n&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=ms[0]),i=a}CG(i,l||ms[0],o)}return i}function CG(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function $2(n,e,t){return I2(n,n,ms,Fd(e,t,n.nodeType!=1))}function jd(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Q0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class MG{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=PG(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ar,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Ds.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,t,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Ur&&o.dom==o.contentDOM&&(o.dirty=ps),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Ri){let u=this.preMatch.matched.get(a);if(u!=null&&u!=s)return!1;let f=a.dom,c,d=this.isLocked(f)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Ur&&jd(t,a.outerDeco));if(!d&&a.update(e,t,r,i))return this.destroyBetween(this.index,l),a.dom!=f&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(a,e,t,r,i,o)))return this.top.children[this.index]=c,c.contentDOM&&(c.dirty=ps,c.updateChildren(i,o+1),c.dirty=ar),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let l=Ri.create(this.top,t,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,t,r,i,s){let o=Ri.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new N2(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ds;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof $f)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wn||yn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new D2(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function PG(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=t.children[r-1];if(u instanceof Ds)t=u,r=u.children.length;else{l=u,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let a=l.node;if(a){if(a!=n.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function NG(n,e){return n.type.side-e.type.side}function DG(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let f=n.child(u);r(f,i,e.forChild(s,f),u),s+=f.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){let f,c;for(;o<i.length&&i[o].to==s;){let _=i[o++];_.widget&&(f?(c||(c=[f])).push(_):f=_)}if(f)if(c){c.sort(NG);for(let _=0;_<c.length;_++)t(c[_],u,!!a)}else t(f,u,!!a);let d,h;if(a)h=-1,d=a,a=null;else if(u<n.childCount)h=u,d=n.child(u++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let p=s+d.nodeSize;if(d.isText){let _=p;o<i.length&&i[o].from<_&&(_=i[o].from);for(let b=0;b<l.length;b++)l[b].to<_&&(_=l[b].to);_<p&&(a=d.cut(_-s),d=d.cut(0,_-s),p=_,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=d.isInline&&!d.isLeaf?l.filter(_=>!_.inline):l.slice();r(d,g,e.forChild(s,d),h),s=p}}function RG(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function IG(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<n.childCount;){let u=n.child(i++);if(s+=u.nodeSize,!u.isText)break;a+=u.text}if(s>=t){if(s>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=t)return l+u;if(t==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Vd(n,e,t,r,i){let s=[];for(let o=0,l=0;o<n.length;o++){let a=n[o],u=l,f=l+=a.size;u>=t||f<=e?s.push(a):(u<e&&s.push(a.slice(0,e-u,r)),i&&(s.push(i),i=void 0),f>t&&s.push(a.slice(t-u,a.size,r)))}return s}function Dp(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(If(t)){for(a=l;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Ke.isSelectable(f)&&i.parent&&!(f.isInline&&sG(t.focusNode,t.focusOffset,i.dom))){let c=i.posBefore;u=new Ke(o==c?l:r.resolve(c))}}else{let f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null;a=r.resolve(f)}if(!u){let f=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;u=Rp(n,a,l,f)}return u}function L2(n){return n.editable?n.hasFocus():B2(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ai(n,e=!1){let t=n.state.selection;if(z2(n,t),!!L2(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&yn){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ns(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)LG(n);else{let{anchor:r,head:i}=t,s,o;x0&&!(t instanceof st)&&(t.$from.parent.inlineContent||(s=eb(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=eb(n,t.to))),n.docView.setSelection(r,i,n.root,e),x0&&(s&&tb(s),o&&tb(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$G(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const x0=wn||yn&&aG<63;function eb(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(wn&&i&&i.contentEditable=="false")return Wc(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Wc(i);if(s)return Wc(s)}}function Wc(n){return n.contentEditable="true",wn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function tb(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function $G(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!L2(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function LG(n){let e=n.domSelection(),t=document.createRange(),r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setEnd(r.parentNode,ln(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Pn&&Di<=11&&(r.disabled=!0,r.disabled=!1)}function z2(n,e){if(e instanceof Ke){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(nb(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else nb(n)}function nb(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Rp(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||st.between(e,t,r)}function rb(n){return n.editable&&!n.hasFocus()?!1:B2(n)}function B2(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zG(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Ns(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Hd(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ht.findFrom(s,e)}function wi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function ib(n,e,t){let r=n.state.selection;if(r instanceof st)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return wi(n,new st(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Hd(n.state,e);return i&&i instanceof Ke?wi(n,i):!1}else if(!(er&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(l))&&!o.contentDOM?Ke.isSelectable(s)?wi(n,new Ke(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Wl?wi(n,new st(n.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ke&&r.node.isInline)return wi(n,new st(e>0?r.$to:r.$from));{let i=Hd(n.state,e);return i?wi(n,i):!1}}}function iu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function el(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Us(n,e){return e<0?BG(n):FG(n)}function BG(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Or&&t.nodeType==1&&r<iu(t)&&el(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(el(l,-1))i=t,s=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(F2(t))break;{let l=t.previousSibling;for(;l&&el(l,-1);)i=t.parentNode,s=ln(l),l=l.previousSibling;if(l)t=l,r=iu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?Ud(n,t,r):i&&Ud(n,i,s)}function FG(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=iu(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(el(l,1))s=t,o=++r;else break}else{if(F2(t))break;{let l=t.nextSibling;for(;l&&el(l,1);)s=l.parentNode,o=ln(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=iu(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&Ud(n,s,o)}function F2(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function jG(n,e){for(;n&&e==n.childNodes.length&&!Ul(n);)e=ln(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function VG(n,e){for(;n&&!e&&!Ul(n);)e=ln(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Ud(n,e,t){if(e.nodeType!=3){let s,o;(o=jG(e,t))?(e=o,t=0):(s=VG(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(If(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ai(n)},50)}function sb(n,e){let t=n.state.doc.resolve(e);if(!(yn||uG)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function ob(n,e,t){let r=n.state.selection;if(r instanceof st&&!r.empty||t.indexOf("s")>-1||er&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Hd(n.state,e);if(o&&o instanceof Ke)return wi(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof Sr?ht.near(o,e):ht.findFrom(o,e);return l?wi(n,l):!1}return!1}function lb(n,e){if(!(n.state.selection instanceof st))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function ab(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function HG(n){if(!wn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ab(n,r,"true"),setTimeout(()=>ab(n,r,"false"),20)}return!1}function UG(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function WG(n,e){let t=e.keyCode,r=UG(e);if(t==8||er&&t==72&&r=="c")return lb(n,-1)||Us(n,-1);if(t==46&&!e.shiftKey||er&&t==68&&r=="c")return lb(n,1)||Us(n,1);if(t==13||t==27)return!0;if(t==37||er&&t==66&&r=="c"){let i=t==37?sb(n,n.state.selection.from)=="ltr"?-1:1:-1;return ib(n,i,r)||Us(n,i)}else if(t==39||er&&t==70&&r=="c"){let i=t==39?sb(n,n.state.selection.from)=="ltr"?1:-1:1;return ib(n,i,r)||Us(n,i)}else{if(t==38||er&&t==80&&r=="c")return ob(n,-1,r)||Us(n,-1);if(t==40||er&&t==78&&r=="c")return HG(n)||ob(n,1,r)||Us(n,1);if(r==(er?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function j2(n,e){n.someProp("transformCopied",h=>{e=h(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=n.someProp("clipboardSerializer")||Lr.fromSchema(n.state.schema),l=G2(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,f,c=0;for(;u&&u.nodeType==1&&(f=q2[u.nodeName.toLowerCase()]);){for(let h=f.length-1;h>=0;h--){let p=l.createElement(f[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),c++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${c?` -${c}`:""} ${JSON.stringify(t)}`);let d=n.someProp("clipboardTextSerializer",h=>h(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function V2(n,e,t,r,i){let s=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let a=e&&(r||s||!t);if(a){if(n.someProp("transformPastedText",d=>{e=d(e,s||r,n)}),s)return e?new Be(ye.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Be.empty;let c=n.someProp("clipboardTextParser",d=>d(e,i,r,n));if(c)l=c;else{let d=i.marks(),{schema:h}=n.state,p=Lr.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let _=o.appendChild(document.createElement("p"));g&&_.appendChild(p.serializeNode(h.text(g,d)))})}}else n.someProp("transformPastedHTML",c=>{t=c(t,n)}),o=KG(t),Wl&&JG(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let c=+f[3];c>0;c--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||Ps.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||f),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!qG.test(d.parentNode.nodeName)?{ignore:!0}:null}})),f)l=YG(ub(l,+f[1],+f[2]),f[4]);else if(l=Be.maxOpen(GG(l.content,i),!0),l.openStart||l.openEnd){let c=0,d=0;for(let h=l.content.firstChild;c<l.openStart&&!h.type.spec.isolating;c++,h=h.firstChild);for(let h=l.content.lastChild;d<l.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);l=ub(l,c,d)}return n.someProp("transformPasted",c=>{l=c(l,n)}),l}const qG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GG(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&s.length&&U2(a,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=W2(o[o.length-1],s.length));let f=H2(l,a);o.push(f),i=i.matchType(f.type),s=a}}),o)return ye.from(o)}return n}function H2(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ye.from(n));return n}function U2(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=U2(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ye.from(H2(t,n,i+1))))}}function W2(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,W2(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ye.empty,!0);return n.copy(t.append(r))}function Wd(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,l=o.content;return n.childCount>1&&(s=0),i<r-1&&(l=Wd(l,e,t,r,i+1,s)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(ye.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(l))}function ub(n,e,t){return e<n.openStart&&(n=new Be(Wd(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Be(Wd(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const q2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fb=null;function G2(){return fb||(fb=document.implementation.createHTMLDocument("title"))}function KG(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=G2().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&q2[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=n,i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function JG(n){let e=n.querySelectorAll(yn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function YG(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let l=r.length-2;l>=0;l-=2){let a=t.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=ye.from(a.create(r[l+1],i)),s++,o++}return new Be(i,s,o)}const En={},Sn={},XG={touchstart:!0,touchmove:!0};class ZG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function QG(n){for(let e in En){let t=En[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{eK(n,r)&&!Ip(n,r)&&(n.editable||!(r.type in Sn))&&t(n,r)},XG[e]?{passive:!0}:void 0)}wn&&n.dom.addEventListener("input",()=>null),qd(n)}function Ni(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function xG(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function qd(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Ip(n,r))})}function Ip(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function eK(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function tK(n,e){!Ip(n,e)&&En[e.type]&&(n.editable||!(e.type in Sn))&&En[e.type](n,e)}Sn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!J2(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(br&&yn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ao&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,hs(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||WG(n,t)?t.preventDefault():Ni(n,"key")};Sn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Sn.keypress=(n,e)=>{let t=e;if(J2(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||er&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof st)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Lf(n){return{left:n.clientX,top:n.clientY}}function nK(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function $p(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,l=>o>s.depth?l(n,t,s.nodeAfter,s.before(o),i,!0):l(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function io(n,e,t){n.focused||n.focus();let r=n.state.tr.setSelection(e);t=="pointer"&&r.setMeta("pointer",!0),n.dispatch(r)}function rK(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ke.isSelectable(r)?(io(n,new Ke(t),"pointer"),!0):!1}function iK(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ke&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Ke.isSelectable(l)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(io(n,Ke.create(n.state.doc,i),"pointer"),!0):!1}function sK(n,e,t,r,i){return $p(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?iK(n,t):rK(n,t))}function oK(n,e,t,r){return $p(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function lK(n,e,t,r){return $p(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||aK(n,t,r)}function aK(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(io(n,st.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)io(n,st.create(r,l+1,l+1+o.content.size),"pointer");else if(Ke.isSelectable(o))io(n,Ke.create(r,l),"pointer");else continue;return!0}}function Lp(n){return su(n)}const K2=er?"metaKey":"ctrlKey";En.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Lp(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&nK(t,n.input.lastClick)&&!t[K2]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let o=n.posAtCoords(Lf(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new uK(n,o,t,!!r)):(s=="doubleClick"?oK:lK)(n,o.pos,o.inside,t)?t.preventDefault():Ni(n,"pointer"))};class uK{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[K2],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let f=e.state.doc.resolve(t.pos);s=f.parent,o=f.depth?f.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ke&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Or&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ni(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ai(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Lf(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ni(this.view,"pointer"):sK(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wn&&this.mightDrag&&!this.mightDrag.node.isAtom||yn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(io(this.view,ht.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ni(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ni(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}En.touchstart=n=>{n.input.lastTouch=Date.now(),Lp(n),Ni(n,"pointer")};En.touchmove=n=>{n.input.lastTouch=Date.now(),Ni(n,"pointer")};En.contextmenu=n=>Lp(n);function J2(n,e){return n.composing?!0:wn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const fK=br?5e3:-1;Sn.compositionstart=Sn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),su(n,!0),n.markCursor=null;else if(su(n),Or&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){n.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}Y2(n,fK)};Sn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Y2(n,20))};function Y2(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>su(n),e))}function X2(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=dK());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function cK(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=rG(e.focusNode,e.focusOffset),r=iG(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t}function dK(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function su(n,e=!1){if(!(br&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),X2(n),e||n.docView&&n.docView.dirty){let t=Dp(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function hK(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const yl=Pn&&Di<15||ao&&fG<604;En.copy=Sn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=yl?null:t.clipboardData,o=r.content(),{dom:l,text:a}=j2(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):hK(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function pK(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function mK(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?kl(n,r.value,null,i,e):kl(n,r.textContent,r.innerHTML,i,e)},50)}function kl(n,e,t,r,i){let s=V2(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,i,s||Be.empty)))return!0;if(!s)return!1;let o=pK(s),l=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Z2(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Sn.paste=(n,e)=>{let t=e;if(n.composing&&!br)return;let r=yl?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&kl(n,Z2(r),r.getData("text/html"),i,t)?t.preventDefault():mK(n,t)};class Q2{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const x2=er?"altKey":"ctrlKey";En.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Lf(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ke?i.to-1:i.to))){if(r&&r.mightDrag)o=Ke.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let f=n.docView.nearestDesc(t.target,!0);f&&f.node.type.spec.draggable&&f!=n.docView&&(o=Ke.create(n.state.doc,f.posBefore))}}let l=(o||n.state.selection).content(),{dom:a,text:u}=j2(n,l);t.dataTransfer.clearData(),t.dataTransfer.setData(yl?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",yl||t.dataTransfer.setData("text/plain",u),n.dragging=new Q2(l,!t[x2],o)};En.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Sn.dragover=Sn.dragenter=(n,e)=>e.preventDefault();Sn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Lf(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",p=>{o=p(o,n)}):o=V2(n,Z2(t.dataTransfer),yl?null:t.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!t[x2]);if(n.someProp("handleDrop",p=>p(n,t,o||Be.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let a=o?g2(n.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let u=n.state.tr;if(l){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let f=u.mapping.map(a),c=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=u.doc;if(c?u.replaceRangeWith(f,f,o.content.firstChild):u.replaceRange(f,f,o),u.doc.eq(d))return;let h=u.doc.resolve(f);if(c&&Ke.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ke(h));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((g,_,b,v)=>p=v),u.setSelection(Rp(n,h,u.doc.resolve(p)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};En.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ai(n)},20))};En.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};En.beforeinput=(n,e)=>{if(yn&&br&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,hs(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Sn)En[n]=Sn[n];function wl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ou{constructor(e,t){this.toDOM=e,this.spec=t||ys,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new rr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ou&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ii{constructor(e,t){this.attrs=e,this.spec=t||ys}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new rr(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ii&&wl(this.attrs,e.attrs)&&wl(this.spec,e.spec)}static is(e){return e.type instanceof Ii}destroy(){}}class zp{constructor(e,t){this.attrs=e,this.spec=t||ys}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new rr(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof zp&&wl(this.attrs,e.attrs)&&wl(this.spec,e.spec)}destroy(){}}class rr{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new rr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new rr(e,e,new ou(t,r))}static inline(e,t,r,i){return new rr(e,t,new Ii(r,i))}static node(e,t,r,i){return new rr(e,t,new zp(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ii}get widget(){return this.type instanceof ou}}const Ks=[],ys={};class Jt{constructor(e,t){this.local=e.length?e:Ks,this.children=t.length?t:Ks}static create(e,t){return t.length?lu(t,e,0,ys):dn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,r,i+l,s)}}map(e,t,r){return this==dn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ys)}mapInner(e,t,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?gK(this.children,o||[],e,t,r,i,s):o?new Jt(o.sort(ks),Ks):dn}add(e,t){return t.length?this==dn?Jt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((l,a)=>{let u=a+r,f;if(f=tS(t,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,f,u+1):i.splice(s,0,a,a+l.nodeSize,lu(f,l,u+1,ys)),s+=3}});let o=eS(s?nS(t):t,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Jt(o.length?this.local.concat(o).sort(ks):this.local,i||this.children)}remove(e){return e.length==0||this==dn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+t,a=r[s+1]+t;for(let f=0,c;f<e.length;f++)(c=e[f])&&c.from>l&&c.to<a&&(e[f]=null,(o||(o=[])).push(c));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=dn?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jt(i,r):dn}forChild(e,t){if(this==dn)return this;if(t.isLeaf)return Jt.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+t.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof Ii){let u=Math.max(s,a.from)-s,f=Math.min(o,a.to)-s;u<f&&(i||(i=[])).push(a.copy(u,f))}}if(i){let l=new Jt(i.sort(ks),Ks);return r?new Ti([l,r]):l}return r||dn}eq(e){if(this==e)return!0;if(!(e instanceof Jt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Bp(this.localsInner(e))}localsInner(e){if(this==dn)return Ks;if(e.inlineContent||!this.local.some(Ii.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ii||t.push(this.local[r]);return t}}Jt.empty=new Jt([],[]);Jt.removeOverlap=Bp;const dn=Jt.empty;class Ti{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ys));return Ti.from(r)}forChild(e,t){if(t.isLeaf)return Jt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=dn&&(s instanceof Ti?r=r.concat(s.members):r.push(s))}return Ti.from(r)}eq(e){if(!(e instanceof Ti)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?Bp(r?t:t.sort(ks)):Ks}static from(e){switch(e.length){case 0:return dn;case 1:return e[0];default:return new Ti(e.every(t=>t instanceof Jt)?e:e.reduce((t,r)=>t.concat(r instanceof Jt?r:r.members),[]))}}}function gK(n,e,t,r,i,s,o){let l=n.slice();for(let u=0,f=s;u<t.maps.length;u++){let c=0;t.maps[u].forEach((d,h,p,g)=>{let _=g-p-(h-d);for(let b=0;b<l.length;b+=3){let v=l[b+1];if(v<0||d>v+f-c)continue;let E=l[b]+f-c;h>=E?l[b+1]=d<=E?-2:-1:d>=f&&_&&(l[b]+=_,l[b+1]+=_)}c+=_}),f=t.maps[u].map(f,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let f=t.map(n[u]+s),c=f-i;if(c<0||c>=r.content.size){a=!0;continue}let d=t.map(n[u+1]+s,-1),h=d-i,{index:p,offset:g}=r.content.findIndex(c),_=r.maybeChild(p);if(_&&g==c&&g+_.nodeSize==h){let b=l[u+2].mapInner(t,_,f+1,n[u]+s+1,o);b!=dn?(l[u]=c,l[u+1]=h,l[u+2]=b):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=_K(l,n,e,t,i,s,o),f=lu(u,r,0,o);e=f.local;for(let c=0;c<l.length;c+=3)l[c+1]<0&&(l.splice(c,3),c-=3);for(let c=0,d=0;c<f.children.length;c+=3){let h=f.children[c];for(;d<l.length&&l[d]<h;)d+=3;l.splice(d,0,f.children[c],f.children[c+1],f.children[c+2])}}return new Jt(e.sort(ks),l)}function eS(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new rr(i.from+e,i.to+e,i.type))}return t}function _K(n,e,t,r,i,s,o){function l(a,u){for(let f=0;f<a.local.length;f++){let c=a.local[f].map(r,i,u);c?t.push(c):o.onRemove&&o.onRemove(a.local[f].spec)}for(let f=0;f<a.children.length;f+=3)l(a.children[f+2],a.children[f]+u+1)}for(let a=0;a<n.length;a+=3)n[a+1]==-1&&l(n[a+2],e[a]+s+1);return t}function tS(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function nS(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function lu(n,e,t,r){let i=[],s=!1;e.forEach((l,a)=>{let u=tS(n,l,a+t);if(u){s=!0;let f=lu(u,l,t+a+1,r);f!=dn&&i.push(a,a+l.nodeSize,f)}});let o=eS(s?nS(n):n,-t).sort(ks);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Jt(o,i):dn}function ks(n,e){return n.from-e.from||n.to-e.to}function Bp(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),cb(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),cb(e,i,r.copy(s.from,r.to)));break}}}return e}function cb(n,e,t){for(;e<n.length&&ks(t,n[e])>0;)e++;n.splice(e,0,t)}function qc(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=dn&&e.push(r)}),n.cursorWrapper&&e.push(Jt.create(n.state.doc,[n.cursorWrapper.deco])),Ti.from(e)}const vK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bK=Pn&&Di<=11;class yK{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kK{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yK,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Pn&&Di<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),bK&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vK)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(rb(this.view)){if(this.suppressingSelectionUpdates)return ai(this.view);if(Pn&&Di<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ns(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=bl(s))t.add(s);for(let s=e.anchorNode;s;s=bl(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&rb(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let f=0;f<t.length;f++){let c=this.registerMutation(t[f],a);c&&(s=s<0?c.from:Math.min(c.from,s),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(l=!0))}if(Or&&a.length>1){let f=a.filter(c=>c.nodeName=="BR");if(f.length==2){let c=f[0],d=f[1];c.parentNode&&c.parentNode.parentNode==d.parentNode?d.remove():c.remove()}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&If(r)&&(u=Dp(e))&&u.eq(ht.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ai(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),wK(e)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ai(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++)t.push(e.addedNodes[f]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Pn&&Di<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:c,nextSibling:d}=e.addedNodes[f];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?ln(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?ln(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let db=new WeakMap,hb=!1;function wK(n){if(!db.has(n)&&(db.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Or,hb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),hb=!0}}function EK(n){let e;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return Ns(l.node,l.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}function SK(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=n.docView.parseRange(e,t),a=n.domSelectionRange(),u,f=a.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:a.anchorOffset}],If(a)||u.push({node:a.focusNode,offset:a.focusOffset})),yn&&n.input.lastKeyCode===8)for(let _=s;_>i;_--){let b=r.childNodes[_-1],v=b.pmViewDesc;if(b.nodeName=="BR"&&!v){s=_;break}if(!v||v.size)break}let c=n.state.doc,d=n.someProp("domParser")||Ps.fromSchema(n.state.schema),h=c.resolve(o),p=null,g=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:TK,context:h});if(u&&u[0].pos!=null){let _=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=_),p={anchor:_+o,head:b+o}}return{doc:g,sel:p,from:o,to:l}}function TK(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(wn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||wn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const AK=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function OK(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,z=Dp(n,I);if(z&&!n.state.selection.eq(z)){if(yn&&br&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",F=>F(n,hs(13,"Enter"))))return;let R=n.state.tr.setSelection(z);I=="pointer"?R.setMeta("pointer",!0):I=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),n.dispatch(R)}return}let o=n.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=n.state.doc.resolve(t).after(l+1);let a=n.state.selection,u=SK(n,e,t),f=n.state.doc,c=f.slice(u.from,u.to),d,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(d=n.state.selection.to,h="end"):(d=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let p=PK(c.content,u.doc.content,u.from,d,h);if((ao&&n.input.lastIOSEnter>Date.now()-225||br)&&i.some(I=>I.nodeType==1&&!AK.test(I.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",I=>I(n,hs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof st&&!a.empty&&a.$head.sameParent(a.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let I=pb(n,n.state.doc,u.sel);if(I&&!I.eq(n.state.selection)){let z=n.state.tr.setSelection(I);s&&z.setMeta("composition",s),n.dispatch(z)}}return}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof st&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),Pn&&Di<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=u.doc.resolveNoCache(p.start-u.from),_=u.doc.resolveNoCache(p.endB-u.from),b=f.resolve(p.start),v=g.sameParent(_)&&g.parent.inlineContent&&b.end()>=p.endA,E;if((ao&&n.input.lastIOSEnter>Date.now()-225&&(!v||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!v&&g.pos<u.doc.content.size&&!g.sameParent(_)&&(E=ht.findFrom(u.doc.resolve(g.pos+1),1,!0))&&E.head==_.pos)&&n.someProp("handleKeyDown",I=>I(n,hs(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&MK(f,p.start,p.endA,g,_)&&n.someProp("handleKeyDown",I=>I(n,hs(8,"Backspace")))){br&&yn&&n.domObserver.suppressSelectionUpdates();return}yn&&br&&p.endB==p.start&&(n.input.lastAndroidDelete=Date.now()),br&&!v&&g.start()!=_.start()&&_.parentOffset==0&&g.depth==_.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,_=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,hs(13,"Enter"))})},20));let k=p.start,N=p.endA,C,M,D;if(v){if(g.pos==_.pos)Pn&&Di<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ai(n),20)),C=n.state.tr.delete(k,N),M=f.resolve(p.start).marksAcross(f.resolve(p.endA));else if(p.endA==p.endB&&(D=CK(g.parent.content.cut(g.parentOffset,_.parentOffset),b.parent.content.cut(b.parentOffset,p.endA-b.start()))))C=n.state.tr,D.type=="add"?C.addMark(k,N,D.mark):C.removeMark(k,N,D.mark);else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let I=g.parent.textBetween(g.parentOffset,_.parentOffset);if(n.someProp("handleTextInput",z=>z(n,k,N,I)))return;C=n.state.tr.insertText(I,k,N)}}if(C||(C=n.state.tr.replace(k,N,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let I=pb(n,C.doc,u.sel);I&&!(yn&&br&&n.composing&&I.empty&&(p.start!=p.endB||n.input.lastAndroidDelete<Date.now()-100)&&(I.head==k||I.head==C.mapping.map(N)-1)||Pn&&I.empty&&I.head==k)&&C.setSelection(I)}M&&C.ensureMarks(M),s&&C.setMeta("composition",s),n.dispatch(C.scrollIntoView())}function pb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Rp(n,e.resolve(t.anchor),e.resolve(t.head))}function CK(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,l,a;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)s=t[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=f=>f.mark(l.addToSet(f.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(a(e.child(f)));if(ye.from(u).eq(n))return{mark:l,type:o}}function MK(n,e,t,r,i){if(t-e<=i.pos-r.pos||Gc(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&t==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(Gc(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Gc(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Gc(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function PK(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&n.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&mb(e.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<n.size&&mb(n.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function mb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class NK{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(yb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vb(this),_b(this),this.nodeViews=bb(this),this.docView=Z0(this.state.doc,gb(this),qc(this),this.dom,this),this.domObserver=new kK(this,(r,i,s,o)=>OK(this,r,i,s,o)),this.domObserver.start(),QG(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&qd(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(yb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(X2(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=bb(this);RK(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&qd(this),this.editable=vb(this),_b(this);let a=qc(this),u=gb(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",c=s||!this.docView.matchesNode(e.doc,u,a);(c||!e.selection.eq(i.selection))&&(o=!0);let d=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&hG(this);if(o){this.domObserver.stop();let h=c&&(Pn||yn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&DK(i.selection,e.selection);if(c){let p=yn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cK(this)),(s||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Z0(e.doc,u,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zG(this))?ai(this,h):(z2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():d&&pG(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&q0(this,t.getBoundingClientRect(),e)}else q0(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Q2(e.slice,e.move,i<0?void 0:Ke.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Pn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mG(this.dom),ai(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return yG(this,e)}coordsAtPos(e,t=1){return M2(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return TG(this,t||this.state,e)}pasteHTML(e,t){return kl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return kl(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(xG(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],qc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,tG())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return tK(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return wn&&this.root.nodeType===11&&oG(this.dom.ownerDocument)==this.dom?EK(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function gb(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[rr.node(0,n.state.doc.content.size,e)]}function _b(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:rr.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function vb(n){return!n.someProp("editable",e=>e(n.state)===!1)}function DK(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function bb(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function RK(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function yb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ui={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},au={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},IK=typeof navigator<"u"&&/Mac/.test(navigator.platform),$K=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var an=0;an<10;an++)Ui[48+an]=Ui[96+an]=String(an);for(var an=1;an<=24;an++)Ui[an+111]="F"+an;for(var an=65;an<=90;an++)Ui[an]=String.fromCharCode(an+32),au[an]=String.fromCharCode(an);for(var Kc in Ui)au.hasOwnProperty(Kc)||(au[Kc]=Ui[Kc]);function LK(n){var e=IK&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||$K&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?au:Ui)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const zK=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function BK(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))zK?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function FK(n){let e=Object.create(null);for(let t in n)e[BK(t)]=n[t];return e}function Jc(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function jK(n){return new cn({props:{handleKeyDown:rS(n)}})}function rS(n){let e=FK(n);return function(t,r){let i=LK(r),s,o=e[Jc(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Jc(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Ui[r.keyCode])&&s!=i){let l=e[Jc(s,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const VK=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function iS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const HK=(n,e,t)=>{let r=iS(n,t);if(!r)return!1;let i=Fp(r);if(!i){let o=r.blockRange(),l=o&&No(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&aS(n,i,e))return!0;if(r.parent.content.size==0&&(uo(s,"end")||Ke.isSelectable(s))){let o=Df(n.doc,r.before(),r.after(),Be.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(uo(s,"end")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ke.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},UK=(n,e,t)=>{let r=iS(n,t);if(!r)return!1;let i=Fp(r);return i?sS(n,i,e):!1},WK=(n,e,t)=>{let r=oS(n,t);if(!r)return!1;let i=jp(r);return i?sS(n,i,e):!1};function sS(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=Df(n.doc,s,a,Be.empty);if(!u||u.from!=s||u instanceof Qt&&u.slice.size>=a-s)return!1;if(t){let f=n.tr.step(u);f.setSelection(st.create(f.doc,s)),t(f.scrollIntoView())}return!0}function uo(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const qK=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Fp(r)}let o=s&&s.nodeBefore;return!o||!Ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ke.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Fp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function oS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const GK=(n,e,t)=>{let r=oS(n,t);if(!r)return!1;let i=jp(r);if(!i)return!1;let s=i.nodeAfter;if(aS(n,i,e))return!0;if(r.parent.content.size==0&&(uo(s,"start")||Ke.isSelectable(s))){let o=Df(n.doc,r.before(),r.after(),Be.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(uo(s,"start")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ke.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},KK=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=jp(r)}let o=s&&s.nodeAfter;return!o||!Ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ke.create(n.doc,s.pos)).scrollIntoView()),!0)};function jp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const JK=(n,e)=>{let t=n.selection,r=t instanceof Ke,i;if(r){if(t.node.isTextblock||!ts(n.doc,t.from))return!1;i=t.from}else if(i=Nf(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Ke.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},YK=(n,e)=>{let t=n.selection,r;if(t instanceof Ke){if(t.node.isTextblock||!ts(n.doc,t.to))return!1;r=t.to}else if(r=Nf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},XK=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&No(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},ZK=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function lS(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const QK=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=lS(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=t.after(),a=n.tr.replaceWith(l,l,o.createAndFill());a.setSelection(ht.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},xK=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Sr||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=lS(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(o,s.createAndFill());l.setSelection(st.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},eJ=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(no(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&No(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},tJ=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Ke.create(n.doc,i))),!0)};function nJ(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ts(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function aS(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(nJ(n,e,t))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(t){let c=e.pos+i.nodeSize,d=ye.empty;for(let g=s.length-1;g>=0;g--)d=ye.from(s[g].create(null,d));d=ye.from(r.copy(d));let h=n.tr.step(new en(e.pos-1,c,e.pos,c,new Be(d,1,0),s.length,!0)),p=c+2*s.length;ts(h.doc,p)&&h.join(p),t(h.scrollIntoView())}return!0}let a=ht.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),f=u&&No(u);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(u,f).scrollIntoView()),!0;if(l&&uo(i,"start",!0)&&uo(r,"end")){let c=r,d=[];for(;d.push(c),!c.isTextblock;)c=c.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(c.canReplace(c.childCount,c.childCount,h.content)){if(t){let g=ye.empty;for(let b=d.length-1;b>=0;b--)g=ye.from(d[b].copy(g));let _=n.tr.step(new en(e.pos-d.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new Be(g,d.length,0),0,!0));t(_.scrollIntoView())}return!0}}return!1}function uS(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(st.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const rJ=uS(-1),iJ=uS(1);function sJ(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),l=o&&Mp(o,n,e);return l?(r&&r(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function kb(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[s];t.doc.nodesBetween(o,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(n,e)))if(a.type==n)i=!0;else{let f=t.doc.resolve(u),c=f.index();i=f.parent.canReplaceWith(c,c+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=t.selection.ranges[o];s.setBlockType(l,a,n,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function oJ(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(n)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let f=t.doc.resolve(o.start-2);a=new eu(f,f,o.depth),o.endIndex<o.parent.childCount&&(o=new eu(i,t.doc.resolve(s.end(o.depth)),o.depth)),l=!0}let u=Mp(a,n,e,o);return u?(r&&r(lJ(t.tr,o,u,l,n).scrollIntoView()),!0):!1}}function lJ(n,e,t,r,i){let s=ye.empty;for(let f=t.length-1;f>=0;f--)s=ye.from(t[f].type.create(t[f].attrs,s));n.step(new en(e.start-(r?2:0),e.end,e.start,e.end,new Be(s,0,0),t.length,!0));let o=0;for(let f=0;f<t.length;f++)t[f].type==i&&(o=f+1);let l=t.length-o,a=e.start+t.length-(r?2:0),u=e.parent;for(let f=e.startIndex,c=e.endIndex,d=!0;f<c;f++,d=!1)!d&&no(n.doc,a,l)&&(n.split(a,l),a+=2*l),a+=u.child(f).nodeSize;return n}function aJ(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?uJ(e,t,n,s):fJ(e,t,s):!0:!1}}function uJ(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new en(s-1,o,s,o,new Be(ye.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new eu(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=No(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(s,-1)-1;return ts(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function fJ(n,e,t){let r=n.tr,i=t.parent;for(let h=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,a=t.endIndex==i.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(a?ye.empty:ye.from(i))))return!1;let c=s.pos,d=c+o.nodeSize;return r.step(new en(c-(l?1:0),d+(a?1:0),c+1,d-1,new Be((l?ye.empty:ye.from(i.copy(ye.empty))).append(a?ye.empty:ye.from(i.copy(ye.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function cJ(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=n)return!1;if(t){let u=a.lastChild&&a.lastChild.type==l.type,f=ye.from(u?n.create():null),c=new Be(ye.from(n.create(null,ye.from(l.type.create(null,f)))),u?3:1,0),d=s.start,h=s.end;t(e.tr.step(new en(d-(u?3:1),h,d,h,c,1,!0)).scrollIntoView())}return!0}}function Gl(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class Kl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...f)=>{const c=a(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],a=!!e,u=e||s.tr,f=()=>(!a&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(d=>d===!0)),c={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...g)=>{const _=this.buildProps(u,t),b=h(...g)(_);return l.push(b),c}])),run:f};return c}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([a,u])=>[a,(...f)=>u(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:Gl({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...f)=>u(...f)(l)]))}};return l}}class dJ{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ve(n,e,t){return n.config[e]===void 0&&n.parent?Ve(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Ve(n.parent,e,t):null}):n.config[e]}function Jl(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Vp(n){const e=[],{nodeExtensions:t,markExtensions:r}=Jl(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=Ve(o,"addGlobalAttributes",l);if(!a)return;a().forEach(f=>{f.types.forEach(c=>{Object.entries(f.attributes).forEach(([d,h])=>{e.push({type:c,name:d,attribute:{...s,...h}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=Ve(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([f,c])=>{const d={...s,...c};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:f,attribute:d})})}),e}function Xt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Bt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?s.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(f=>!a.includes(f));r[i]=[...a,...u].join(" ")}else i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function uu(n,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Bt(t,r),{})}function Hp(n){return typeof n=="function"}function ot(n,e=void 0,...t){return Hp(n)?e?n.bind(e)(...t):n(...t):n}function fS(n={}){return Object.keys(n).length===0&&n.constructor===Object}function cS(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Gd(n,e){return n.style?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(t):cS(t.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function wb(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&fS(t)?!1:t!=null))}function Up(n,e){var t;const r=Vp(n),{nodeExtensions:i,markExtensions:s}=Jl(n),o=(t=i.find(u=>Ve(u,"topNode")))===null||t===void 0?void 0:t.name,l=Object.fromEntries(i.map(u=>{const f=r.filter(b=>b.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},d=n.reduce((b,v)=>{const E=Ve(v,"extendNodeSchema",c);return{...b,...E?E(u):{}}},{}),h=wb({...d,content:ot(Ve(u,"content",c)),marks:ot(Ve(u,"marks",c)),group:ot(Ve(u,"group",c)),inline:ot(Ve(u,"inline",c)),atom:ot(Ve(u,"atom",c)),selectable:ot(Ve(u,"selectable",c)),draggable:ot(Ve(u,"draggable",c)),code:ot(Ve(u,"code",c)),defining:ot(Ve(u,"defining",c)),isolating:ot(Ve(u,"isolating",c)),attrs:Object.fromEntries(f.map(b=>{var v;return[b.name,{default:(v=b==null?void 0:b.attribute)===null||v===void 0?void 0:v.default}]}))}),p=ot(Ve(u,"parseHTML",c));p&&(h.parseDOM=p.map(b=>Gd(b,f)));const g=Ve(u,"renderHTML",c);g&&(h.toDOM=b=>g({node:b,HTMLAttributes:uu(b,f)}));const _=Ve(u,"renderText",c);return _&&(h.toText=_),[u.name,h]})),a=Object.fromEntries(s.map(u=>{const f=r.filter(_=>_.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},d=n.reduce((_,b)=>{const v=Ve(b,"extendMarkSchema",c);return{..._,...v?v(u):{}}},{}),h=wb({...d,inclusive:ot(Ve(u,"inclusive",c)),excludes:ot(Ve(u,"excludes",c)),group:ot(Ve(u,"group",c)),spanning:ot(Ve(u,"spanning",c)),code:ot(Ve(u,"code",c)),attrs:Object.fromEntries(f.map(_=>{var b;return[_.name,{default:(b=_==null?void 0:_.attribute)===null||b===void 0?void 0:b.default}]}))}),p=ot(Ve(u,"parseHTML",c));p&&(h.parseDOM=p.map(_=>Gd(_,f)));const g=Ve(u,"renderHTML",c);return g&&(h.toDOM=_=>g({mark:_,HTMLAttributes:uu(_,f)})),[u.name,h]}));return new wq({topNode:o,nodes:l,marks:a})}function Oa(n,e){return e.nodes[n]||e.marks[n]||null}function Kd(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}const dS=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var a,u;const f=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";t+=f.slice(0,Math.max(0,r-s))}),t};function zf(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Do{constructor(e){this.find=e.find,this.handler=e.handler}}const hJ=(n,e)=>{if(zf(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Yc(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:l}=n,{view:a}=t;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let f=!1;const c=dS(u)+s;return o.forEach(d=>{if(f)return;const h=hJ(c,d.find);if(!h)return;const p=a.state.tr,g=Gl({state:a.state,transaction:p}),_={from:r-(h[0].length-s.length),to:i},{commands:b,chain:v,can:E}=new Kl({editor:t,state:g});d.handler({state:g,range:_,match:h,commands:b,chain:v,can:E})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:i,text:s}),a.dispatch(p),f=!0)}),f}function hS(n){const{editor:e,rules:t}=n,r=new cn({state:{init(){return null},apply(i,s){const o=i.getMeta(r);return o||(i.selectionSet||i.docChanged?null:s)}},props:{handleTextInput(i,s,o,l){return Yc({editor:e,from:s,to:o,text:l,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Yc({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Yc({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function pS(n){return typeof n=="number"}class Bf{constructor(e){this.find=e.find,this.handler=e.handler}}const pJ=(n,e,t)=>{if(zf(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function mJ(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=n,{commands:a,chain:u,can:f}=new Kl({editor:e,state:t}),c=[];return t.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,p),_=Math.min(i,p+h.content.size),b=h.textBetween(g-p,_-p,void 0,"￼");pJ(b,s.find,o).forEach(E=>{if(E.index===void 0)return;const k=g+E.index+1,N=k+E[0].length,C={from:t.tr.mapping.map(k),to:t.tr.mapping.map(N)},M=s.handler({state:t,range:C,match:E,commands:a,chain:u,can:f,pasteEvent:o,dropEvent:l});c.push(M)})}),c.every(h=>h!==null)}function mS(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;return t.map(u=>new cn({view(f){const c=d=>{var h;r=!((h=f.dom.parentElement)===null||h===void 0)&&h.contains(d.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:(f,c)=>(s=r===f.dom.parentElement,l=c,!1),paste:(f,c)=>{var d;const h=(d=c.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return o=c,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(f,c,d)=>{const h=f[0],p=h.getMeta("uiEvent")==="paste"&&!i,g=h.getMeta("uiEvent")==="drop"&&!s;if(!p&&!g)return;const _=c.doc.content.findDiffStart(d.doc.content),b=c.doc.content.findDiffEnd(d.doc.content);if(!pS(_)||!b||_===b.b)return;const v=d.tr,E=Gl({state:d,transaction:v});if(!(!mJ({editor:e,state:E,from:Math.max(_-1,0),to:b.b-1,rule:u,pasteEvent:o,dropEvent:l})||!v.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}}))}function gS(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return[...new Set(e)]}class gs{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=gs.resolve(e),this.schema=Up(this.extensions,t),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Oa(r.name,this.schema)};r.type==="mark"&&(!((i=ot(Ve(r,"keepOnSplit",s)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const o=Ve(r,"onBeforeCreate",s);o&&this.editor.on("beforeCreate",o);const l=Ve(r,"onCreate",s);l&&this.editor.on("create",l);const a=Ve(r,"onUpdate",s);a&&this.editor.on("update",a);const u=Ve(r,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const f=Ve(r,"onTransaction",s);f&&this.editor.on("transaction",f);const c=Ve(r,"onFocus",s);c&&this.editor.on("focus",c);const d=Ve(r,"onBlur",s);d&&this.editor.on("blur",d);const h=Ve(r,"onDestroy",s);h&&this.editor.on("destroy",h)})}static resolve(e){const t=gs.sort(gs.flatten(e)),r=gS(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Ve(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Ve(r,"priority")||100,o=Ve(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Oa(t.name,this.schema)},i=Ve(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=gs.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:Oa(o.name,this.schema)},a=[],u=Ve(o,"addKeyboardShortcuts",l);let f={};if(o.type==="mark"&&o.config.exitable&&(f.ArrowRight=()=>Gn.handleExit({editor:e,mark:o})),u){const g=Object.fromEntries(Object.entries(u()).map(([_,b])=>[_,()=>b({editor:e})]));f={...f,...g}}const c=jK(f);a.push(c);const d=Ve(o,"addInputRules",l);Kd(o,e.options.enableInputRules)&&d&&r.push(...d());const h=Ve(o,"addPasteRules",l);Kd(o,e.options.enablePasteRules)&&h&&i.push(...h());const p=Ve(o,"addProseMirrorPlugins",l);if(p){const g=p();a.push(...g)}return a}).flat();return[hS({editor:e,rules:r}),...mS({editor:e,rules:i}),...s]}get attributes(){return Vp(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Jl(this.extensions);return Object.fromEntries(t.filter(r=>!!Ve(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Xt(r.name,this.schema)},o=Ve(r,"addNodeView",s);if(!o)return[];const l=(a,u,f,c)=>{const d=uu(a,i);return o()({editor:e,node:a,getPos:f,decorations:c,HTMLAttributes:d,extension:r})};return[r.name,l]}))}}function gJ(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ca(n){return gJ(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Yl(n,e){const t={...n};return Ca(n)&&Ca(e)&&Object.keys(e).forEach(r=>{Ca(e[r])?r in n?t[r]=Yl(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}let Yn=class Jd{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(Ve(this,"addOptions",{name:this.name}))),this.storage=ot(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jd(e)}configure(e={}){const t=this.extend();return t.options=Yl(this.options,e),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Jd({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(Ve(t,"addOptions",{name:t.name})),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}};function Wp(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let l="",a=!0;return n.nodesBetween(r,i,(u,f,c,d)=>{var h;const p=o==null?void 0:o[u.type.name];p?(u.isBlock&&!a&&(l+=s,a=!0),c&&(l+=p({node:u,pos:f,parent:c,index:d,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,f)-f,i-f),a=!1):u.isBlock&&!a&&(l+=s,a=!0)}),l}function Ff(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const _J=Yn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new cn({key:new Jn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(f=>f.$from.pos)),l=Math.max(...s.map(f=>f.$to.pos)),a=Ff(t);return Wp(r,{from:o,to:l},{textSerializers:a})}}})]}}),vJ=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),bJ=(n=!1)=>({commands:e})=>e.setContent("",n),yJ=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:f}=e,c=u.resolve(f.map(a)),d=u.resolve(f.map(a+l.nodeSize)),h=c.blockRange(d);if(!h)return;const p=No(h);if(l.type.isTextblock){const{defaultType:g}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},kJ=n=>e=>n(e),wJ=()=>({state:n,dispatch:e})=>xK(n,e),EJ=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new st(r.doc.resolve(o-1))),!0},SJ=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),a=i.after(s);n.delete(l,a).scrollIntoView()}return!0}return!1},TJ=n=>({tr:e,state:t,dispatch:r})=>{const i=Xt(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),u=s.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},AJ=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},OJ=()=>({state:n,dispatch:e})=>VK(n,e),CJ=()=>({commands:n})=>n.keyboardShortcut("Enter"),MJ=()=>({state:n,dispatch:e})=>QK(n,e);function El(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:zf(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Yd(n,e,t={}){return n.find(r=>r.type===e&&El(r.attrs,t))}function PJ(n,e,t={}){return!!Yd(n,e,t)}function jf(n,e,t={}){if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&r.offset!==0&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;const i=Yd([...r.node.marks],e,t);if(!i)return;let s=r.index,o=n.start()+r.offset,l=s+1,a=o+r.node.nodeSize;for(Yd([...r.node.marks],e,t);s>0&&i.isInSet(n.parent.child(s-1).marks);)s-=1,o-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&PJ([...n.parent.child(l).marks],e,t);)a+=n.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function bi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const NJ=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=bi(n,r.schema),{doc:o,selection:l}=t,{$from:a,from:u,to:f}=l;if(i){const c=jf(a,s,e);if(c&&c.from<=u&&c.to>=f){const d=st.create(o,c.from,c.to);t.setSelection(d)}}return!0},DJ=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Vf(n){return n instanceof st}function Br(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function qp(n,e=null){if(!e)return null;const t=ht.atStart(n),r=ht.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?st.create(n,Br(0,i,s),Br(n.content.size,i,s)):st.create(n,Br(e,i,s),Br(e,i,s))}function Xl(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const RJ=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{Xl()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Vf(t.state.selection))return o(),!0;const l=qp(i.doc,n)||t.state.selection,a=t.state.selection.eq(l);return s&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},IJ=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),$J=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),_S=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&_S(r)}return n};function fu(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return _S(t)}function Sl(n,e,t){if(t={slice:!0,parseOptions:{},...t},typeof n=="object"&&n!==null)try{return Array.isArray(n)&&n.length>0?ye.fromArray(n.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(n)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",r),Sl("",e,t)}if(typeof n=="string"){const r=Ps.fromSchema(e);return t.slice?r.parseSlice(fu(n),t.parseOptions).content:r.parse(fu(n),t.parseOptions)}return Sl("",e,t)}function vS(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Qt||i instanceof en))return;const s=n.mapping.maps[r];let o=0;s.forEach((l,a,u,f)=>{o===0&&(o=f)}),n.setSelection(ht.near(n.doc.resolve(o),t))}const LJ=n=>n.toString().startsWith("<"),zJ=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{if(i){t={parseOptions:{},updateSelection:!0,...t};const o=Sl(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions}});if(o.toString()==="<>")return!0;let{from:l,to:a}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,f=!0;if((LJ(o)?o:[o]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,f=f?d.isBlock:!1}),l===a&&f){const{parent:d}=r.doc.resolve(l);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(d=>d.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,o),t.updateSelection&&vS(r,r.steps.length-1,-1)}return!0},BJ=()=>({state:n,dispatch:e})=>JK(n,e),FJ=()=>({state:n,dispatch:e})=>YK(n,e),jJ=()=>({state:n,dispatch:e})=>HK(n,e),VJ=()=>({state:n,dispatch:e})=>GK(n,e),HJ=()=>({tr:n,state:e,dispatch:t})=>{try{const r=Nf(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},UJ=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Nf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},WJ=()=>({state:n,dispatch:e})=>UK(n,e),qJ=()=>({state:n,dispatch:e})=>WK(n,e);function Hf(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function GJ(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))Xl()||Hf()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const KJ=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=GJ(n).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{t.someProp("handleKeyDown",u=>u(t,l))});return a==null||a.steps.forEach(u=>{const f=u.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function fo(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Xt(e,n.schema):null,l=[];n.doc.nodesBetween(r,i,(c,d)=>{if(c.isText)return;const h=Math.max(r,d),p=Math.min(i,d+c.nodeSize);l.push({node:c,from:h,to:p})});const a=i-r,u=l.filter(c=>o?o.name===c.node.type.name:!0).filter(c=>El(c.node.attrs,t,{strict:!1}));return s?!!u.length:u.reduce((c,d)=>c+d.to-d.from,0)>=a}const JJ=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return fo(t,i,e)?XK(t,r):!1},YJ=()=>({state:n,dispatch:e})=>eJ(n,e),XJ=n=>({state:e,dispatch:t})=>{const r=Xt(n,e.schema);return aJ(r)(e,t)},ZJ=()=>({state:n,dispatch:e})=>ZK(n,e);function Zl(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Xd(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const QJ=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=Zl(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=Xt(n,r.schema)),l==="mark"&&(o=bi(n,r.schema)),i&&t.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,f)=>{s&&s===u.type&&t.setNodeMarkup(f,void 0,Xd(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(c=>{o===c.type&&t.addMark(f,f+u.nodeSize,o.create(Xd(c.attrs,e)))})})}),!0):!1},xJ=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),eY=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),tY=()=>({state:n,dispatch:e})=>qK(n,e),nY=()=>({state:n,dispatch:e})=>KK(n,e),rY=()=>({state:n,dispatch:e})=>tJ(n,e),iY=()=>({state:n,dispatch:e})=>iJ(n,e),sY=()=>({state:n,dispatch:e})=>rJ(n,e);function Gp(n,e,t={}){return Sl(n,e,{slice:!1,parseOptions:t})}const oY=(n,e=!1,t={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:o}=r,l=Gp(n,i.schema,t);return s&&r.replaceWith(0,o.content.size,l).setMeta("preventUpdate",!e),!0};function Ql(n,e){const t=bi(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===t.name);return l?{...l.attrs}:{}}function bS(n,e){const t=new k2(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function yS(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function lY(n,e){const t=[];return n.descendants((r,i)=>{e(r)&&t.push({node:r,pos:i})}),t}function kS(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function wS(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function xl(n){return e=>wS(e.$from,n)}function Kp(n,e){const t=Lr.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function Uf(n,e){const t=gs.resolve(n);return Up(t,e)}function aY(n,e){const t=Uf(e),r=li.fromJSON(t,n);return Kp(r.content,t)}function uY(n,e){const t=Uf(e),r=fu(n);return Ps.fromSchema(t).parse(r).toJSON()}function Jp(n,e){const t={from:0,to:n.content.size};return Wp(n,t,e)}function fY(n,e,t){const{blockSeparator:r=`

`,textSerializers:i={}}=t||{},s=Uf(e),o=li.fromJSON(s,n);return Jp(o,{blockSeparator:r,textSerializers:{...Ff(s),...i}})}function ES(n,e){const t=Xt(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===t.name);return o?{...o.attrs}:{}}function Yp(n,e){const t=Zl(typeof e=="string"?e:e.name,n.schema);return t==="node"?ES(n,e):t==="mark"?Ql(n,e):{}}function SS(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function cY(n){const e=SS(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function TS(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((l,a)=>{o.push({from:l,to:a})});else{const{from:l,to:a}=t[s];if(l===void 0||a===void 0)return;o.push({from:l,to:a})}o.forEach(({from:l,to:a})=>{const u=e.slice(s).map(l,-1),f=e.slice(s).map(a),c=e.invert().map(u,-1),d=e.invert().map(f);r.push({oldRange:{from:c,to:d},newRange:{from:u,to:f}})})}),cY(r)}function AS(n,e=0){const r=n.type===n.type.schema.topNodeType?0:1,i=e,s=i+n.nodeSize,o=n.marks.map(u=>{const f={type:u.type.name};return Object.keys(u.attrs).length&&(f.attrs={...u.attrs}),f}),l={...n.attrs},a={type:n.type.name,from:i,to:s};return Object.keys(l).length&&(a.attrs=l),o.length&&(a.marks=o),n.content.childCount&&(a.content=[],n.forEach((u,f)=>{var c;(c=a.content)===null||c===void 0||c.push(AS(u,e+f+r))})),n.text&&(a.text=n.text),a}function Wf(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n-1),o=jf(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}const dY=(n,e,t,r=20)=>{const i=n.doc.resolve(t);let s=r,o=null;for(;s>0&&o===null;){const l=i.node(s);(l==null?void 0:l.type.name)===e?o=l:s-=1}return[o,s]};function tl(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function cu(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?bi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(c=>s?s.name===c.type.name:!0).find(c=>El(c.attrs,t,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:c,$to:d})=>{const h=c.pos,p=d.pos;n.doc.nodesBetween(h,p,(g,_)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(h,_),v=Math.min(p,_+g.nodeSize),E=v-b;o+=E,l.push(...g.marks.map(k=>({mark:k,from:b,to:v})))})}),o===0)return!1;const a=l.filter(c=>s?s.name===c.mark.type.name:!0).filter(c=>El(c.mark.attrs,t,{strict:!1})).reduce((c,d)=>c+d.to-d.from,0),u=l.filter(c=>s?c.mark.type!==s&&c.mark.type.excludes(s):!0).reduce((c,d)=>c+d.to-d.from,0);return(a>0?a+u:a)>=o}function OS(n,e,t={}){if(!e)return fo(n,null,t)||cu(n,null,t);const r=Zl(e,n.schema);return r==="node"?fo(n,e,t):r==="mark"?cu(n,e,t):!1}const hY=(n,e)=>{const{$from:t,$to:r,$anchor:i}=n.selection;if(e){const s=xl(l=>l.type.name===e)(n.selection);if(!s)return!1;const o=n.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},pY=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function Zd(n,e){const{nodeExtensions:t}=Jl(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ot(Ve(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function CS(n){var e;const t=(e=n.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=n.toJSON();return JSON.stringify(t)===JSON.stringify(r)}function MS(n){return n instanceof Ke}function Xp(n,e,t){const i=n.state.doc.content.size,s=Br(e,0,i),o=Br(t,0,i),l=n.coordsAtPos(s),a=n.coordsAtPos(o,-1),u=Math.min(l.top,a.top),f=Math.max(l.bottom,a.bottom),c=Math.min(l.left,a.left),d=Math.max(l.right,a.right),h=d-c,p=f-u,b={top:u,bottom:f,left:c,right:d,width:h,height:p,x:c,y:u};return{...b,toJSON:()=>b}}function mY(n,e,t){var r;const{selection:i}=e;let s=null;if(Vf(i)&&(s=i.$cursor),s){const l=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(l)||!l.some(a=>a.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(l.pos,a.pos,(f,c,d)=>{if(u)return!1;if(f.isInline){const h=!d||d.type.allowsMarkType(t),p=!!t.isInSet(f.marks)||!f.marks.some(g=>g.type.excludes(t));u=h&&p}return!u}),u})}const gY=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:l}=s,a=bi(n,r.schema);if(i)if(o){const u=Ql(r,a);t.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const f=u.$from.pos,c=u.$to.pos;r.doc.nodesBetween(f,c,(d,h)=>{const p=Math.max(h,f),g=Math.min(h+d.nodeSize,c);d.marks.find(b=>b.type===a)?d.marks.forEach(b=>{a===b.type&&t.addMark(p,g,a.create({...b.attrs,...e}))}):t.addMark(p,g,a.create(e))})});return mY(r,t,a)},_Y=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),vY=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Xt(n,t.schema);return s.isTextblock?i().command(({commands:o})=>kb(s,e)(t)?!0:o.clearNodes()).command(({state:o})=>kb(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},bY=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Br(n,0,r.content.size),s=Ke.create(r,i);e.setSelection(s)}return!0},yY=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=st.atStart(r).from,l=st.atEnd(r).to,a=Br(i,o,l),u=Br(s,o,l),f=st.create(r,a,u);e.setSelection(f)}return!0},kY=n=>({state:e,dispatch:t})=>{const r=Xt(n,e.schema);return cJ(r)(e,t)};function Eb(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const wY=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:a}=s,u=i.extensionManager.attributes,f=tl(u,l.node().type.name,l.node().attrs);if(s instanceof Ke&&s.node.isBlock)return!l.parentOffset||!no(o,l.pos)?!1:(r&&(n&&Eb(t,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const c=a.parentOffset===a.parent.content.size;s instanceof st&&e.deleteSelection();const d=l.depth===0?void 0:yS(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=c&&d?[{type:d,attrs:f}]:void 0,p=no(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&no(e.doc,e.mapping.map(l.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:f}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),d&&!c&&!l.parentOffset&&l.parent.type!==d)){const g=e.mapping.map(l.before()),_=e.doc.resolve(g);l.node(-1).canReplaceWith(_.index(),_.index()+1,d)&&e.setNodeMarkup(e.mapping.map(l.before()),d)}n&&Eb(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},EY=n=>({tr:e,state:t,dispatch:r,editor:i})=>{var s;const o=Xt(n,t.schema),{$from:l,$to:a}=t.selection,u=t.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const f=l.node(-1);if(f.type!==o)return!1;const c=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let _=ye.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-b;M>=l.depth-3;M-=1)_=ye.from(l.node(M).copy(_));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,E=tl(c,l.node().type.name,l.node().attrs),k=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(E))||void 0;_=_.append(ye.from(o.createAndFill(null,k)||void 0));const N=l.before(l.depth-(b-1));e.replace(N,l.after(-v),new Be(_,4-b,0));let C=-1;e.doc.nodesBetween(N,e.doc.content.size,(M,D)=>{if(C>-1)return!1;M.isTextblock&&M.content.size===0&&(C=D+1)}),C>-1&&e.setSelection(st.near(e.doc.resolve(C))),e.scrollIntoView()}return!0}const d=a.pos===l.end()?f.contentMatchAt(0).defaultType:null,h=tl(c,f.type.name,f.attrs),p=tl(c,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const g=d?[{type:o,attrs:h},{type:d,attrs:p}]:[{type:o,attrs:h}];if(!no(e.doc,l.pos,2))return!1;if(r){const{selection:_,storedMarks:b}=t,{splittableMarks:v}=i.extensionManager,E=b||_.$to.parentOffset&&_.$from.marks();if(e.split(l.pos,2,g).scrollIntoView(),!E||!r)return!0;const k=E.filter(N=>v.includes(N.type.name));e.ensureMarks(k)}return!0},Xc=(n,e)=>{const t=xl(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&ts(n.doc,t.pos)&&n.join(t.pos),!0},Zc=(n,e)=>{const t=xl(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&ts(n.doc,r)&&n.join(r),!0},SY=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:a,commands:u,can:f})=>{const{extensions:c,splittableMarks:d}=i.extensionManager,h=Xt(n,o.schema),p=Xt(e,o.schema),{selection:g,storedMarks:_}=o,{$from:b,$to:v}=g,E=b.blockRange(v),k=_||g.$to.parentOffset&&g.$from.marks();if(!E)return!1;const N=xl(C=>Zd(C.type.name,c))(g);if(E.depth>=1&&N&&E.depth-N.depth<=1){if(N.node.type===h)return u.liftListItem(p);if(Zd(N.node.type.name,c)&&h.validContent(N.node.content)&&l)return a().command(()=>(s.setNodeMarkup(N.pos,h),!0)).command(()=>Xc(s,h)).command(()=>Zc(s,h)).run()}return!t||!k||!l?a().command(()=>f().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>Xc(s,h)).command(()=>Zc(s,h)).run():a().command(()=>{const C=f().wrapInList(h,r),M=k.filter(D=>d.includes(D.type.name));return s.ensureMarks(M),C?!0:u.clearNodes()}).wrapInList(h,r).command(()=>Xc(s,h)).command(()=>Zc(s,h)).run()},TY=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=bi(n,r.schema);return cu(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},AY=(n,e,t={})=>({state:r,commands:i})=>{const s=Xt(n,r.schema),o=Xt(e,r.schema);return fo(r,s,t)?i.setNode(o):i.setNode(s,t)},OY=(n,e={})=>({state:t,commands:r})=>{const i=Xt(n,t.schema);return fo(t,i,e)?r.lift(i):r.wrapIn(i,e)},CY=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},MY=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},PY=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=t,a=bi(n,r.schema),{$from:u,empty:f,ranges:c}=l;if(!i)return!0;if(f&&o){let{from:d,to:h}=l;const p=(s=u.marks().find(_=>_.type===a))===null||s===void 0?void 0:s.attrs,g=jf(u,a,p);g&&(d=g.from,h=g.to),t.removeMark(d,h,a)}else c.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,a)});return t.removeStoredMark(a),!0},NY=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=Zl(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=Xt(n,r.schema)),l==="mark"&&(o=bi(n,r.schema)),i&&t.selection.ranges.forEach(a=>{const u=a.$from.pos,f=a.$to.pos;r.doc.nodesBetween(u,f,(c,d)=>{s&&s===c.type&&t.setNodeMarkup(d,void 0,{...c.attrs,...e}),o&&c.marks.length&&c.marks.forEach(h=>{if(o===h.type){const p=Math.max(d,u),g=Math.min(d+c.nodeSize,f);t.addMark(p,g,o.create({...h.attrs,...e}))}})})}),!0):!1},DY=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return sJ(i,e)(t,r)},RY=(n,e={})=>({state:t,dispatch:r})=>{const i=Xt(n,t.schema);return oJ(i,e)(t,r)};var IY=Object.freeze({__proto__:null,blur:vJ,clearContent:bJ,clearNodes:yJ,command:kJ,createParagraphNear:wJ,cut:EJ,deleteCurrentNode:SJ,deleteNode:TJ,deleteRange:AJ,deleteSelection:OJ,enter:CJ,exitCode:MJ,extendMarkRange:NJ,first:DJ,focus:RJ,forEach:IJ,insertContent:$J,insertContentAt:zJ,joinUp:BJ,joinDown:FJ,joinBackward:jJ,joinForward:VJ,joinItemBackward:HJ,joinItemForward:UJ,joinTextblockBackward:WJ,joinTextblockForward:qJ,keyboardShortcut:KJ,lift:JJ,liftEmptyBlock:YJ,liftListItem:XJ,newlineInCode:ZJ,resetAttributes:QJ,scrollIntoView:xJ,selectAll:eY,selectNodeBackward:tY,selectNodeForward:nY,selectParentNode:rY,selectTextblockEnd:iY,selectTextblockStart:sY,setContent:oY,setMark:gY,setMeta:_Y,setNode:vY,setNodeSelection:bY,setTextSelection:yY,sinkListItem:kY,splitBlock:wY,splitListItem:EY,toggleList:SY,toggleMark:TY,toggleNode:AY,toggleWrap:OY,undoInputRule:CY,unsetAllMarks:MY,unsetMark:PY,updateAttributes:NY,wrapIn:DY,wrapInList:RY});const $Y=Yn.create({name:"commands",addCommands(){return{...IY}}}),LY=Yn.create({name:"editable",addProseMirrorPlugins(){return[new cn({key:new Jn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zY=Yn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new cn({key:new Jn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),BY=Yn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:f,$anchor:c}=a,{pos:d,parent:h}=c,p=c.parent.isTextblock?l.doc.resolve(d-1):c,g=p.parent.type.spec.isolating,_=c.pos-c.parentOffset,b=g&&p.parent.childCount===1?_===c.pos:ht.atStart(u).from===d;return!f||!b||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Xl()||Hf()?s:i},addProseMirrorPlugins(){return[new cn({key:new Jn("clearDocument"),appendTransaction:(n,e,t)=>{if(!(n.some(p=>p.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:i,from:s,to:o}=e.selection,l=ht.atStart(e.doc).from,a=ht.atEnd(e.doc).to;if(i||!(s===l&&o===a)||!(t.doc.textBetween(0,t.doc.content.size," "," ").length===0))return;const c=t.tr,d=Gl({state:t,transaction:c}),{commands:h}=new Kl({editor:this.editor,state:d});if(h.clearNodes(),!!c.steps.length)return c}})]}}),FY=Yn.create({name:"tabindex",addProseMirrorPlugins(){return[new cn({key:new Jn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var PS=Object.freeze({__proto__:null,ClipboardTextSerializer:_J,Commands:$Y,Editable:LY,FocusEvents:zY,Keymap:BY,Tabindex:FY});class Ai{constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ai(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ai(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ai(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=this.pos+r+(i?0:1),o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const l=new Ai(o,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new Ai(o,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let l=0;l<o.length;l+=1){const a=o[l];if(s[a]!==t[a])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];return this.isBlock||!this.children||this.children.length===0||this.children.forEach(s=>{if(s.node.type.name===e){if(Object.keys(t).length>0){const o=s.node.attrs,l=Object.keys(t);for(let a=0;a<l.length;a+=1){const u=l[a];if(o[u]!==t[u])return}}if(i.push(s),r)return}i=i.concat(s.querySelectorAll(e))}),i}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}const jY=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function NS(n,e,t){const r=document.querySelector(`style[data-tiptap-style${t?`-${t}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${t?`-${t}`:""}`,""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let VY=class extends dJ{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=NS(jY,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Hp(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});this.view.updateState(r)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(PS):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new gs(t,this)}createCommandManager(){this.commandManager=new Kl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Gp(this.options.content,this.schema,this.options.parseOptions),t=qp(e,this.options.autofocus);this.view=new NK(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Xs.create({doc:e,selection:t||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Yp(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return OS(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Kp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Jp(this.state.doc,{blockSeparator:t,textSerializers:{...Ff(this.schema),...r}})}get isEmpty(){return CS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ai(t,this)}get $doc(){return this.$pos(0)}};function Wi(n){return new Do({find:n.find,handler:({state:e,range:t,match:r})=>{const i=ot(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const a=l.search(/\S/),u=t.from+l.indexOf(o),f=u+o.length;if(Wf(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===n.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;f<t.to&&s.delete(f,t.to),u>t.from&&s.delete(t.from+a,u);const d=t.from+a+o.length;s.addMark(t.from+a,d,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function DS(n){return new Do({find:n.find,handler:({state:e,range:t,match:r})=>{const i=ot(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let l=t.to;const a=n.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=o+u;f>l?f=l:l=f+r[1].length;const c=r[0][r[0].length-1];s.insertText(c,o+r[0].length-1),s.replaceWith(f,l,a)}else r[0]&&s.insert(o-1,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l));s.scrollIntoView()}})}function du(n){return new Do({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=ot(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function HY(n){return new Do({find:n.find,handler:({state:e,range:t,match:r})=>{let i=n.replace,s=t.from;const o=t.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),s+=l;const a=s-o;a>0&&(i=r[0].slice(l-a,l)+i,s=o)}e.tr.insertText(i,s,o)}})}function co(n){return new Do({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=ot(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),a=o.doc.resolve(t.from).blockRange(),u=a&&Mp(a,n.type,s);if(!u)return null;if(o.wrap(a,u),n.keepMarks&&n.editor){const{selection:c,storedMarks:d}=e,{splittableMarks:h}=n.editor.extensionManager,p=d||c.$to.parentOffset&&c.$from.marks();if(p){const g=p.filter(_=>h.includes(_.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const c=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(c,s).run()}const f=o.doc.resolve(t.from-1).nodeBefore;f&&f.type===n.type&&ts(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,f))&&o.join(t.from-1)}})}class Gn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(Ve(this,"addOptions",{name:this.name}))),this.storage=ot(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Gn(e)}configure(e={}){const t=this.extend();return t.options=Yl(this.options,e),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Gn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(Ve(t,"addOptions",{name:t.name})),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===t.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===t.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class un{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(Ve(this,"addOptions",{name:this.name}))),this.storage=ot(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new un(e)}configure(e={}){const t=this.extend();return t.options=Yl(this.options,e),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new un({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(Ve(t,"addOptions",{name:t.name})),t.storage=ot(Ve(t,"addStorage",{name:t.name,options:t.options})),t}}function UY(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class WY{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,s,o,l,a;const{view:u}=this.editor,f=e.target,c=f.nodeType===3?(t=f.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(f)||!c)return;let d=0,h=0;if(this.dom!==c){const _=this.dom.getBoundingClientRect(),b=c.getBoundingClientRect(),v=(i=e.offsetX)!==null&&i!==void 0?i:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,E=(o=e.offsetY)!==null&&o!==void 0?o:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;d=b.x-_.x+v,h=b.y-_.y+E}(a=e.dataTransfer)===null||a===void 0||a.setDragImage(this.dom,d,h);const p=Ke.create(u.state.doc,this.getPos()),g=u.state.tr.setSelection(p);u.dispatch(g)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const s=e.type.startsWith("drag"),o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!s)return!0;const{isEditable:a}=this.editor,{isDragging:u}=this,f=!!this.node.type.spec.draggable,c=Ke.isSelectable(this.node),d=e.type==="copy",h=e.type==="paste",p=e.type==="cut",g=e.type==="mousedown";if(!f&&c&&s&&e.preventDefault(),f&&s&&!u)return e.preventDefault(),!1;if(f&&a&&!u&&g){const _=r.closest("[data-drag-handle]");_&&(this.dom===_||this.dom.contains(_))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||d||h||p||g&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Xl()||UY())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function ui(n){return new Bf({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=ot(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],a=r[0];let u=t.to;if(l){const f=a.search(/\S/),c=t.from+a.indexOf(l),d=c+l.length;if(Wf(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(_=>_===n.type&&_!==p.mark.type)).filter(p=>p.to>c).length)return null;d<t.to&&o.delete(d,t.to),c>t.from&&o.delete(t.from+f,c),u=t.from+f+l.length,o.addMark(t.from+f,u,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function qY(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function GY(n){return typeof n=="string"}function KY(n){return new Bf({find:n.find,handler({match:e,chain:t,range:r,pasteEvent:i}){const s=ot(n.getAttributes,void 0,e,i);if(s===!1||s===null)return null;e.input&&t().deleteRange(r).insertContentAt(r.from,{type:n.type.name,attrs:s})}})}function JY(n){return new Bf({find:n.find,handler:({state:e,range:t,match:r})=>{let i=n.replace,s=t.from;const o=t.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),s+=l;const a=s-o;a>0&&(i=r[0].slice(l-a,l)+i,s=o)}e.tr.insertText(i,s,o)}})}class YY{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let t=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((i,s)=>{const o=s.getMap().mapResult(i);return o.deleted&&(t=!0),o.pos},e),deleted:t}}}const XY=Object.freeze(Object.defineProperty({__proto__:null,CommandManager:Kl,Editor:VY,Extension:Yn,InputRule:Do,Mark:Gn,Node:un,NodePos:Ai,NodeView:WY,PasteRule:Bf,Tracker:YY,callOrReturn:ot,combineTransactionSteps:bS,createChainableState:Gl,createDocument:Gp,createNodeFromContent:Sl,createStyleTag:NS,defaultBlockAt:yS,deleteProps:Xd,elementFromString:fu,escapeForRegEx:qY,extensions:PS,findChildren:lY,findChildrenInRange:kS,findDuplicates:gS,findParentNode:xl,findParentNodeClosestToPos:wS,fromString:cS,generateHTML:aY,generateJSON:uY,generateText:fY,getAttributes:Yp,getAttributesFromExtensions:Vp,getChangedRanges:TS,getDebugJSON:AS,getExtensionField:Ve,getHTMLFromFragment:Kp,getMarkAttributes:Ql,getMarkRange:jf,getMarkType:bi,getMarksBetween:Wf,getNodeAtPosition:dY,getNodeAttributes:ES,getNodeType:Xt,getRenderedAttributes:uu,getSchema:Uf,getSchemaByResolvedExtensions:Up,getSchemaTypeByName:Oa,getSchemaTypeNameByName:Zl,getSplittedAttributes:tl,getText:Jp,getTextBetween:Wp,getTextContentFromNodes:dS,getTextSerializersFromSchema:Ff,injectExtensionAttributesToParseRule:Gd,inputRulesPlugin:hS,isActive:OS,isAtEndOfNode:hY,isAtStartOfNode:pY,isEmptyObject:fS,isExtensionRulesEnabled:Kd,isFunction:Hp,isList:Zd,isMacOS:Hf,isMarkActive:cu,isNodeActive:fo,isNodeEmpty:CS,isNodeSelection:MS,isNumber:pS,isPlainObject:Ca,isRegExp:zf,isString:GY,isTextSelection:Vf,isiOS:Xl,markInputRule:Wi,markPasteRule:ui,mergeAttributes:Bt,mergeDeep:Yl,minMax:Br,nodeInputRule:DS,nodePasteRule:KY,objectIncludes:El,pasteRulesPlugin:mS,posToDOMRect:Xp,removeDuplicates:SS,resolveFocusPosition:qp,selectionToInsertionEnd:vS,splitExtensions:Jl,textInputRule:HY,textPasteRule:JY,textblockTypeInputRule:du,wrappingInputRule:co},Symbol.toStringTag,{value:"Module"})),ZY=/^\s*>\s$/,QY=un.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[co({find:ZY,type:this.type})]}}),xY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,eX=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,tX=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,nX=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,rX=Gn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Wi({find:xY,type:this.type}),Wi({find:tX,type:this.type})]},addPasteRules(){return[ui({find:eX,type:this.type}),ui({find:nX,type:this.type})]}}),iX=un.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Bt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Sb=Gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Ql(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),Tb=/^\s*([-+*])\s$/,sX=un.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iX.name,this.editor.getAttributes(Sb.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=co({find:Tb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=co({find:Tb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Sb.name),editor:this.editor})),[n]}}),oX=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,lX=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,aX=Gn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Wi({find:oX,type:this.type})]},addPasteRules(){return[ui({find:lX,type:this.type})]}}),uX=/^```([a-z]+)?[\s\n]$/,fX=/^~~~([a-z]+)?[\s\n]$/,cX=un.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Bt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:n.commands.exitCode()}}},addInputRules(){return[du({find:uX,type:this.type,getAttributes:n=>({language:n[1]})}),du({find:fX,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new cn({key:new Jn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o}=n.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(st.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(t.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),dX=un.create({name:"doc",topNode:!0,content:"block+"});function hX(n={}){return new cn({view(e){return new pX(e,n)}})}class pX{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let f=u.getBoundingClientRect(),c=l?f.bottom:f.top;l&&a&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:c-this.width/2,bottom:c+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=g2(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const mX=Yn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hX(this.options)]}});class jt extends ht{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return jt.valid(r)?new jt(r):ht.near(r)}content(){return Be.empty}eq(e){return e instanceof jt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new jt(e.resolve(t.pos))}getBookmark(){return new Zp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!gX(e)||!_X(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&jt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(t>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let a=e.doc.resolve(i);if(jt.valid(a))return a}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let l=e.doc.resolve(i);if(jt.valid(l))return l}return null}}}jt.prototype.visible=!1;jt.findFrom=jt.findGapCursorFrom;ht.jsonID("gapcursor",jt);class Zp{constructor(e){this.pos=e}map(e){return new Zp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return jt.valid(t)?new jt(t):ht.near(t)}}function gX(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _X(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function vX(){return new cn({props:{decorations:wX,createSelectionBetween(n,e,t){return e.pos==t.pos&&jt.valid(t)?new jt(t):null},handleClick:yX,handleKeyDown:bX,handleDOMEvents:{beforeinput:kX}}})}const bX=rS({ArrowLeft:pa("horiz",-1),ArrowRight:pa("horiz",1),ArrowUp:pa("vert",-1),ArrowDown:pa("vert",1)});function pa(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof st){if(!s.endOfTextblock(t)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=jt.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new jt(u))),!0):!1}}function yX(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!jt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ke.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new jt(r))),!0)}function kX(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof jt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ye.empty;for(let o=r.length-1;o>=0;o--)i=ye.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new Be(i,0,0));return s.setSelection(st.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function wX(n){if(!(n.selection instanceof jt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Jt.create(n.doc,[rr.widget(n.selection.head,e,{key:"gapcursor"})])}const EX=Yn.create({name:"gapCursor",addProseMirrorPlugins(){return[vX()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ot(Ve(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),SX=un.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Bt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&a&&o){const c=a.filter(d=>l.includes(d.type.name));u.ensureMarks(c)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),TX=un.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>du({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var hu=200,tn=function(){};tn.prototype.append=function(e){return e.length?(e=tn.from(e),!this.length&&e||e.length<hu&&this.leafAppend(e)||this.length<hu&&e.leafPrepend(this)||this.appendInner(e)):this};tn.prototype.prepend=function(e){return e.length?tn.from(e).append(this):this};tn.prototype.appendInner=function(e){return new AX(this,e)};tn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?tn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};tn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};tn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};tn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};tn.from=function(e){return e instanceof tn?e:e&&e.length?new RS(e):tn.empty};var RS=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=hu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=hu)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(tn);tn.empty=new RS([]);var AX=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(tn);const OX=500;class yr{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,u=[],f=[];return this.items.forEach((c,d)=>{if(!c.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,f.push(c);return}if(i){f.push(new Mr(c.map));let h=c.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new Mr(p,void 0,void 0,u.length+f.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(c.step);if(c.selection)return l=i?c.selection.map(i.slice(s)):c.selection,a=new yr(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,t,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let c=e.steps[f].invert(e.docs[f]),d=new Mr(e.mapping.maps[f],c,t),h;(h=a&&a.merge(d))&&(d=h,f?s.pop():l=l.slice(0,l.length-1)),s.push(d),t&&(o++,t=void 0),i||(a=d)}let u=o-r.depth;return u>MX&&(l=CX(l,u),o-=u),new yr(l.append(s),o)}remapping(e,t){let r=new to;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new yr(this.items.append(e.map(t=>new Mr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let a=t;this.items.forEach(d=>{let h=s.getMirror(--a);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(d.step){let g=e.steps[h].invert(e.docs[h]),_=d.selection&&d.selection.map(s.slice(a+1,h));_&&l++,r.push(new Mr(p,g,_))}else r.push(new Mr(p))},i);let u=[];for(let d=t;d<o;d++)u.push(new Mr(s.maps[d]));let f=this.items.slice(0,i).append(u).append(r),c=new yr(f,l);return c.emptyItemCount()>OX&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(t.slice(r)),u=a&&a.getMap();if(r--,u&&t.appendMap(u,r),a){let f=o.selection&&o.selection.map(t.slice(r));f&&s++;let c=new Mr(u.invert(),a,f),d,h=i.length-1;(d=i.length&&i[h].merge(c))?i[h]=d:i.push(c)}}else o.map&&r--},this.items.length,0),new yr(tn.from(i.reverse()),s)}}yr.empty=new yr(tn.empty,0);function CX(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Mr{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Mr(t.getMap().invert(),t,this.selection)}}}class Ei{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const MX=20;function PX(n,e,t,r){let i=t.getMeta(ws),s;if(i)return i.historyState;t.getMeta(RX)&&(n=new Ei(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(ws))return o.getMeta(ws).redo?new Ei(n.done.addTransform(t,void 0,r,Ma(e)),n.undone,Ab(t.mapping.maps[t.steps.length-1]),n.prevTime,n.prevComposition):new Ei(n.done,n.undone.addTransform(t,void 0,r,Ma(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),a=n.prevTime==0||!o&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!NX(t,n.prevRanges)),u=o?Qc(n.prevRanges,t.mapping):Ab(t.mapping.maps[t.steps.length-1]);return new Ei(n.done.addTransform(t,a?e.selection.getBookmark():void 0,r,Ma(e)),yr.empty,u,t.time,l??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Ei(n.done.rebased(t,s),n.undone.rebased(t,s),Qc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ei(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Qc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function NX(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function Ab(n){let e=[];return n.forEach((t,r,i,s)=>e.push(i,s)),e}function Qc(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function DX(n,e,t){let r=Ma(e),i=ws.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),a=new Ei(t?l:s.remaining,t?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(ws,{redo:t,historyState:a})}let xc=!1,Ob=null;function Ma(n){let e=n.plugins;if(Ob!=e){xc=!1,Ob=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){xc=!0;break}}return xc}const ws=new Jn("history"),RX=new Jn("closeHistory");function IX(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new cn({key:ws,state:{init(){return new Ei(yr.empty,yr.empty,null,0,-1)},apply(e,t,r){return PX(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?$S:r=="historyRedo"?LS:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function IS(n,e){return(t,r)=>{let i=ws.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=DX(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const $S=IS(!1,!0),LS=IS(!0,!0),$X=Yn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>$S(n,e),redo:()=>({state:n,dispatch:e})=>LS(n,e)}},addProseMirrorPlugins(){return[IX(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),LX=un.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Bt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{$to:t}=e.selection,r=n();return t.parentOffset===0?r.insertContentAt(Math.max(t.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:s})=>{var o;if(s){const{$to:l}=i.selection,a=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(st.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(Ke.create(i.doc,l.pos)):i.setSelection(st.create(i.doc,l.pos));else{const u=(o=l.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(i.insert(a,u),i.setSelection(st.create(i.doc,a+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[DS({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),zX=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,BX=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,FX=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,jX=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,VX=Gn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Wi({find:zX,type:this.type}),Wi({find:FX,type:this.type})]},addPasteRules(){return[ui({find:BX,type:this.type}),ui({find:jX,type:this.type})]}}),HX=un.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Bt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UX=un.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Bt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Cb=Gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=Ql(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),Mb=/^(\d+)\.\s$/,WX=un.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Bt(this.options.HTMLAttributes,t),0]:["ol",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(UX.name,this.editor.getAttributes(Cb.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=co({find:Mb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=co({find:Mb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Cb.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),qX=un.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),GX=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,KX=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,JX=Gn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){const n={};return Hf()?n["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():n["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),n},addInputRules(){return[Wi({find:GX,type:this.type})]},addPasteRules(){return[ui({find:KX,type:this.type})]}}),YX=un.create({name:"text",group:"inline"}),XX=Yn.create({name:"starterKit",addExtensions(){var n,e,t,r,i,s,o,l,a,u,f,c,d,h,p,g,_,b;const v=[];return this.options.blockquote!==!1&&v.push(QY.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&v.push(rX.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&v.push(sX.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&v.push(aX.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&v.push(cX.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&v.push(dX.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&v.push(mX.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&v.push(EX.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&v.push(SX.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&v.push(TX.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&v.push($X.configure((f=this.options)===null||f===void 0?void 0:f.history)),this.options.horizontalRule!==!1&&v.push(LX.configure((c=this.options)===null||c===void 0?void 0:c.horizontalRule)),this.options.italic!==!1&&v.push(VX.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&v.push(HX.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&v.push(WX.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&v.push(qX.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&v.push(JX.configure((_=this.options)===null||_===void 0?void 0:_.strike)),this.options.text!==!1&&v.push(YX.configure((b=this.options)===null||b===void 0?void 0:b.text)),v}}),ZX=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,QX=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,xX=Gn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Wi({find:ZX,type:this.type})]},addPasteRules(){return[ui({find:QX,type:this.type})]}}),eZ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",tZ="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ho=(n,e)=>{for(const t in e)n[t]=e[t];return n},Qd="numeric",xd="ascii",eh="alpha",Pa="asciinumeric",ma="alphanumeric",th="domain",zS="emoji",nZ="scheme",rZ="slashscheme",Pb="whitespace";function iZ(n,e){return n in e||(e[n]=[]),e[n]}function _s(n,e,t){e[Qd]&&(e[Pa]=!0,e[ma]=!0),e[xd]&&(e[Pa]=!0,e[eh]=!0),e[Pa]&&(e[ma]=!0),e[eh]&&(e[ma]=!0),e[ma]&&(e[th]=!0),e[zS]&&(e[th]=!0);for(const r in e){const i=iZ(r,t);i.indexOf(n)<0&&i.push(n)}}function sZ(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Cn(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}Cn.groups={};Cn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Cn.groups;let i;return e&&e.j?i=e:(i=new Cn(e),t&&r&&_s(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(n[o]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||Cn.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let o,l=i.go(n);if(l?(o=new Cn,ho(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Cn,s){if(r)if(o.t&&typeof o.t=="string"){const a=ho(sZ(o.t,r),t);_s(s,a,r)}else t&&_s(s,t,r);o.t=s}return i.j[n]=o,o}};const dt=(n,e,t,r,i)=>n.ta(e,t,r,i),Qn=(n,e,t,r,i)=>n.tr(e,t,r,i),Nb=(n,e,t,r,i)=>n.ts(e,t,r,i),Ce=(n,e,t,r,i)=>n.tt(e,t,r,i),ni="WORD",nh="UWORD",Tl="LOCALHOST",rh="TLD",ih="UTLD",Na="SCHEME",Js="SLASH_SCHEME",Qp="NUM",BS="WS",xp="NL",nl="OPENBRACE",rl="CLOSEBRACE",pu="OPENBRACKET",mu="CLOSEBRACKET",gu="OPENPAREN",_u="CLOSEPAREN",vu="OPENANGLEBRACKET",bu="CLOSEANGLEBRACKET",yu="FULLWIDTHLEFTPAREN",ku="FULLWIDTHRIGHTPAREN",wu="LEFTCORNERBRACKET",Eu="RIGHTCORNERBRACKET",Su="LEFTWHITECORNERBRACKET",Tu="RIGHTWHITECORNERBRACKET",Au="FULLWIDTHLESSTHAN",Ou="FULLWIDTHGREATERTHAN",Cu="AMPERSAND",Mu="APOSTROPHE",Pu="ASTERISK",Si="AT",Nu="BACKSLASH",Du="BACKTICK",Ru="CARET",Oi="COLON",em="COMMA",Iu="DOLLAR",Pr="DOT",$u="EQUALS",tm="EXCLAMATION",Nr="HYPHEN",Lu="PERCENT",zu="PIPE",Bu="PLUS",Fu="POUND",ju="QUERY",nm="QUOTE",rm="SEMI",Dr="SLASH",il="TILDE",Vu="UNDERSCORE",FS="EMOJI",Hu="SYM";var jS=Object.freeze({__proto__:null,WORD:ni,UWORD:nh,LOCALHOST:Tl,TLD:rh,UTLD:ih,SCHEME:Na,SLASH_SCHEME:Js,NUM:Qp,WS:BS,NL:xp,OPENBRACE:nl,CLOSEBRACE:rl,OPENBRACKET:pu,CLOSEBRACKET:mu,OPENPAREN:gu,CLOSEPAREN:_u,OPENANGLEBRACKET:vu,CLOSEANGLEBRACKET:bu,FULLWIDTHLEFTPAREN:yu,FULLWIDTHRIGHTPAREN:ku,LEFTCORNERBRACKET:wu,RIGHTCORNERBRACKET:Eu,LEFTWHITECORNERBRACKET:Su,RIGHTWHITECORNERBRACKET:Tu,FULLWIDTHLESSTHAN:Au,FULLWIDTHGREATERTHAN:Ou,AMPERSAND:Cu,APOSTROPHE:Mu,ASTERISK:Pu,AT:Si,BACKSLASH:Nu,BACKTICK:Du,CARET:Ru,COLON:Oi,COMMA:em,DOLLAR:Iu,DOT:Pr,EQUALS:$u,EXCLAMATION:tm,HYPHEN:Nr,PERCENT:Lu,PIPE:zu,PLUS:Bu,POUND:Fu,QUERY:ju,QUOTE:nm,SEMI:rm,SLASH:Dr,TILDE:il,UNDERSCORE:Vu,EMOJI:FS,SYM:Hu});const Ws=/[a-z]/,ed=/\p{L}/u,td=/\p{Emoji}/u,nd=/\d/,Db=/\s/,Rb=`
`,oZ="️",lZ="‍";let ga=null,_a=null;function aZ(n){n===void 0&&(n=[]);const e={};Cn.groups=e;const t=new Cn;ga==null&&(ga=Ib(eZ)),_a==null&&(_a=Ib(tZ)),Ce(t,"'",Mu),Ce(t,"{",nl),Ce(t,"}",rl),Ce(t,"[",pu),Ce(t,"]",mu),Ce(t,"(",gu),Ce(t,")",_u),Ce(t,"<",vu),Ce(t,">",bu),Ce(t,"（",yu),Ce(t,"）",ku),Ce(t,"「",wu),Ce(t,"」",Eu),Ce(t,"『",Su),Ce(t,"』",Tu),Ce(t,"＜",Au),Ce(t,"＞",Ou),Ce(t,"&",Cu),Ce(t,"*",Pu),Ce(t,"@",Si),Ce(t,"`",Du),Ce(t,"^",Ru),Ce(t,":",Oi),Ce(t,",",em),Ce(t,"$",Iu),Ce(t,".",Pr),Ce(t,"=",$u),Ce(t,"!",tm),Ce(t,"-",Nr),Ce(t,"%",Lu),Ce(t,"|",zu),Ce(t,"+",Bu),Ce(t,"#",Fu),Ce(t,"?",ju),Ce(t,'"',nm),Ce(t,"/",Dr),Ce(t,";",rm),Ce(t,"~",il),Ce(t,"_",Vu),Ce(t,"\\",Nu);const r=Qn(t,nd,Qp,{[Qd]:!0});Qn(r,nd,r);const i=Qn(t,Ws,ni,{[xd]:!0});Qn(i,Ws,i);const s=Qn(t,ed,nh,{[eh]:!0});Qn(s,Ws),Qn(s,ed,s);const o=Qn(t,Db,BS,{[Pb]:!0});Ce(t,Rb,xp,{[Pb]:!0}),Ce(o,Rb),Qn(o,Db,o);const l=Qn(t,td,FS,{[zS]:!0});Qn(l,td,l),Ce(l,oZ,l);const a=Ce(l,lZ);Qn(a,td,l);const u=[[Ws,i]],f=[[Ws,null],[ed,s]];for(let c=0;c<ga.length;c++)yi(t,ga[c],rh,ni,u);for(let c=0;c<_a.length;c++)yi(t,_a[c],ih,nh,f);_s(rh,{tld:!0,ascii:!0},e),_s(ih,{utld:!0,alpha:!0},e),yi(t,"file",Na,ni,u),yi(t,"mailto",Na,ni,u),yi(t,"http",Js,ni,u),yi(t,"https",Js,ni,u),yi(t,"ftp",Js,ni,u),yi(t,"ftps",Js,ni,u),_s(Na,{scheme:!0,ascii:!0},e),_s(Js,{slashscheme:!0,ascii:!0},e),n=n.sort((c,d)=>c[0]>d[0]?1:-1);for(let c=0;c<n.length;c++){const d=n[c][0],p=n[c][1]?{[nZ]:!0}:{[rZ]:!0};d.indexOf("-")>=0?p[th]=!0:Ws.test(d)?nd.test(d)?p[Pa]=!0:p[xd]=!0:p[Qd]=!0,Nb(t,d,d,p)}return Nb(t,"localhost",Tl,{ascii:!0}),t.jd=new Cn(Hu),{start:t,tokens:ho({groups:e},jS)}}function uZ(n,e){const t=fZ(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=t.length,i=[];let s=0,o=0;for(;o<r;){let l=n,a=null,u=0,f=null,c=-1,d=-1;for(;o<r&&(a=l.go(t[o]));)l=a,l.accepts()?(c=0,d=0,f=l):c>=0&&(c+=t[o].length,d++),u+=t[o].length,s+=t[o].length,o++;s-=c,o-=d,u-=c,i.push({t:f.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function fZ(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,o=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(o),r+=o.length}return e}function yi(n,e,t,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const a=e[l];n.j[a]?s=n.j[a]:(s=new Cn(r),s.jr=i.slice(),n.j[a]=s),n=s}return s=new Cn(t),s.jr=i.slice(),n.j[e[o-1]]=s,s}function Ib(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(r,r+s),10);o>0;o--)t.pop();r+=s}else t.push(n[r]),r++}return e}const Al={defaultProtocol:"http",events:null,format:$b,formatHref:$b,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function im(n,e){e===void 0&&(e=null);let t=ho({},Al);n&&(t=ho(t,n instanceof im?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}im.prototype={o:Al,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Al[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function $b(n){return n}function VS(n,e){this.t="token",this.v=n,this.tk=e}VS.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=Al.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),o={},l=n.get("className",t,e),a=n.get("target",t,e),u=n.get("rel",t,e),f=n.getObj("attributes",t,e),c=n.getObj("events",t,e);return o.href=r,l&&(o.class=l),a&&(o.target=a),u&&(o.rel=u),f&&ho(o,f),{tagName:i,attributes:o,content:s,eventListeners:c}}};function qf(n,e){class t extends VS{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Lb=qf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zb=qf("text"),cZ=qf("nl"),va=qf("url",{isLink:!0,toHref(n){return n===void 0&&(n=Al.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Tl&&n[1].t===Oi}}),xn=n=>new Cn(n);function dZ(n){let{groups:e}=n;const t=e.domain.concat([Cu,Pu,Si,Nu,Du,Ru,Iu,$u,Nr,Qp,Lu,zu,Bu,Fu,Dr,Hu,il,Vu]),r=[Mu,Oi,em,Pr,tm,ju,nm,rm,vu,bu,nl,rl,mu,pu,gu,_u,yu,ku,wu,Eu,Su,Tu,Au,Ou],i=[Cu,Mu,Pu,Nu,Du,Ru,Iu,$u,Nr,nl,rl,Lu,zu,Bu,Fu,ju,Dr,Hu,il,Vu],s=xn(),o=Ce(s,il);dt(o,i,o),dt(o,e.domain,o);const l=xn(),a=xn(),u=xn();dt(s,e.domain,l),dt(s,e.scheme,a),dt(s,e.slashscheme,u),dt(l,i,o),dt(l,e.domain,l);const f=Ce(l,Si);Ce(o,Si,f),Ce(a,Si,f),Ce(u,Si,f);const c=Ce(o,Pr);dt(c,i,o),dt(c,e.domain,o);const d=xn();dt(f,e.domain,d),dt(d,e.domain,d);const h=Ce(d,Pr);dt(h,e.domain,d);const p=xn(Lb);dt(h,e.tld,p),dt(h,e.utld,p),Ce(f,Tl,p);const g=Ce(d,Nr);dt(g,e.domain,d),dt(p,e.domain,d),Ce(p,Pr,h),Ce(p,Nr,g);const _=Ce(p,Oi);dt(_,e.numeric,Lb);const b=Ce(l,Nr),v=Ce(l,Pr);dt(b,e.domain,l),dt(v,i,o),dt(v,e.domain,l);const E=xn(va);dt(v,e.tld,E),dt(v,e.utld,E),dt(E,e.domain,l),dt(E,i,o),Ce(E,Pr,v),Ce(E,Nr,b),Ce(E,Si,f);const k=Ce(E,Oi),N=xn(va);dt(k,e.numeric,N);const C=xn(va),M=xn();dt(C,t,C),dt(C,r,M),dt(M,t,C),dt(M,r,M),Ce(E,Dr,C),Ce(N,Dr,C);const D=Ce(a,Oi),I=Ce(u,Oi),z=Ce(I,Dr),R=Ce(z,Dr);dt(a,e.domain,l),Ce(a,Pr,v),Ce(a,Nr,b),dt(u,e.domain,l),Ce(u,Pr,v),Ce(u,Nr,b),dt(D,e.domain,C),Ce(D,Dr,C),dt(R,e.domain,C),dt(R,t,C),Ce(R,Dr,C);const F=[[nl,rl],[pu,mu],[gu,_u],[vu,bu],[yu,ku],[wu,Eu],[Su,Tu],[Au,Ou]];for(let Z=0;Z<F.length;Z++){const[K,J]=F[Z],X=Ce(C,K);Ce(M,K,X),Ce(X,J,C);const ie=xn(va);dt(X,t,ie);const Ee=xn();dt(X,r),dt(ie,t,ie),dt(ie,r,Ee),dt(Ee,t,ie),dt(Ee,r,Ee),Ce(ie,J,C),Ce(Ee,J,C)}return Ce(s,Tl,E),Ce(s,xp,cZ),{start:s,tokens:jS}}function hZ(n,e,t){let r=t.length,i=0,s=[],o=[];for(;i<r;){let l=n,a=null,u=null,f=0,c=null,d=-1;for(;i<r&&!(a=l.go(t[i].t));)o.push(t[i++]);for(;i<r&&(u=a||l.go(t[i].t));)a=null,l=u,l.accepts()?(d=0,c=l):d>=0&&d++,i++,f++;if(d<0)i-=f,i<r&&(o.push(t[i]),i++);else{o.length>0&&(s.push(rd(zb,e,o)),o=[]),i-=d,f-=d;const h=c.t,p=t.slice(i-f,i);s.push(rd(h,e,p))}}return o.length>0&&s.push(rd(zb,e,o)),s}function rd(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const pZ=typeof console<"u"&&console&&console.warn||(()=>{}),mZ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",zt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function gZ(){Cn.groups={},zt.scanner=null,zt.parser=null,zt.tokenQueue=[],zt.pluginQueue=[],zt.customSchemes=[],zt.initialized=!1}function Bb(n,e){if(e===void 0&&(e=!1),zt.initialized&&pZ(`linkifyjs: already initialized - will not register custom scheme "${n}" ${mZ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);zt.customSchemes.push([n,e])}function _Z(){zt.scanner=aZ(zt.customSchemes);for(let n=0;n<zt.tokenQueue.length;n++)zt.tokenQueue[n][1]({scanner:zt.scanner});zt.parser=dZ(zt.scanner.tokens);for(let n=0;n<zt.pluginQueue.length;n++)zt.pluginQueue[n][1]({scanner:zt.scanner,parser:zt.parser});zt.initialized=!0}function vZ(n){return zt.initialized||_Z(),hZ(zt.parser.start,n,uZ(zt.scanner.start,n))}function sm(n,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new im(t),i=vZ(n),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}function bZ(n){return new cn({key:new Jn("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(u=>u.docChanged)&&!t.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,l=bS(t.doc,[...e]);if(TS(l).forEach(({newRange:u})=>{const f=kS(r.doc,u,h=>h.isTextblock);let c,d;if(f.length>1?(c=f[0],d=r.doc.textBetween(c.pos,c.pos+c.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(c=f[0],d=r.doc.textBetween(c.pos,u.to,void 0," ")),c&&d){const h=d.split(" ").filter(_=>_!=="");if(h.length<=0)return!1;const p=h[h.length-1],g=c.pos+d.lastIndexOf(p);if(!p)return!1;sm(p).filter(_=>_.isLink).map(_=>({..._,from:g+_.start+1,to:g+_.end+1})).filter(_=>r.schema.marks.code?!r.doc.rangeHasMark(_.from,_.to,r.schema.marks.code):!0).filter(_=>n.validate?n.validate(_.value):!0).forEach(_=>{Wf(_.from,_.to,r.doc).some(b=>b.mark.type===n.type)||o.addMark(_.from,_.to,n.type.create({href:_.href}))})}}),!!o.steps.length)return o}})}function yZ(n){return new cn({key:new Jn("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0)return!1;let o=r.target;const l=[];for(;o.nodeName!=="DIV";)l.push(o),o=o.parentNode;if(!l.find(d=>d.nodeName==="A"))return!1;const a=Yp(e.state,n.type.name),u=r.target,f=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:a.href,c=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:a.target;return u&&f?(window.open(f,c),!0):!1}}})}function kZ(n){return new cn({key:new Jn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const a=sm(l).find(u=>u.isLink&&u.value===l);return!l||!a?!1:(n.editor.commands.setMark(n.type,{href:a.href}),!0)}}})}const wZ=Gn.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(n=>{if(typeof n=="string"){Bb(n);return}Bb(n.scheme,n.optionalSlashes)})},onDestroy(){gZ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:n}){var e;return!((e=n.href)===null||e===void 0)&&e.startsWith("javascript:")?["a",Bt(this.options.HTMLAttributes,{...n,href:""}),0]:["a",Bt(this.options.HTMLAttributes,n),0]},addCommands(){return{setLink:n=>({chain:e})=>e().setMark(this.name,n).setMeta("preventAutolink",!0).run(),toggleLink:n=>({chain:e})=>e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ui({find:n=>{const e=[];if(n){const t=sm(n).filter(r=>r.isLink);t.length&&t.forEach(r=>e.push({text:r.value,data:{href:r.href},index:r.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[];return this.options.autolink&&n.push(bZ({type:this.type,validate:this.options.validate})),this.options.openOnClick&&n.push(yZ({type:this.type})),this.options.linkOnPaste&&n.push(kZ({editor:this.editor,type:this.type})),n}});var Nn="top",hr="bottom",pr="right",Dn="left",om="auto",ea=[Nn,hr,pr,Dn],po="start",Ol="end",EZ="clippingParents",HS="viewport",jo="popper",SZ="reference",Fb=ea.reduce(function(n,e){return n.concat([e+"-"+po,e+"-"+Ol])},[]),US=[].concat(ea,[om]).reduce(function(n,e){return n.concat([e,e+"-"+po,e+"-"+Ol])},[]),TZ="beforeRead",AZ="read",OZ="afterRead",CZ="beforeMain",MZ="main",PZ="afterMain",NZ="beforeWrite",DZ="write",RZ="afterWrite",IZ=[TZ,AZ,OZ,CZ,MZ,PZ,NZ,DZ,RZ];function Wr(n){return n?(n.nodeName||"").toLowerCase():null}function Kn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Rs(n){var e=Kn(n).Element;return n instanceof e||n instanceof Element}function ur(n){var e=Kn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function lm(n){if(typeof ShadowRoot>"u")return!1;var e=Kn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function $Z(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!ur(s)||!Wr(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var l=i[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function LZ(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),l=o.reduce(function(a,u){return a[u]="",a},{});!ur(i)||!Wr(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(a){i.removeAttribute(a)}))})}}const WS={name:"applyStyles",enabled:!0,phase:"write",fn:$Z,effect:LZ,requires:["computeStyles"]};function Fr(n){return n.split("-")[0]}var Es=Math.max,Uu=Math.min,mo=Math.round;function sh(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qS(){return!/^((?!chrome|android).)*safari/i.test(sh())}function go(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&ur(n)&&(i=n.offsetWidth>0&&mo(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&mo(r.height)/n.offsetHeight||1);var o=Rs(n)?Kn(n):window,l=o.visualViewport,a=!qS()&&t,u=(r.left+(a&&l?l.offsetLeft:0))/i,f=(r.top+(a&&l?l.offsetTop:0))/s,c=r.width/i,d=r.height/s;return{width:c,height:d,top:f,right:u+c,bottom:f+d,left:u,x:u,y:f}}function am(n){var e=go(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function GS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&lm(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fi(n){return Kn(n).getComputedStyle(n)}function zZ(n){return["table","td","th"].indexOf(Wr(n))>=0}function rs(n){return((Rs(n)?n.ownerDocument:n.document)||window.document).documentElement}function Gf(n){return Wr(n)==="html"?n:n.assignedSlot||n.parentNode||(lm(n)?n.host:null)||rs(n)}function jb(n){return!ur(n)||fi(n).position==="fixed"?null:n.offsetParent}function BZ(n){var e=/firefox/i.test(sh()),t=/Trident/i.test(sh());if(t&&ur(n)){var r=fi(n);if(r.position==="fixed")return null}var i=Gf(n);for(lm(i)&&(i=i.host);ur(i)&&["html","body"].indexOf(Wr(i))<0;){var s=fi(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ta(n){for(var e=Kn(n),t=jb(n);t&&zZ(t)&&fi(t).position==="static";)t=jb(t);return t&&(Wr(t)==="html"||Wr(t)==="body"&&fi(t).position==="static")?e:t||BZ(n)||e}function um(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function sl(n,e,t){return Es(n,Uu(e,t))}function FZ(n,e,t){var r=sl(n,e,t);return r>t?t:r}function KS(){return{top:0,right:0,bottom:0,left:0}}function JS(n){return Object.assign({},KS(),n)}function YS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var jZ=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,JS(typeof e!="number"?e:YS(e,ea))};function VZ(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,l=Fr(t.placement),a=um(l),u=[Dn,pr].indexOf(l)>=0,f=u?"height":"width";if(!(!s||!o)){var c=jZ(i.padding,t),d=am(s),h=a==="y"?Nn:Dn,p=a==="y"?hr:pr,g=t.rects.reference[f]+t.rects.reference[a]-o[a]-t.rects.popper[f],_=o[a]-t.rects.reference[a],b=ta(s),v=b?a==="y"?b.clientHeight||0:b.clientWidth||0:0,E=g/2-_/2,k=c[h],N=v-d[f]-c[p],C=v/2-d[f]/2+E,M=sl(k,C,N),D=a;t.modifiersData[r]=(e={},e[D]=M,e.centerOffset=M-C,e)}}function HZ(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||GS(e.elements.popper,i)&&(e.elements.arrow=i))}const UZ={name:"arrow",enabled:!0,phase:"main",fn:VZ,effect:HZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _o(n){return n.split("-")[1]}var WZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qZ(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:mo(t*i)/i||0,y:mo(r*i)/i||0}}function Vb(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,l=n.position,a=n.gpuAcceleration,u=n.adaptive,f=n.roundOffsets,c=n.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,g=p===void 0?0:p,_=typeof f=="function"?f({x:h,y:g}):{x:h,y:g};h=_.x,g=_.y;var b=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),E=Dn,k=Nn,N=window;if(u){var C=ta(t),M="clientHeight",D="clientWidth";if(C===Kn(t)&&(C=rs(t),fi(C).position!=="static"&&l==="absolute"&&(M="scrollHeight",D="scrollWidth")),C=C,i===Nn||(i===Dn||i===pr)&&s===Ol){k=hr;var I=c&&C===N&&N.visualViewport?N.visualViewport.height:C[M];g-=I-r.height,g*=a?1:-1}if(i===Dn||(i===Nn||i===hr)&&s===Ol){E=pr;var z=c&&C===N&&N.visualViewport?N.visualViewport.width:C[D];h-=z-r.width,h*=a?1:-1}}var R=Object.assign({position:l},u&&WZ),F=f===!0?qZ({x:h,y:g},Kn(t)):{x:h,y:g};if(h=F.x,g=F.y,a){var Z;return Object.assign({},R,(Z={},Z[k]=v?"0":"",Z[E]=b?"0":"",Z.transform=(N.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",Z))}return Object.assign({},R,(e={},e[k]=v?g+"px":"",e[E]=b?h+"px":"",e.transform="",e))}function GZ(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,l=t.roundOffsets,a=l===void 0?!0:l,u={placement:Fr(e.placement),variation:_o(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Vb(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Vb(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const KZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:GZ,data:{}};var ba={passive:!0};function JZ(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,a=Kn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(f){f.addEventListener("scroll",t.update,ba)}),l&&a.addEventListener("resize",t.update,ba),function(){s&&u.forEach(function(f){f.removeEventListener("scroll",t.update,ba)}),l&&a.removeEventListener("resize",t.update,ba)}}const YZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JZ,data:{}};var XZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Da(n){return n.replace(/left|right|bottom|top/g,function(e){return XZ[e]})}var ZZ={start:"end",end:"start"};function Hb(n){return n.replace(/start|end/g,function(e){return ZZ[e]})}function fm(n){var e=Kn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function cm(n){return go(rs(n)).left+fm(n).scrollLeft}function QZ(n,e){var t=Kn(n),r=rs(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,a=0;if(i){s=i.width,o=i.height;var u=qS();(u||!u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:l+cm(n),y:a}}function xZ(n){var e,t=rs(n),r=fm(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Es(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Es(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+cm(n),a=-r.scrollTop;return fi(i||t).direction==="rtl"&&(l+=Es(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:a}}function dm(n){var e=fi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function XS(n){return["html","body","#document"].indexOf(Wr(n))>=0?n.ownerDocument.body:ur(n)&&dm(n)?n:XS(Gf(n))}function ol(n,e){var t;e===void 0&&(e=[]);var r=XS(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Kn(r),o=i?[s].concat(s.visualViewport||[],dm(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(ol(Gf(o)))}function oh(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function eQ(n,e){var t=go(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Ub(n,e,t){return e===HS?oh(QZ(n,t)):Rs(e)?eQ(e,t):oh(xZ(rs(n)))}function tQ(n){var e=ol(Gf(n)),t=["absolute","fixed"].indexOf(fi(n).position)>=0,r=t&&ur(n)?ta(n):n;return Rs(r)?e.filter(function(i){return Rs(i)&&GS(i,r)&&Wr(i)!=="body"}):[]}function nQ(n,e,t,r){var i=e==="clippingParents"?tQ(n):[].concat(e),s=[].concat(i,[t]),o=s[0],l=s.reduce(function(a,u){var f=Ub(n,u,r);return a.top=Es(f.top,a.top),a.right=Uu(f.right,a.right),a.bottom=Uu(f.bottom,a.bottom),a.left=Es(f.left,a.left),a},Ub(n,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ZS(n){var e=n.reference,t=n.element,r=n.placement,i=r?Fr(r):null,s=r?_o(r):null,o=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,a;switch(i){case Nn:a={x:o,y:e.y-t.height};break;case hr:a={x:o,y:e.y+e.height};break;case pr:a={x:e.x+e.width,y:l};break;case Dn:a={x:e.x-t.width,y:l};break;default:a={x:e.x,y:e.y}}var u=i?um(i):null;if(u!=null){var f=u==="y"?"height":"width";switch(s){case po:a[u]=a[u]-(e[f]/2-t[f]/2);break;case Ol:a[u]=a[u]+(e[f]/2-t[f]/2);break}}return a}function Cl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,l=t.boundary,a=l===void 0?EZ:l,u=t.rootBoundary,f=u===void 0?HS:u,c=t.elementContext,d=c===void 0?jo:c,h=t.altBoundary,p=h===void 0?!1:h,g=t.padding,_=g===void 0?0:g,b=JS(typeof _!="number"?_:YS(_,ea)),v=d===jo?SZ:jo,E=n.rects.popper,k=n.elements[p?v:d],N=nQ(Rs(k)?k:k.contextElement||rs(n.elements.popper),a,f,o),C=go(n.elements.reference),M=ZS({reference:C,element:E,strategy:"absolute",placement:i}),D=oh(Object.assign({},E,M)),I=d===jo?D:C,z={top:N.top-I.top+b.top,bottom:I.bottom-N.bottom+b.bottom,left:N.left-I.left+b.left,right:I.right-N.right+b.right},R=n.modifiersData.offset;if(d===jo&&R){var F=R[i];Object.keys(z).forEach(function(Z){var K=[pr,hr].indexOf(Z)>=0?1:-1,J=[Nn,hr].indexOf(Z)>=0?"y":"x";z[Z]+=F[J]*K})}return z}function rQ(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,l=t.flipVariations,a=t.allowedAutoPlacements,u=a===void 0?US:a,f=_o(r),c=f?l?Fb:Fb.filter(function(p){return _o(p)===f}):ea,d=c.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=c);var h=d.reduce(function(p,g){return p[g]=Cl(n,{placement:g,boundary:i,rootBoundary:s,padding:o})[Fr(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function iQ(n){if(Fr(n)===om)return[];var e=Da(n);return[Hb(n),e,Hb(e)]}function sQ(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!0:o,a=t.fallbackPlacements,u=t.padding,f=t.boundary,c=t.rootBoundary,d=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,g=t.allowedAutoPlacements,_=e.options.placement,b=Fr(_),v=b===_,E=a||(v||!p?[Da(_)]:iQ(_)),k=[_].concat(E).reduce(function(Oe,B){return Oe.concat(Fr(B)===om?rQ(e,{placement:B,boundary:f,rootBoundary:c,padding:u,flipVariations:p,allowedAutoPlacements:g}):B)},[]),N=e.rects.reference,C=e.rects.popper,M=new Map,D=!0,I=k[0],z=0;z<k.length;z++){var R=k[z],F=Fr(R),Z=_o(R)===po,K=[Nn,hr].indexOf(F)>=0,J=K?"width":"height",X=Cl(e,{placement:R,boundary:f,rootBoundary:c,altBoundary:d,padding:u}),ie=K?Z?pr:Dn:Z?hr:Nn;N[J]>C[J]&&(ie=Da(ie));var Ee=Da(ie),Q=[];if(s&&Q.push(X[F]<=0),l&&Q.push(X[ie]<=0,X[Ee]<=0),Q.every(function(Oe){return Oe})){I=R,D=!1;break}M.set(R,Q)}if(D)for(var Me=p?3:1,ce=function(B){var we=k.find(function(x){var te=M.get(x);if(te)return te.slice(0,B).every(function(Ae){return Ae})});if(we)return I=we,"break"},de=Me;de>0;de--){var Te=ce(de);if(Te==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const oQ={name:"flip",enabled:!0,phase:"main",fn:sQ,requiresIfExists:["offset"],data:{_skip:!1}};function Wb(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function qb(n){return[Nn,pr,hr,Dn].some(function(e){return n[e]>=0})}function lQ(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Cl(e,{elementContext:"reference"}),l=Cl(e,{altBoundary:!0}),a=Wb(o,r),u=Wb(l,i,s),f=qb(a),c=qb(u);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}const aQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lQ};function uQ(n,e,t){var r=Fr(n),i=[Dn,Nn].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Dn,pr].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function fQ(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=US.reduce(function(f,c){return f[c]=uQ(c,e.rects,s),f},{}),l=o[e.placement],a=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const cQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fQ};function dQ(n){var e=n.state,t=n.name;e.modifiersData[t]=ZS({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const hQ={name:"popperOffsets",enabled:!0,phase:"read",fn:dQ,data:{}};function pQ(n){return n==="x"?"y":"x"}function mQ(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,l=o===void 0?!1:o,a=t.boundary,u=t.rootBoundary,f=t.altBoundary,c=t.padding,d=t.tether,h=d===void 0?!0:d,p=t.tetherOffset,g=p===void 0?0:p,_=Cl(e,{boundary:a,rootBoundary:u,padding:c,altBoundary:f}),b=Fr(e.placement),v=_o(e.placement),E=!v,k=um(b),N=pQ(k),C=e.modifiersData.popperOffsets,M=e.rects.reference,D=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,z=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(C){if(s){var Z,K=k==="y"?Nn:Dn,J=k==="y"?hr:pr,X=k==="y"?"height":"width",ie=C[k],Ee=ie+_[K],Q=ie-_[J],Me=h?-D[X]/2:0,ce=v===po?M[X]:D[X],de=v===po?-D[X]:-M[X],Te=e.elements.arrow,Oe=h&&Te?am(Te):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KS(),we=B[K],x=B[J],te=sl(0,M[X],Oe[X]),Ae=E?M[X]/2-Me-te-we-z.mainAxis:ce-te-we-z.mainAxis,it=E?-M[X]/2+Me+te+x+z.mainAxis:de+te+x+z.mainAxis,Nt=e.elements.arrow&&ta(e.elements.arrow),Ft=Nt?k==="y"?Nt.clientTop||0:Nt.clientLeft||0:0,ze=(Z=R==null?void 0:R[k])!=null?Z:0,bt=ie+Ae-ze-Ft,ve=ie+it-ze,ke=sl(h?Uu(Ee,bt):Ee,ie,h?Es(Q,ve):Q);C[k]=ke,F[k]=ke-ie}if(l){var ue,nt=k==="x"?Nn:Dn,Qe=k==="x"?hr:pr,pe=C[N],fe=N==="y"?"height":"width",Ue=pe+_[nt],Je=pe-_[Qe],qe=[Nn,Dn].indexOf(b)!==-1,ne=(ue=R==null?void 0:R[N])!=null?ue:0,Ge=qe?Ue:pe-M[fe]-D[fe]-ne+z.altAxis,Xe=qe?pe+M[fe]+D[fe]-ne-z.altAxis:Je,he=h&&qe?FZ(Ge,pe,Xe):sl(h?Ge:Ue,pe,h?Xe:Je);C[N]=he,F[N]=he-pe}e.modifiersData[r]=F}}const gQ={name:"preventOverflow",enabled:!0,phase:"main",fn:mQ,requiresIfExists:["offset"]};function _Q(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function vQ(n){return n===Kn(n)||!ur(n)?fm(n):_Q(n)}function bQ(n){var e=n.getBoundingClientRect(),t=mo(e.width)/n.offsetWidth||1,r=mo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function yQ(n,e,t){t===void 0&&(t=!1);var r=ur(e),i=ur(e)&&bQ(e),s=rs(e),o=go(n,i,t),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!t)&&((Wr(e)!=="body"||dm(s))&&(l=vQ(e)),ur(e)?(a=go(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=cm(s))),{x:o.left+l.scrollLeft-a.x,y:o.top+l.scrollTop-a.y,width:o.width,height:o.height}}function kQ(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!t.has(l)){var a=e.get(l);a&&i(a)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function wQ(n){var e=kQ(n);return IZ.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function EQ(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function SQ(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var Gb={placement:"bottom",modifiers:[],strategy:"absolute"};function Kb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function TQ(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?Gb:i;return function(l,a,u){u===void 0&&(u=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gb,s),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},c=[],d=!1,h={state:f,setOptions:function(b){var v=typeof b=="function"?b(f.options):b;g(),f.options=Object.assign({},s,f.options,v),f.scrollParents={reference:Rs(l)?ol(l):l.contextElement?ol(l.contextElement):[],popper:ol(a)};var E=wQ(SQ([].concat(r,f.options.modifiers)));return f.orderedModifiers=E.filter(function(k){return k.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var b=f.elements,v=b.reference,E=b.popper;if(Kb(v,E)){f.rects={reference:yQ(v,ta(E),f.options.strategy==="fixed"),popper:am(E)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(z){return f.modifiersData[z.name]=Object.assign({},z.data)});for(var k=0;k<f.orderedModifiers.length;k++){if(f.reset===!0){f.reset=!1,k=-1;continue}var N=f.orderedModifiers[k],C=N.fn,M=N.options,D=M===void 0?{}:M,I=N.name;typeof C=="function"&&(f=C({state:f,options:D,name:I,instance:h})||f)}}}},update:EQ(function(){return new Promise(function(_){h.forceUpdate(),_(f)})}),destroy:function(){g(),d=!0}};if(!Kb(l,a))return h;h.setOptions(u).then(function(_){!d&&u.onFirstUpdate&&u.onFirstUpdate(_)});function p(){f.orderedModifiers.forEach(function(_){var b=_.name,v=_.options,E=v===void 0?{}:v,k=_.effect;if(typeof k=="function"){var N=k({state:f,name:b,instance:h,options:E}),C=function(){};c.push(N||C)}})}function g(){c.forEach(function(_){return _()}),c=[]}return h}}var AQ=[YZ,hQ,KZ,WS,cQ,oQ,gQ,UZ,aQ],OQ=TQ({defaultModifiers:AQ}),CQ="tippy-box",QS="tippy-content",MQ="tippy-backdrop",xS="tippy-arrow",eT="tippy-svg-arrow",cs={passive:!0,capture:!0},tT=function(){return document.body};function id(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function hm(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function nT(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Jb(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function PQ(n){return n.split(/\s+/).filter(Boolean)}function Ys(n){return[].concat(n)}function Yb(n,e){n.indexOf(e)===-1&&n.push(e)}function NQ(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function DQ(n){return n.split("-")[0]}function Wu(n){return[].slice.call(n)}function Xb(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function ll(){return document.createElement("div")}function Kf(n){return["Element","Fragment"].some(function(e){return hm(n,e)})}function RQ(n){return hm(n,"NodeList")}function IQ(n){return hm(n,"MouseEvent")}function $Q(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function LQ(n){return Kf(n)?[n]:RQ(n)?Wu(n):Array.isArray(n)?n:Wu(document.querySelectorAll(n))}function sd(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Zb(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function zQ(n){var e,t=Ys(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function BQ(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,o=i.popperState,l=i.props,a=l.interactiveBorder,u=DQ(o.placement),f=o.modifiersData.offset;if(!f)return!0;var c=u==="bottom"?f.top.y:0,d=u==="top"?f.bottom.y:0,h=u==="right"?f.left.x:0,p=u==="left"?f.right.x:0,g=s.top-r+c>a,_=r-s.bottom-d>a,b=s.left-t+h>a,v=t-s.right-p>a;return g||_||b||v})}function od(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Qb(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var Rr={isTouch:!1},xb=0;function FQ(){Rr.isTouch||(Rr.isTouch=!0,window.performance&&document.addEventListener("mousemove",rT))}function rT(){var n=performance.now();n-xb<20&&(Rr.isTouch=!1,document.removeEventListener("mousemove",rT)),xb=n}function jQ(){var n=document.activeElement;if($Q(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function VQ(){document.addEventListener("touchstart",FQ,cs),window.addEventListener("blur",jQ)}var HQ=typeof window<"u"&&typeof document<"u",UQ=HQ?!!window.msCrypto:!1,WQ={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},qQ={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},kr=Object.assign({appendTo:tT,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},WQ,qQ),GQ=Object.keys(kr),KQ=function(e){var t=Object.keys(e);t.forEach(function(r){kr[r]=e[r]})};function iT(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var l;r[s]=n[s]!==void 0?n[s]:(l=kr[s])!=null?l:o}return r},{});return Object.assign({},n,t)}function JQ(n,e){var t=e?Object.keys(iT(Object.assign({},kr,{plugins:e}))):GQ,r=t.reduce(function(i,s){var o=(n.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function ey(n,e){var t=Object.assign({},e,{content:nT(e.content,[n])},e.ignoreAttributes?{}:JQ(n,e.plugins));return t.aria=Object.assign({},kr.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var YQ=function(){return"innerHTML"};function lh(n,e){n[YQ()]=e}function ty(n){var e=ll();return n===!0?e.className=xS:(e.className=eT,Kf(n)?e.appendChild(n):lh(e,n)),e}function ny(n,e){Kf(e.content)?(lh(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?lh(n,e.content):n.textContent=e.content)}function ah(n){var e=n.firstElementChild,t=Wu(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(QS)}),arrow:t.find(function(r){return r.classList.contains(xS)||r.classList.contains(eT)}),backdrop:t.find(function(r){return r.classList.contains(MQ)})}}function sT(n){var e=ll(),t=ll();t.className=CQ,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=ll();r.className=QS,r.setAttribute("data-state","hidden"),ny(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,o){var l=ah(e),a=l.box,u=l.content,f=l.arrow;o.theme?a.setAttribute("data-theme",o.theme):a.removeAttribute("data-theme"),typeof o.animation=="string"?a.setAttribute("data-animation",o.animation):a.removeAttribute("data-animation"),o.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?a.setAttribute("role",o.role):a.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&ny(u,n.props),o.arrow?f?s.arrow!==o.arrow&&(a.removeChild(f),a.appendChild(ty(o.arrow))):a.appendChild(ty(o.arrow)):f&&a.removeChild(f)}return{popper:e,onUpdate:i}}sT.$$tippy=!0;var XQ=1,ya=[],ld=[];function ZQ(n,e){var t=ey(n,Object.assign({},kr,iT(Xb(e)))),r,i,s,o=!1,l=!1,a=!1,u=!1,f,c,d,h=[],p=Jb(bt,t.interactiveDebounce),g,_=XQ++,b=null,v=NQ(t.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:_,reference:n,popper:ll(),popperInstance:b,props:t,state:E,plugins:v,clearDelayTimeouts:Ge,setProps:Xe,setContent:he,show:Mt,hide:qt,hideWithInteractivity:vr,enable:qe,disable:ne,unmount:Xn,destroy:Io};if(!t.render)return k;var N=t.render(k),C=N.popper,M=N.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+k.id,k.popper=C,n._tippy=k,C._tippy=k;var D=v.map(function(oe){return oe.fn(k)}),I=n.hasAttribute("aria-expanded");return Nt(),Me(),ie(),Ee("onCreate",[k]),t.showOnCreate&&Ue(),C.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",p)}),k;function z(){var oe=k.props.touch;return Array.isArray(oe)?oe:[oe,0]}function R(){return z()[0]==="hold"}function F(){var oe;return!!((oe=k.props.render)!=null&&oe.$$tippy)}function Z(){return g||n}function K(){var oe=Z().parentNode;return oe?zQ(oe):document}function J(){return ah(C)}function X(oe){return k.state.isMounted&&!k.state.isVisible||Rr.isTouch||f&&f.type==="focus"?0:id(k.props.delay,oe?0:1,kr.delay)}function ie(oe){oe===void 0&&(oe=!1),C.style.pointerEvents=k.props.interactive&&!oe?"":"none",C.style.zIndex=""+k.props.zIndex}function Ee(oe,We,xe){if(xe===void 0&&(xe=!0),D.forEach(function(vt){vt[oe]&&vt[oe].apply(vt,We)}),xe){var St;(St=k.props)[oe].apply(St,We)}}function Q(){var oe=k.props.aria;if(oe.content){var We="aria-"+oe.content,xe=C.id,St=Ys(k.props.triggerTarget||n);St.forEach(function(vt){var vn=vt.getAttribute(We);if(k.state.isVisible)vt.setAttribute(We,vn?vn+" "+xe:xe);else{var Zn=vn&&vn.replace(xe,"").trim();Zn?vt.setAttribute(We,Zn):vt.removeAttribute(We)}})}}function Me(){if(!(I||!k.props.aria.expanded)){var oe=Ys(k.props.triggerTarget||n);oe.forEach(function(We){k.props.interactive?We.setAttribute("aria-expanded",k.state.isVisible&&We===Z()?"true":"false"):We.removeAttribute("aria-expanded")})}}function ce(){K().removeEventListener("mousemove",p),ya=ya.filter(function(oe){return oe!==p})}function de(oe){if(!(Rr.isTouch&&(a||oe.type==="mousedown"))){var We=oe.composedPath&&oe.composedPath()[0]||oe.target;if(!(k.props.interactive&&Qb(C,We))){if(Ys(k.props.triggerTarget||n).some(function(xe){return Qb(xe,We)})){if(Rr.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else Ee("onClickOutside",[k,oe]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),l=!0,setTimeout(function(){l=!1}),k.state.isMounted||we())}}}function Te(){a=!0}function Oe(){a=!1}function B(){var oe=K();oe.addEventListener("mousedown",de,!0),oe.addEventListener("touchend",de,cs),oe.addEventListener("touchstart",Oe,cs),oe.addEventListener("touchmove",Te,cs)}function we(){var oe=K();oe.removeEventListener("mousedown",de,!0),oe.removeEventListener("touchend",de,cs),oe.removeEventListener("touchstart",Oe,cs),oe.removeEventListener("touchmove",Te,cs)}function x(oe,We){Ae(oe,function(){!k.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&We()})}function te(oe,We){Ae(oe,We)}function Ae(oe,We){var xe=J().box;function St(vt){vt.target===xe&&(od(xe,"remove",St),We())}if(oe===0)return We();od(xe,"remove",c),od(xe,"add",St),c=St}function it(oe,We,xe){xe===void 0&&(xe=!1);var St=Ys(k.props.triggerTarget||n);St.forEach(function(vt){vt.addEventListener(oe,We,xe),h.push({node:vt,eventType:oe,handler:We,options:xe})})}function Nt(){R()&&(it("touchstart",ze,{passive:!0}),it("touchend",ve,{passive:!0})),PQ(k.props.trigger).forEach(function(oe){if(oe!=="manual")switch(it(oe,ze),oe){case"mouseenter":it("mouseleave",ve);break;case"focus":it(UQ?"focusout":"blur",ke);break;case"focusin":it("focusout",ke);break}})}function Ft(){h.forEach(function(oe){var We=oe.node,xe=oe.eventType,St=oe.handler,vt=oe.options;We.removeEventListener(xe,St,vt)}),h=[]}function ze(oe){var We,xe=!1;if(!(!k.state.isEnabled||ue(oe)||l)){var St=((We=f)==null?void 0:We.type)==="focus";f=oe,g=oe.currentTarget,Me(),!k.state.isVisible&&IQ(oe)&&ya.forEach(function(vt){return vt(oe)}),oe.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||o)&&k.props.hideOnClick!==!1&&k.state.isVisible?xe=!0:Ue(oe),oe.type==="click"&&(o=!xe),xe&&!St&&Je(oe)}}function bt(oe){var We=oe.target,xe=Z().contains(We)||C.contains(We);if(!(oe.type==="mousemove"&&xe)){var St=fe().concat(C).map(function(vt){var vn,Zn=vt._tippy,Bs=(vn=Zn.popperInstance)==null?void 0:vn.state;return Bs?{popperRect:vt.getBoundingClientRect(),popperState:Bs,props:t}:null}).filter(Boolean);BQ(St,oe)&&(ce(),Je(oe))}}function ve(oe){var We=ue(oe)||k.props.trigger.indexOf("click")>=0&&o;if(!We){if(k.props.interactive){k.hideWithInteractivity(oe);return}Je(oe)}}function ke(oe){k.props.trigger.indexOf("focusin")<0&&oe.target!==Z()||k.props.interactive&&oe.relatedTarget&&C.contains(oe.relatedTarget)||Je(oe)}function ue(oe){return Rr.isTouch?R()!==oe.type.indexOf("touch")>=0:!1}function nt(){Qe();var oe=k.props,We=oe.popperOptions,xe=oe.placement,St=oe.offset,vt=oe.getReferenceClientRect,vn=oe.moveTransition,Zn=F()?ah(C).arrow:null,Bs=vt?{getBoundingClientRect:vt,contextElement:vt.contextElement||Z()}:n,pm={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(na){var Fs=na.state;if(F()){var aT=J(),Yf=aT.box;["placement","reference-hidden","escaped"].forEach(function(ra){ra==="placement"?Yf.setAttribute("data-placement",Fs.placement):Fs.attributes.popper["data-popper-"+ra]?Yf.setAttribute("data-"+ra,""):Yf.removeAttribute("data-"+ra)}),Fs.attributes.popper={}}}},is=[{name:"offset",options:{offset:St}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!vn}},pm];F()&&Zn&&is.push({name:"arrow",options:{element:Zn,padding:3}}),is.push.apply(is,(We==null?void 0:We.modifiers)||[]),k.popperInstance=OQ(Bs,C,Object.assign({},We,{placement:xe,onFirstUpdate:d,modifiers:is}))}function Qe(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function pe(){var oe=k.props.appendTo,We,xe=Z();k.props.interactive&&oe===tT||oe==="parent"?We=xe.parentNode:We=nT(oe,[xe]),We.contains(C)||We.appendChild(C),k.state.isMounted=!0,nt()}function fe(){return Wu(C.querySelectorAll("[data-tippy-root]"))}function Ue(oe){k.clearDelayTimeouts(),oe&&Ee("onTrigger",[k,oe]),B();var We=X(!0),xe=z(),St=xe[0],vt=xe[1];Rr.isTouch&&St==="hold"&&vt&&(We=vt),We?r=setTimeout(function(){k.show()},We):k.show()}function Je(oe){if(k.clearDelayTimeouts(),Ee("onUntrigger",[k,oe]),!k.state.isVisible){we();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(oe.type)>=0&&o)){var We=X(!1);We?i=setTimeout(function(){k.state.isVisible&&k.hide()},We):s=requestAnimationFrame(function(){k.hide()})}}function qe(){k.state.isEnabled=!0}function ne(){k.hide(),k.state.isEnabled=!1}function Ge(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Xe(oe){if(!k.state.isDestroyed){Ee("onBeforeUpdate",[k,oe]),Ft();var We=k.props,xe=ey(n,Object.assign({},We,Xb(oe),{ignoreAttributes:!0}));k.props=xe,Nt(),We.interactiveDebounce!==xe.interactiveDebounce&&(ce(),p=Jb(bt,xe.interactiveDebounce)),We.triggerTarget&&!xe.triggerTarget?Ys(We.triggerTarget).forEach(function(St){St.removeAttribute("aria-expanded")}):xe.triggerTarget&&n.removeAttribute("aria-expanded"),Me(),ie(),M&&M(We,xe),k.popperInstance&&(nt(),fe().forEach(function(St){requestAnimationFrame(St._tippy.popperInstance.forceUpdate)})),Ee("onAfterUpdate",[k,oe])}}function he(oe){k.setProps({content:oe})}function Mt(){var oe=k.state.isVisible,We=k.state.isDestroyed,xe=!k.state.isEnabled,St=Rr.isTouch&&!k.props.touch,vt=id(k.props.duration,0,kr.duration);if(!(oe||We||xe||St)&&!Z().hasAttribute("disabled")&&(Ee("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,F()&&(C.style.visibility="visible"),ie(),B(),k.state.isMounted||(C.style.transition="none"),F()){var vn=J(),Zn=vn.box,Bs=vn.content;sd([Zn,Bs],0)}d=function(){var is;if(!(!k.state.isVisible||u)){if(u=!0,C.offsetHeight,C.style.transition=k.props.moveTransition,F()&&k.props.animation){var Jf=J(),na=Jf.box,Fs=Jf.content;sd([na,Fs],vt),Zb([na,Fs],"visible")}Q(),Me(),Yb(ld,k),(is=k.popperInstance)==null||is.forceUpdate(),Ee("onMount",[k]),k.props.animation&&F()&&te(vt,function(){k.state.isShown=!0,Ee("onShown",[k])})}},pe()}}function qt(){var oe=!k.state.isVisible,We=k.state.isDestroyed,xe=!k.state.isEnabled,St=id(k.props.duration,1,kr.duration);if(!(oe||We||xe)&&(Ee("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,u=!1,o=!1,F()&&(C.style.visibility="hidden"),ce(),we(),ie(!0),F()){var vt=J(),vn=vt.box,Zn=vt.content;k.props.animation&&(sd([vn,Zn],St),Zb([vn,Zn],"hidden"))}Q(),Me(),k.props.animation?F()&&x(St,k.unmount):k.unmount()}}function vr(oe){K().addEventListener("mousemove",p),Yb(ya,p),p(oe)}function Xn(){k.state.isVisible&&k.hide(),k.state.isMounted&&(Qe(),fe().forEach(function(oe){oe._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),ld=ld.filter(function(oe){return oe!==k}),k.state.isMounted=!1,Ee("onHidden",[k]))}function Io(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),Ft(),delete n._tippy,k.state.isDestroyed=!0,Ee("onDestroy",[k]))}}function Ro(n,e){e===void 0&&(e={});var t=kr.plugins.concat(e.plugins||[]);VQ();var r=Object.assign({},e,{plugins:t}),i=LQ(n),s=i.reduce(function(o,l){var a=l&&ZQ(l,r);return a&&o.push(a),o},[]);return Kf(n)?s[0]:s}Ro.defaultProps=kr;Ro.setDefaultProps=KQ;Ro.currentInput=Rr;Object.assign({},WS,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Ro.setDefaultProps({render:sT});class QQ{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:l,state:a,from:u,to:f})=>{const{doc:c,selection:d}=a,{empty:h}=d,p=!c.textBetween(u,f).length&&Vf(a.selection),g=this.element.contains(document.activeElement);return!(!(l.hasFocus()||g)||h||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var a;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(l.relatedTarget))||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,a)=>{const u=!(a!=null&&a.selection.eq(l.state.selection)),f=!(a!=null&&a.doc.eq(l.state.doc));!u&&!f||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,u,f,a)},this.updateDelay))},this.updateHandler=(l,a,u,f)=>{var c,d,h;const{state:p,composing:g}=l,{selection:_}=p;if(g||!a&&!u)return;this.createTooltip();const{ranges:v}=_,E=Math.min(...v.map(C=>C.$from.pos)),k=Math.max(...v.map(C=>C.$to.pos));if(!((c=this.shouldShow)===null||c===void 0?void 0:c.call(this,{editor:this.editor,view:l,state:p,oldState:f,from:E,to:k}))){this.hide();return}(d=this.tippy)===null||d===void 0||d.setProps({getReferenceClientRect:((h=this.tippyOptions)===null||h===void 0?void 0:h.getReferenceClientRect)||(()=>{if(MS(p.selection)){let C=l.nodeDOM(E);const M=C.dataset.nodeViewWrapper?C:C.querySelector("[data-node-view-wrapper]");if(M&&(C=M.firstChild),C)return C.getBoundingClientRect()}return Xp(l,E,k)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Ro(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,t);return}const s=!(t!=null&&t.selection.eq(e.state.selection)),o=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,s,o,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const xQ=n=>new cn({key:typeof n.pluginKey=="string"?new Jn(n.pluginKey):n.pluginKey,view:e=>new QQ({view:e,...n})}),ex=Yn.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[xQ({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class tx{constructor({editor:e,element:t,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:o,state:l})=>{const{selection:a}=l,{$anchor:u,empty:f}=a,c=u.depth===1,d=u.parent.isTextblock&&!u.parent.type.spec.code&&!u.parent.textContent;return!(!o.hasFocus()||!f||!c||!d||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var l;if(this.preventHide){this.preventHide=!1;return}o!=null&&o.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(o.relatedTarget))||this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.editor=e,this.element=t,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Ro(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var r,i,s;const{state:o}=e,{doc:l,selection:a}=o,{from:u,to:f}=a;if(t&&t.doc.eq(l)&&t.selection.eq(a))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:t}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>Xp(e,u,f))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const nx=n=>new cn({key:typeof n.pluginKey=="string"?new Jn(n.pluginKey):n.pluginKey,view:e=>new tx({view:e,...n})}),rx=Yn.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[nx({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});function ix(n){let e,t,r,i,s;return{c(){e=T("button"),t=T("i"),this.h()},l(o){e=A(o,"BUTTON",{class:!0});var l=O(e);t=A(l,"I",{class:!0}),O(t).forEach(m),l.forEach(m),this.h()},h(){y(t,"class",r="fas fa-"+n[0]+" svelte-1gosc3l"),y(e,"class","svelte-1gosc3l"),ee(e,"active",n[1])},m(o,l){$(o,e,l),w(e,t),i||(s=re(e,"click",n[2]),i=!0)},p(o,[l]){l&1&&r!==(r="fas fa-"+o[0]+" svelte-1gosc3l")&&y(t,"class",r),l&2&&ee(e,"active",o[1])},i:_e,o:_e,d(o){o&&m(e),i=!1,s()}}}function sx(n,e,t){let{icon:r}=e,{active:i=!1}=e;function s(o){mt.call(this,n,o)}return n.$$set=o=>{"icon"in o&&t(0,r=o.icon),"active"in o&&t(1,i=o.active)},[r,i,s]}class ii extends Ie{constructor(e){super(),$e(this,e,sx,ix,Le,{icon:0,active:1})}}function ry(n){let e,t,r,i;return t=new Ze({props:{icon:"uil:image-upload"}}),{c(){e=T("button"),W(t.$$.fragment),this.h()},l(s){e=A(s,"BUTTON",{class:!0});var o=O(e);Y(t.$$.fragment,o),o.forEach(m),this.h()},h(){y(e,"class","primo-reset image-editor svelte-hhlltr")},m(s,o){$(s,e,o),q(t,e,null),n[17](e),i=!0},p:_e,i(s){i||(S(t.$$.fragment,s),r||Yt(()=>{r=qr(e,Gr,{duration:100}),r.start()}),i=!0)},o(s){P(t.$$.fragment,s),i=!1},d(s){s&&m(e),G(t),n[17](null)}}}function iy(n){let e,t,r,i,s,o,l,a,u,f,c,d,h;return r=new Ze({props:{icon:"ic:round-close"}}),o=new Ze({props:{icon:"heroicons-solid:external-link"}}),{c(){e=T("div"),t=T("button"),W(r.$$.fragment),i=j(),s=T("button"),W(o.$$.fragment),l=j(),a=T("form"),u=T("input"),this.h()},l(p){e=A(p,"DIV",{class:!0});var g=O(e);t=A(g,"BUTTON",{class:!0});var _=O(t);Y(r.$$.fragment,_),_.forEach(m),i=V(g),s=A(g,"BUTTON",{class:!0,"data-link":!0});var b=O(s);Y(o.$$.fragment,b),b.forEach(m),l=V(g),a=A(g,"FORM",{});var v=O(a);u=A(v,"INPUT",{type:!0,class:!0}),v.forEach(m),g.forEach(m),this.h()},h(){y(t,"class","svelte-hhlltr"),y(s,"class","icon svelte-hhlltr"),y(s,"data-link",""),y(u,"type","text"),y(u,"class","svelte-hhlltr"),y(e,"class","primo-reset link-editor svelte-hhlltr")},m(p,g){$(p,e,g),w(e,t),q(r,t,null),w(e,i),w(e,s),q(o,s,null),w(e,l),w(e,a),w(a,u),n[19](e),c=!0,d||(h=re(t,"click",n[18]),d=!0)},p:_e,i(p){c||(S(r.$$.fragment,p),S(o.$$.fragment,p),f||Yt(()=>{f=qr(e,Gr,{duration:100}),f.start()}),c=!0)},o(p){P(r.$$.fragment,p),P(o.$$.fragment,p),c=!1},d(p){p&&m(e),G(r),G(o),n[19](null),d=!1,h()}}}function sy(n){let e,t,r,i;return{c(){e=T("pre"),t=H("    "),r=new fh(!1),i=H(`
  `),this.h()},l(s){e=A(s,"PRE",{class:!0});var o=O(e);t=U(o,"    "),r=ch(o,!1),i=U(o,`
  `),o.forEach(m),this.h()},h(){r.a=i,y(e,"class","svelte-hhlltr")},m(s,o){$(s,e,o),w(e,t),r.m(n[2],e),w(e,i)},p(s,o){o[0]&4&&r.p(s[2])},d(s){s&&m(e)}}}function oy(n){let e,t,r,i,s,o,l,a,u,f;return e=new ii({props:{icon:"heading"}}),e.$on("click",n[21]),r=new ii({props:{icon:"code"}}),r.$on("click",n[22]),s=new ii({props:{icon:"quote-left"}}),s.$on("click",n[23]),l=new ii({props:{icon:"list-ul"}}),l.$on("click",n[24]),u=new ii({props:{icon:"list-ol"}}),u.$on("click",n[25]),{c(){W(e.$$.fragment),t=j(),W(r.$$.fragment),i=j(),W(s.$$.fragment),o=j(),W(l.$$.fragment),a=j(),W(u.$$.fragment)},l(c){Y(e.$$.fragment,c),t=V(c),Y(r.$$.fragment,c),i=V(c),Y(s.$$.fragment,c),o=V(c),Y(l.$$.fragment,c),a=V(c),Y(u.$$.fragment,c)},m(c,d){q(e,c,d),$(c,t,d),q(r,c,d),$(c,i,d),q(s,c,d),$(c,o,d),q(l,c,d),$(c,a,d),q(u,c,d),f=!0},p:_e,i(c){f||(S(e.$$.fragment,c),S(r.$$.fragment,c),S(s.$$.fragment,c),S(l.$$.fragment,c),S(u.$$.fragment,c),f=!0)},o(c){P(e.$$.fragment,c),P(r.$$.fragment,c),P(s.$$.fragment,c),P(l.$$.fragment,c),P(u.$$.fragment,c),f=!1},d(c){G(e,c),c&&m(t),G(r,c),c&&m(i),G(s,c),c&&m(o),G(l,c),c&&m(a),G(u,c)}}}function ly(n){let e,t,r,i,s,o,l,a;return e=new ii({props:{icon:"link"}}),e.$on("click",n[27]),r=new ii({props:{icon:"bold",active:n[8].isActive("bold")}}),r.$on("click",n[28]),s=new ii({props:{icon:"italic",active:n[8].isActive("italic")}}),s.$on("click",n[29]),l=new ii({props:{icon:"highlighter",active:n[8].isActive("highlight")}}),l.$on("click",n[30]),{c(){W(e.$$.fragment),t=j(),W(r.$$.fragment),i=j(),W(s.$$.fragment),o=j(),W(l.$$.fragment)},l(u){Y(e.$$.fragment,u),t=V(u),Y(r.$$.fragment,u),i=V(u),Y(s.$$.fragment,u),o=V(u),Y(l.$$.fragment,u)},m(u,f){q(e,u,f),$(u,t,f),q(r,u,f),$(u,i,f),q(s,u,f),$(u,o,f),q(l,u,f),a=!0},p(u,f){const c={};f[0]&256&&(c.active=u[8].isActive("bold")),r.$set(c);const d={};f[0]&256&&(d.active=u[8].isActive("italic")),s.$set(d);const h={};f[0]&256&&(h.active=u[8].isActive("highlight")),l.$set(h)},i(u){a||(S(e.$$.fragment,u),S(r.$$.fragment,u),S(s.$$.fragment,u),S(l.$$.fragment,u),a=!0)},o(u){P(e.$$.fragment,u),P(r.$$.fragment,u),P(s.$$.fragment,u),P(l.$$.fragment,u),a=!1},d(u){G(e,u),u&&m(t),G(r,u),u&&m(i),G(s,u),u&&m(o),G(l,u)}}}function ox(n){let e,t,r,i,s,o,l,a,u,f=n[5]&&ry(n),c=n[7]&&iy(n),d=n[2]&&sy(n),h=n[8]&&oy(n),p=n[8]&&ly(n);return{c(){f&&f.c(),e=j(),c&&c.c(),t=j(),r=T("div"),i=j(),d&&d.c(),s=j(),o=T("div"),h&&h.c(),l=j(),a=T("div"),p&&p.c(),this.h()},l(g){f&&f.l(g),e=V(g),c&&c.l(g),t=V(g),r=A(g,"DIV",{class:!0}),O(r).forEach(m),i=V(g),d&&d.l(g),s=V(g),o=A(g,"DIV",{class:!0});var _=O(o);h&&h.l(_),_.forEach(m),l=V(g),a=A(g,"DIV",{class:!0});var b=O(a);p&&p.l(b),b.forEach(m),this.h()},h(){y(r,"class","node svelte-hhlltr"),y(o,"class","menu floating-menu primo-reset svelte-hhlltr"),y(a,"class","menu bubble-menu primo-reset svelte-hhlltr")},m(g,_){f&&f.m(g,_),$(g,e,_),c&&c.m(g,_),$(g,t,_),$(g,r,_),n[20](r),$(g,i,_),d&&d.m(g,_),$(g,s,_),$(g,o,_),h&&h.m(o,null),n[26](o),$(g,l,_),$(g,a,_),p&&p.m(a,null),n[31](a),u=!0},p(g,_){g[5]?f?(f.p(g,_),_[0]&32&&S(f,1)):(f=ry(g),f.c(),S(f,1),f.m(e.parentNode,e)):f&&(le(),P(f,1,1,()=>{f=null}),ae()),g[7]?c?(c.p(g,_),_[0]&128&&S(c,1)):(c=iy(g),c.c(),S(c,1),c.m(t.parentNode,t)):c&&(le(),P(c,1,1,()=>{c=null}),ae()),g[2]?d?d.p(g,_):(d=sy(g),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g[8]?h?(h.p(g,_),_[0]&256&&S(h,1)):(h=oy(g),h.c(),S(h,1),h.m(o,null)):h&&(le(),P(h,1,1,()=>{h=null}),ae()),g[8]?p?(p.p(g,_),_[0]&256&&S(p,1)):(p=ly(g),p.c(),S(p,1),p.m(a,null)):p&&(le(),P(p,1,1,()=>{p=null}),ae())},i(g){u||(S(f),S(c),S(h),S(p),u=!0)},o(g){P(f),P(c),P(h),P(p),u=!1},d(g){f&&f.d(g),g&&m(e),c&&c.d(g),g&&m(t),g&&m(r),n[20](null),g&&m(i),d&&d.d(g),g&&m(s),g&&m(o),h&&h.d(),n[26](null),g&&m(l),g&&m(a),p&&p.d(),n[31](null)}}}let oT,lT;Tr(()=>Promise.resolve().then(()=>XY),void 0,import.meta.url).then(n=>{oT=n.Editor,lT=n.Extension});function lx(n,e,t){let r,i,s,o,l;me(n,vi,ze=>t(37,s=ze)),me(n,gr,ze=>t(15,o=ze)),me(n,Co,ze=>t(16,l=ze));const a=Ct();let{block:u}=e,{primo_symbol:f=null}=e,c,d="",h="",p="";async function g(ze,bt){L.set(R,ze,bt),await Zw(u,{...u.content,[o]:R})}let _,b,v,E=!1,k,N=!1,C;async function M({key:ze,element:bt}){const ve=bt.innerHTML.trim();bt.innerHTML="";const ke=new oT({content:ve,element:bt,extensions:[XX,wZ.configure({HTMLAttributes:{class:"link"},openOnClick:!1}),xX.configure({multicolor:!1}),rx.configure({element:_}),ex.configure({element:b}),lT.create({onFocus(){t(8,C=ke),a("lock")},async onBlur(){a("unlock");const ue=ke.getHTML();g(ze,{html:ue,markdown:await m6(ue)})}})]})}let D="";async function I(ze){if(d!==ze.html||h!==ze.css||p!==ze.js){d=ze.html,h=ze.css,p=ze.js;const bt=await vf({component:{...ze,data:i},buildStatic:!1});if(bt.error)t(2,D=bt.error);else if(bt.js){t(2,D=""),Z&&Z.$destroy();const ve=new Blob([bt.js],{type:"text/javascript"}),ke=URL.createObjectURL(ve),{default:ue}=await Tr(()=>import(ke),[],import.meta.url);Z=new ue({target:c,props:i}),z()}}}async function z(){if(!c)return;const ze=Array.from(c.querySelectorAll("*")).filter(fe=>{var qe;if(["STYLE","TITLE"].includes(fe.tagName))return!1;const[Ue]=Array.from(fe.childNodes).filter(ne=>(ne==null?void 0:ne.nodeName)==="#text"&&ne.nodeValue.trim().length>0);if(((qe=fe==null?void 0:fe.innerHTML)==null?void 0:qe.trim())||""||Ue||fe.tagName==="IMG"||fe.tagName==="A")return!0}),bt=new Set;for(const[fe,Ue]of Object.entries(i)){const Je=ue(Ue);if(["TEXT","LINK","IMAGE","MARKDOWN"].includes(Je))ve({key:fe,value:Ue,type:Je});else if(Je==="REPEATER")for(const[qe,ne]of Object.entries(Ue))for(const[Ge,Xe]of Object.entries(ne))ve({key:`${fe}[${qe}].${Ge}`,value:Xe,type:ue(Xe)});else Je==="GROUP"&&Object.entries(Ue).forEach(([qe,ne])=>{ve({key:`${fe}.${qe}`,value:ne,type:ue(ne)})})}function ve({key:fe,value:Ue,type:Je}){for(const qe of ze){if(bt.has(qe))continue;if(ke({key:fe,value:Ue,type:Je,element:qe})){bt.add(qe);break}}}function ke({key:fe,value:Ue,type:Je,element:qe}){var Ge,Xe,he,Mt,qt,vr;if(Ue===""||!Ue)return!1;if(qe.dataset.key===fe)return Je==="MARKDOWN"?M({element:qe,key:fe}):Je==="IMAGE"?nt({element:qe,key:fe}):Je==="LINK"?Qe({element:qe,key:fe,url:Ue.url}):pe({element:qe,key:fe}),!0;if(Je==="LINK"&&typeof qe.href=="string"){const Xn=((Ge=Ue.url)==null?void 0:Ge.replace(/\/$/,""))===((Xe=qe.href)==null?void 0:Xe.replace(/\/$/,"")),Io=window.location.origin+((he=Ue.url)==null?void 0:he.replace(/\/$/,""))===((Mt=qe.href)==null?void 0:Mt.replace(/\/$/,""));if((Xn||Io)&&Ue.label===qe.innerText)return Qe({element:qe,key:fe,url:Ue.url}),!0}else if(Je==="IMAGE"){if(Ue.alt===qe.alt&&Ue.url===qe.src)return nt({element:qe,key:fe}),!0}else if(Je==="MARKDOWN"){if(((qt=qe.innerHTML)==null?void 0:qt.trim())===Ue.html)return M({element:qe,key:fe}),!0}else{const Xn=(vr=qe.innerText)==null?void 0:vr.trim();return typeof Ue=="string"&&Ue.trim()===Xn?(pe({element:qe,key:fe}),!0):!1}}function ue(fe){const Ue=typeof fe=="object"&&Object.hasOwn(fe,"url")&&Object.hasOwn(fe,"label"),Je=typeof fe=="object"&&Object.hasOwn(fe,"url")&&Object.hasOwn(fe,"alt"),qe=typeof fe=="object"&&Object.hasOwn(fe,"html")&&Object.hasOwn(fe,"markdown"),ne=Array.isArray(fe),Ge=typeof fe=="object"&&fe!==null;let Xe="TEXT";return Ue?Xe="LINK":Je?Xe="IMAGE":qe?Xe="MARKDOWN":ne?Xe="REPEATER":Ge&&(Xe="GROUP"),Xe}async function nt({element:fe,key:Ue=""}){let Je;fe.setAttribute("data-key",Ue),fe.onmouseover=async qe=>{t(5,E=!0),await Li(),Je=fe.getBoundingClientRect(),t(1,v.style.left=`${Je.left}px`,v),t(1,v.style.top=`${Je.top}px`,v),t(1,v.style.width=`${Je.width}px`,v),t(1,v.style.height=`${Je.height}px`,v),t(1,v.style.borderRadius=getComputedStyle(fe).borderRadius,v),t(1,v.onmouseleave=ne=>{(ne.x>=Math.floor(Je.right)||ne.y>=Math.floor(Je.bottom)||ne.x<=Math.floor(Je.left)||ne.y<=Math.floor(Je.top))&&t(5,E=!1)},v),t(1,v.onclick=()=>{nr.show("DIALOG",{component:"IMAGE",onSubmit:({url:ne,alt:Ge})=>{fe.src=ne,g(Ue,{url:ne,alt:Ge}),t(5,E=!1),nr.hide()},props:{value:{url:fe.src,alt:fe.alt}}})},v)}}async function Qe({element:fe,key:Ue,url:Je}){fe.style.outline="0",fe.setAttribute("data-key",Ue),fe.contentEditable=!0;let qe=Je,ne;fe.onkeydown=Ge=>{Ge.code==="Enter"&&(Ge.preventDefault(),Ge.target.blur(),t(7,N=!1),g(Ue,{url:qe,label:fe.innerText}))},fe.addEventListener("click",async()=>{ne=fe.getBoundingClientRect(),t(7,N=!0),await Li(),t(6,k.style.left=`${ne.left}px`,k),t(6,k.style.top=`${ne.top+ne.height}px`,k);const Ge=k.querySelector("input");Ge.value=Je;const Xe=k.querySelector("form");Xe.onsubmit=Mt=>{Mt.preventDefault(),fe.href=Ge.value,qe=Ge.value,g(Ue,{url:qe,label:fe.innerText}),Qe({element:fe,key:Ue,url:qe}),t(7,N=!1)};const he=k.querySelector("button[data-link]");he.onclick=()=>{window.open(fe.href,"_blank")}})}async function pe({element:fe,key:Ue=""}){fe.style.outline="0",fe.setAttribute("data-key",Ue),fe.onkeydown=Je=>{Je.code==="Enter"&&(Je.preventDefault(),Je.target.blur())},fe.onblur=Je=>{a("unlock"),g(Ue,Je.target.innerText)},fe.onfocus=()=>{a("lock")},fe.contentEditable=!0}}let R;async function F(ze){if(Z)D?(t(2,D=null),I(r.code)):(Z.$set(ze),setTimeout(z,200),R=L.cloneDeep(ze));else return}let Z,K,J;K=new MutationObserver(()=>{a("mount"),X()}),J=new ResizeObserver(ze=>{a("resize")}),Ml(()=>{K==null||K.disconnect(),J==null||J.disconnect()});async function X(){const{pathname:ze,origin:bt}=window.location,[ve]=ze.split("/").slice(1),ke=`${bt}/${ve}`;c.querySelectorAll("a").forEach(ue=>{if(ue.onclick=Qe=>{Qe.preventDefault()},window.location.host===ue.host){if(ue.pathname==="/"){ue.setAttribute("href",ke);return}const[Qe]=ue.pathname.split("/").slice(1);L.find(s,["id",Qe])&&ue.setAttribute("href",`${ke}/${Qe}`)}else nt(ue);function nt(Qe){Qe.dataset.key||Qe.addEventListener("click",()=>{window.open(Qe.href,"_blank")})}})}function ie(){t(5,E=!1),t(7,N=!1)}function Ee(ze){se[ze?"unshift":"push"](()=>{v=ze,t(1,v)})}const Q=()=>t(7,N=!1);function Me(ze){se[ze?"unshift":"push"](()=>{k=ze,t(6,k)})}function ce(ze){se[ze?"unshift":"push"](()=>{c=ze,t(0,c)})}const de=()=>C.chain().focus().toggleHeading({level:1}).run(),Te=()=>C.chain().focus().toggleCodeBlock().run(),Oe=()=>C.chain().focus().toggleBlockquote().run(),B=()=>C.chain().focus().toggleBulletList().run(),we=()=>C.chain().focus().toggleOrderedList().run();function x(ze){se[ze?"unshift":"push"](()=>{_=ze,t(3,_)})}const te=()=>nr.show("DIALOG",{component:"LINK",onSubmit:ze=>{C.chain().focus().setLink({href:ze}).run(),nr.hide()}}),Ae=()=>C.chain().focus().toggleBold().run(),it=()=>C.chain().focus().toggleItalic().run(),Nt=()=>C.chain().focus().toggleHighlight().run();function Ft(ze){se[ze?"unshift":"push"](()=>{b=ze,t(4,b)})}return n.$$set=ze=>{"block"in ze&&t(9,u=ze.block),"primo_symbol"in ze&&t(10,f=ze.primo_symbol)},n.$$.update=()=>{n.$$.dirty[0]&67072&&t(13,r=f||l.find(ze=>ze.id===u.symbol)),n.$$.dirty[0]&41472&&t(14,i=wd({component:u,symbol:r,loc:o})),n.$$.dirty[0]&8193&&c&&I(r.code),n.$$.dirty[0]&16384&&i&&(R=L.cloneDeep(i)),n.$$.dirty[0]&16384&&F(i),n.$$.dirty[0]&6145&&c&&(K.observe(c,{childList:!0}),J.observe(c)),n.$$.dirty[0]&4&&D&&a("mount"),n.$$.dirty[0]&3&&c&&(c.closest("#page").addEventListener("scroll",ie),c.closest("body").addEventListener("mouseover",ze=>{g6(ze,v)&&t(5,E=!1)}))},[c,v,D,_,b,E,k,N,C,u,f,K,J,r,i,o,l,Ee,Q,Me,ce,de,Te,Oe,B,we,x,te,Ae,it,Nt,Ft]}class cee extends Ie{constructor(e){super(),$e(this,e,lx,ox,Le,{block:9,primo_symbol:10},null,[-1,-1])}}export{gx as $,Vl as A,L as B,ds as C,Co as D,_x as E,qa as F,si as G,JW as H,_T as I,see as J,Ax as K,SW as L,hH as M,dU as N,kU as O,rW as P,hW as Q,$o as R,a6 as S,kx as T,wx as U,Lx as V,hh as W,yf as X,z_ as Y,Ed as Z,pn as _,vx as a,Ex as a0,zw as a1,cp as a2,jw as a3,ew as a4,gt as a5,bf as a6,Ua as a7,vf as a8,Gw as a9,tq as aA,HE as aB,Op as aC,UE as aD,QW as aE,WE as aF,Wx as aG,oee as aH,eee as aI,LK as aJ,Ui as aK,au as aL,yx as aM,Sg as aN,Sx as aa,xx as ab,y6 as ac,cee as ad,Xa as ae,lee as af,Xx as ag,aee as ah,Gx as ai,Yx as aj,Jx as ak,sq as al,Kx as am,KE as an,uee as ao,Md as ap,xW as aq,nee as ar,nq as as,iee as at,ree as au,qx as av,Zx as aw,eq as ax,Qx as ay,tee as az,Nx as b,bn as c,Px as d,Mx as e,Er as f,mx as g,qw as h,hp as i,dp as j,xt as k,gr as l,Hi as m,Fw as n,nr as o,Ox as p,Cx as q,bx as r,Lw as s,Fa as t,$w as u,Tx as v,Cs as w,xs as x,Rx as y,Fl as z};
//# sourceMappingURL=Page.svelte_svelte_type_style_lang.5ee686e0.js.map
